(function(){"use strict";var t={4547:function(t,e,s){var r=s(144),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",[s("v-container",[s("v-row",[s("v-col",[s("h1",[t._v("Flotten")])])],1),s("v-divider",{staticClass:"mb-5"}),s("v-row",[t._l(t.users,(function(e){return s("v-col",{key:e.id,attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[s("gn-user",{attrs:{user:e,type:e.type,deleteUser:t.deleteUser}})],1)})),s("v-col",{attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[s("gn-add-fleet",{attrs:{add:t.addUser}})],1)],2),s("v-row",{staticClass:"mt-5"},[s("v-col",{attrs:{cols:"6",md:"2"}},[s("v-text-field",{attrs:{type:"Number",label:"Anzahl Ticks"},model:{value:t.ticks,callback:function(e){t.ticks=e},expression:"ticks"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-btn",{on:{click:t.simulate}},[t._v("Simulate")])],1)],1),s("v-divider",{staticClass:"mt-5"}),s("gn-combat-results",{attrs:{results:t.results}}),s("v-divider",{staticClass:"mb-5"})],1)],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}]},[s("h1",{staticClass:"mt-5"},[t._v("Übersicht")]),s("v-divider"),s("gn-combat-result-overview",{attrs:{results:t.results}}),t._l(t.results,(function(e,r){return s("div",{key:r},[0==e.mode?s("h1",{staticClass:"mt-5"},[t._v("Tick "+t._s(e.tick))]):t._e(),e.mode>0?s("h1",{staticClass:"mt-5"},[t._v("Vortick "+t._s(e.mode))]):t._e(),s("v-divider"),s("gn-combat-result",{attrs:{result:e.response}})],1)}))],2)},l=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}]},[s("v-card",{staticClass:"gn-overview"},[s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[t._v("Verteidiger")]),s("th",[t._v("Vorher")]),s("th",[t._v("Nachher")]),s("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return s("tr",{key:"dShip"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.ORB,(function(e){return s("tr",{key:"dOrb"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.EXEN,(function(e){return s("tr",{key:"dExe"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getExenBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getExenAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getExenLost(e.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"dRes"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getDefenderCosts(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumDefenderCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Bergungsressourcen")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"dBRes"+e.ID+"1"},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getDefenderBR(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumDefenderBR())))])]),s("tr",[s("td",[t._v(t._s(t.getSumDefenderProfit()>=0?"Gewinn:":"Verlust:"))]),s("td",[t._v(t._s(t.format(t.getSumDefenderProfit())))])])],2)])],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[t._v("Angreifer")]),s("th",[t._v("Vorher")]),s("th",[t._v("Nachher")]),s("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return s("tr",{key:"aShips"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getAttackerBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getAttackerAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getAttackerLost(e.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"aRes"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getAttackerCosts(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumAttackerCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Exen")])]),t._l(t.EXEN,(function(e){return s("tr",{key:"aExe"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getAttackerExenStolen(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumAttackerExenStolen())))])]),s("tr",[s("td",[t._v("Kosten pro Exe:")]),s("td",[t._v(t._s(t.format(t.getAttackerCostsPerExe())))])])],2)])],1)],1)],1)],1)],1)],1)},i=[],u=JSON.parse('{"uo":{"JA":{"ID":"JA","NAME":"Jäger","SHORT":"JÄ"},"BO":{"ID":"BO","NAME":"Bomber","SHORT":"BO"},"FR":{"ID":"FR","NAME":"Fregatte","SHORT":"FR"},"ZE":{"ID":"ZE","NAME":"Zerstörer","SHORT":"ZE"},"KR":{"ID":"KR","NAME":"Kreuzer","SHORT":"KR"},"SS":{"ID":"SS","NAME":"Schlachtschiff","SHORT":"SS"},"TR":{"ID":"TR","NAME":"Trägerschiff","SHORT":"TR"},"CL":{"ID":"CL","NAME":"Kaperschiff","SHORT":"CL"},"CA":{"ID":"CA","NAME":"Schutzschiff","SHORT":"CA"}},"nd":{"LO":{"ID":"LO","NAME":"Rubium","SHORT":"LO"},"LR":{"ID":"LR","NAME":"Pulsar","SHORT":"LR","PRETICKS":1},"MR":{"ID":"MR","NAME":"Coon","SHORT":"MR","PRETICKS":1},"SR":{"ID":"SR","NAME":"Centurion","SHORT":"SR","PRETICKS":2},"AJ":{"ID":"AJ","NAME":"Abfangjäger","SHORT":"AJ"}},"e7":{"metal":{"ID":"metal","SHORT":"M","NAME":"Metall Exen"},"crystal":{"ID":"crystal","SHORT":"K","NAME":"Kristall Exen"}},"rP":{"metal":{"ID":"metal","NAME":"Metall"},"crystal":{"ID":"crystal","NAME":"Kristall"}},"nN":{"jaeger":"JA","jäger":"JA","jä":"JA","leo":"JA","bomber":"BO","bo":"BO","aquilae":"BO","fregatte":"FR","fregatten":"FR","fr":"FR","fornax":"FR","zerstörer":"ZE","zerstoerer":"ZE","ze":"ZE","draco":"ZE","kreuzer":"KR","kr":"KR","goron":"KR","schlachtschiff":"SS","schlachtschiffe":"SS","schlachter":"SS","ss":"SS","pentalin":"SS","trägerschiff":"TR","trägerschiffe":"TR","träger":"TR","traegerschiff":"TR","traegerschiffe":"TR","traeger":"TR","tr":"TR","zenit":"TR","kaperschiff":"CL","kaperschiffe":"CL","cl":"CL","cleptor":"CL","kleptoren":"CL","schutzschiff":"CA","schutzschiffe":"CA","ca":"CA","cancri":"CA","cancris":"CA","rubium":"LO","lo":"LO","pulsar":"LR","lr":"LR","coon":"MR","mr":"MR","centurion":"SR","sr":"SR","horus":"AJ","aj":"AJ","m-extraktoren":"metal","k-extraktoren":"crystal"}}'),f={name:"GnCombatResultOverview",props:{results:function(){return{type:Array,default:[]}}},computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7},RESOURCES:function(){return u.rP},total:function(){let t=this,e=[],s={target:{name:"Verteidiger",extractors:{before:{},after:{},stolen:{}},fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}}}]},resources:{salvaged:{}}},attackers:[{name:"Angreifer",fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}},extractors:{stolen:{}}}]}}]};for(let r=0;r<this.results.length;r++){let a=this.results[r].response.data.attributes;a.target&&(0==r&&(Object.keys(u.e7).forEach((t=>{s.target.extractors.before[t]=a.target.extractors.before[t]})),a.target.fleets.before.forEach((e=>{Object.keys(e.units).forEach((r=>{t.add(s.target.fleets.before[0].units,r,e.units[r])}))}))),a.target.fleets.after.forEach((e=>{Object.keys(e.losses).forEach((r=>{t.add(s.target.fleets.after[0].losses,r,e.losses[r])})),Object.keys(e.destroyed).forEach((r=>{t.add(s.target.fleets.after[0].destroyed,r,e.destroyed[r])})),Object.keys(u.rP).forEach((r=>{t.add(s.target.fleets.after[0].resources.cost,r,e.resources.cost[r])}))})),Object.keys(u.e7).forEach((e=>{s.target.extractors.after[e]=a.target.extractors.after[e],t.add(s.target.extractors.stolen,e,a.target.extractors.stolen[e])})),Object.keys(u.rP).forEach((e=>{t.add(s.target.resources.salvaged,e,a.target.resources.salvaged[e])}))),a.defenders&&(a.defenders.forEach((r=>{let a=e.find((t=>t.id==r.name));a||(a={id:r.name,fleets:[]},e.push(a)),r.fleets.before.forEach((e=>{a.fleets.find((t=>t==e.name))||(a.fleets.push(e.name),Object.keys(e.units).forEach((r=>{t.add(s.target.fleets.before[0].units,r,e.units[r])})))}))})),a.defenders.forEach((e=>{e.fleets.after.forEach((e=>{Object.keys(e.losses).forEach((r=>{t.add(s.target.fleets.after[0].losses,r,e.losses[r])})),Object.keys(e.destroyed).forEach((r=>{t.add(s.target.fleets.after[0].destroyed,r,e.destroyed[r])})),Object.keys(u.rP).forEach((r=>{t.add(s.target.resources.salvaged,r,e.resources.salvaged[r]),t.add(s.target.fleets.after[0].resources.cost,r,e.resources.cost[r])}))}))}))),a.attackers&&(a.attackers.forEach((r=>{let a=e.find((t=>t.id==r.name));a||(a={id:r.name,fleets:[]},e.push(a)),r.fleets.before.forEach((e=>{a.fleets.find((t=>t==e.name))||(a.fleets.push(e.name),Object.keys(e.units).forEach((r=>{t.add(s.attackers[0].fleets.before[0].units,r,e.units[r])})))}))})),a.attackers.forEach((e=>{e.fleets.after.forEach((e=>{Object.keys(e.losses).forEach((r=>{t.add(s.attackers[0].fleets.after[0].losses,r,e.losses[r])})),Object.keys(e.destroyed).forEach((r=>{t.add(s.attackers[0].fleets.after[0].destroyed,r,e.destroyed[r])})),Object.keys(u.rP).forEach((r=>{t.add(s.attackers[0].fleets.after[0].resources.cost,r,e.resources.cost[r])})),Object.keys(u.e7).forEach((r=>{t.add(s.attackers[0].fleets.after[0].extractors.stolen,r,e.extractors.stolen[r])}))}))})))}return s}},methods:{format(t){return Number(t).toLocaleString()},getExenBefore(t){return this.total.target.extractors.before[t]?this.total.target.extractors.before[t]:0},getExenAfter(t){return this.total.target.extractors.after[t]?this.total.target.extractors.after[t]:0},getExenLost(t){return this.total.target.extractors.stolen[t]?this.total.target.extractors.stolen[t]:0},getDefenderBefore(t){return this.total.target.fleets.before[0].units[t]?this.total.target.fleets.before[0].units[t]:0},getDefenderAfter(t){return this.getDefenderBefore(t)-this.getDefenderLost(t)},getDefenderLost(t){return this.total.target.fleets.after[0].losses[t]?this.total.target.fleets.after[0].losses[t]:0},getDefenderCosts(t){return this.total.target.fleets.after[0].resources.cost[t]?this.total.target.fleets.after[0].resources.cost[t]:0},getSumDefenderCosts(){let t=this,e=0;return Object.keys(u.rP).forEach((s=>{e+=t.total.target.fleets.after[0].resources.cost[s]?t.total.target.fleets.after[0].resources.cost[s]:0})),e},getDefenderBR(t){return this.total.target.resources.salvaged[t]?this.total.target.resources.salvaged[t]:0},getSumDefenderBR(){let t=this,e=0;return Object.keys(u.rP).forEach((s=>{e+=t.total.target.resources.salvaged[s]?t.total.target.resources.salvaged[s]:0})),e},getSumDefenderProfit(){return this.getSumDefenderBR()-this.getSumDefenderCosts()},getAttackerBefore(t){return this.total.attackers[0].fleets.before[0].units[t]?this.total.attackers[0].fleets.before[0].units[t]:0},getAttackerAfter(t){return this.getAttackerBefore(t)-this.getAttackerLost(t)},getAttackerLost(t){return this.total.attackers[0].fleets.after[0].losses[t]?this.total.attackers[0].fleets.after[0].losses[t]:0},getAttackerCosts(t){return this.total.attackers[0].fleets.after[0].resources.cost[t]?this.total.attackers[0].fleets.after[0].resources.cost[t]:0},getSumAttackerCosts(){let t=this,e=0;return Object.keys(u.rP).forEach((s=>{e+=t.total.attackers[0].fleets.after[0].resources.cost[s]?t.total.attackers[0].fleets.after[0].resources.cost[s]:0})),e},getAttackerExenStolen(t){return this.total.attackers[0].fleets.after[0].extractors.stolen[t]?this.total.attackers[0].fleets.after[0].extractors.stolen[t]:0},getSumAttackerExenStolen(){let t=this,e=0;return Object.keys(u.e7).forEach((s=>{e+=t.total.attackers[0].fleets.after[0].extractors.stolen[s]?t.total.attackers[0].fleets.after[0].extractors.stolen[s]:0})),e},getAttackerCostsPerExe(){let t=this.getSumAttackerExenStolen();return t>0?Math.round(this.getSumAttackerCosts()/t):0},add:function(t,e,s){return void 0==t[e]&&(t[e]=0),t[e]+=s,t}}},d=f,h=s(1001),g=s(3453),v=s.n(g),m=s(2026),p=s(5255),b=s(7024),k=s(5596),y=s(7894),_=(0,h.Z)(d,c,i,!1,null,null,null),E=_.exports;v()(_,{VCard:m.Z,VCardText:p.ZB,VCol:b.Z,VDivider:k.Z,VRow:y.Z});var S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.result.data,expression:"result.data"}]},[s("v-card",{staticClass:"gn-combat-result"},[s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-combat-result-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[t._v("Verteidiger")]),s("th",[t._v("Vorher")]),s("th",[t._v("Nachher")]),s("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return s("tr",{key:"dShip"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.ORB,(function(e){return s("tr",{key:"dOrb"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.EXEN,(function(e){return s("tr",{key:"dExe"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getExenBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getExenAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getExenLost(e.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"dRes"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getDefenderCosts(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumDefenderCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Bergungsressourcen")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"dBRes"+e.ID+"1"},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getDefenderBR(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumDefenderBR())))])]),s("tr",[s("td",[t._v(t._s(t.getSumDefenderProfit()>=0?"Gewinn:":"Verlust:"))]),s("td",[t._v(t._s(t.format(t.getSumDefenderProfit())))])])],2)])],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[t._v("Angreifer")]),s("th",[t._v("Vorher")]),s("th",[t._v("Nachher")]),s("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return s("tr",{key:"aShip"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getAttackerBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getAttackerAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getAttackerLost(e.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"aRes"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getAttackerCosts(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumAttackerCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Exen")])]),t._l(t.EXEN,(function(e){return s("tr",{key:"aExe"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getAttackerExenStolen(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumAttackerExenStolen())))])]),s("tr",[s("td",[t._v("Kosten pro Exe:")]),s("td",[t._v(t._s(t.format(t.getAttackerCostsPerExe())))])])],2)])],1)],1)],1)],1)],1)],1)},x=[],O={name:"GnCombatResult",props:{result:function(){return{type:Object,default:{}}}},computed:{total:function(){let t=this,e={target:{name:"Verteidiger",extractors:{before:{},after:{},stolen:{}},fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}}}]},resources:{salvaged:{}}},attackers:[{name:"Angreifer",fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}},extractors:{stolen:{}}}]}}]},s=this.result.data.attributes;return Object.keys(u.e7).forEach((t=>{e.target.extractors.before[t]=s.target.extractors.before[t]})),s.target&&(s.target.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.target.fleets.before[0].units,r,s.units[r])}))})),s.target.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.target.fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{t.add(e.target.fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{t.add(e.target.fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(u.rP).forEach((r=>{t.add(e.target.fleets.after[0].resources.cost,r,s.resources.cost[r])}))})),Object.keys(u.e7).forEach((t=>{e.target.extractors.after[t]=s.target.extractors.after[t],e.target.extractors.stolen[t]=s.target.extractors.stolen[t]})),Object.keys(u.rP).forEach((t=>{e.target.resources.salvaged[t]=s.target.resources.salvaged[t]}))),s.defenders&&(s.defenders.forEach((s=>{s.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.target.fleets.before[0].units,r,s.units[r])}))}))})),s.defenders.forEach((s=>{s.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.target.fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{t.add(e.target.fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{t.add(e.target.fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(u.rP).forEach((r=>{t.add(e.target.resources.salvaged,r,s.resources.salvaged[r]),t.add(e.target.fleets.after[0].resources.cost,r,s.resources.cost[r])}))}))}))),s.attackers&&(s.attackers.forEach((s=>{s.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.attackers[0].fleets.before[0].units,r,s.units[r])}))}))})),s.attackers.forEach((s=>{s.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.attackers[0].fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{t.add(e.attackers[0].fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{t.add(e.attackers[0].fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(u.rP).forEach((r=>{t.add(e.attackers[0].fleets.after[0].resources.cost,r,s.resources.cost[r])})),Object.keys(u.e7).forEach((r=>{t.add(e.attackers[0].fleets.after[0].extractors.stolen,r,s.extractors.stolen[r])}))}))}))),e},UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7},RESOURCES:function(){return u.rP}},methods:{format(t){return Number(t).toLocaleString()},getExenBefore(t){return this.total.target.extractors.before[t]?this.total.target.extractors.before[t]:0},getExenAfter(t){return this.total.target.extractors.after[t]?this.total.target.extractors.after[t]:0},getExenLost(t){return this.total.target.extractors.stolen[t]?this.total.target.extractors.stolen[t]:0},getDefenderBefore(t){return this.total.target.fleets.before[0].units[t]?this.total.target.fleets.before[0].units[t]:0},getDefenderAfter(t){return this.total.target.fleets.after[0].units[t]?this.total.target.fleets.after[0].units[t]:0},getDefenderLost(t){return this.total.target.fleets.after[0].losses[t]?this.total.target.fleets.after[0].losses[t]:0},getDefenderCosts(t){return this.total.target.fleets.after[0].resources.cost[t]?this.total.target.fleets.after[0].resources.cost[t]:0},getSumDefenderCosts(){let t=this,e=0;return Object.keys(u.rP).forEach((s=>{e+=t.total.target.fleets.after[0].resources.cost[s]?t.total.target.fleets.after[0].resources.cost[s]:0})),e},getDefenderBR(t){return this.total.target.resources.salvaged[t]?this.total.target.resources.salvaged[t]:0},getSumDefenderBR(){let t=this,e=0;return Object.keys(u.rP).forEach((s=>{e+=t.total.target.resources.salvaged[s]?t.total.target.resources.salvaged[s]:0})),e},getSumDefenderProfit(){return this.getSumDefenderBR()-this.getSumDefenderCosts()},getAttackerBefore(t){return this.total.attackers[0].fleets.before[0].units[t]?this.total.attackers[0].fleets.before[0].units[t]:0},getAttackerAfter(t){return this.total.attackers[0].fleets.after[0].units[t]?this.total.attackers[0].fleets.after[0].units[t]:0},getAttackerLost(t){return this.total.attackers[0].fleets.after[0].losses[t]?this.total.attackers[0].fleets.after[0].losses[t]:0},getAttackerCosts(t){return this.total.attackers[0].fleets.after[0].resources.cost[t]?this.total.attackers[0].fleets.after[0].resources.cost[t]:0},getSumAttackerCosts(){let t=this,e=0;return Object.keys(u.rP).forEach((s=>{e+=t.total.attackers[0].fleets.after[0].resources.cost[s]?t.total.attackers[0].fleets.after[0].resources.cost[s]:0})),e},getAttackerExenStolen(t){return this.total.attackers[0].fleets.after[0].extractors.stolen[t]?this.total.attackers[0].fleets.after[0].extractors.stolen[t]:0},getSumAttackerExenStolen(){let t=this,e=0;return Object.keys(u.e7).forEach((s=>{e+=t.total.attackers[0].fleets.after[0].extractors.stolen[s]?t.total.attackers[0].fleets.after[0].extractors.stolen[s]:0})),e},getAttackerCostsPerExe(){let t=this.getSumAttackerExenStolen();return t>0?Math.round(this.getSumAttackerCosts()/t):0},add:function(t,e,s){return void 0==t[e]&&(t[e]=0),t[e]+=s,t}}},D=O,C=(0,h.Z)(D,S,x,!1,null,null,null),A=C.exports;v()(C,{VCard:m.Z,VCardText:p.ZB,VCol:b.Z,VDivider:k.Z,VRow:y.Z});var w={name:"GnCombatResults",components:{GnCombatResultOverview:E,GnCombatResult:A},props:{results:function(){return{type:Array,default:[]}}}},I=w,R=(0,h.Z)(I,o,l,!1,null,null,null),N=R.exports;v()(R,{VDivider:k.Z});var j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{fullscreen:"","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s("v-btn",t._g(t._b({attrs:{height:"100%",color:"primary",dark:"",icon:"",tile:"","x-large":""}},"v-btn",a,!1),r),[s("v-icon",{attrs:{"x-large":""}},[t._v("mdi-plus-box")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",{attrs:{tile:""}},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[t._v("Flotte hinzufügen")]),s("v-spacer"),s("v-toolbar-items",[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.close()}}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1),s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("h1",{staticClass:"mb-1 mt-5"},[t._v("Scan einlesen")])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-textarea",{staticClass:"gn-parse-input",attrs:{clearable:"",dense:""},model:{value:t.scanText,callback:function(e){t.scanText=e},expression:"scanText"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("div",{staticClass:"gn-parse-button"},[s("v-btn",{attrs:{width:"100%",tile:""},on:{click:function(e){return t.parse()}}},[t._v("Parse")])],1)])],1),s("v-row",[s("v-col",[s("v-btn-toggle",{attrs:{color:"primary",tile:"",mandatory:""},model:{value:t.scan.type,callback:function(e){t.$set(t.scan,"type",e)},expression:"scan.type"}},[s("v-btn",[s("v-icon",{attrs:{color:"green"}},[t._v("mdi-shield-home")]),s("span",{staticClass:"d-none d-sm-flex"},[t._v("Ziel")])],1),s("v-btn",{on:{click:function(e){return t.setDuration(20)}}},[s("v-icon",{attrs:{color:"green"}},[t._v("mdi-shield")]),s("span",{staticClass:"d-none d-sm-flex"},[t._v("Verteidiger")])],1),s("v-btn",{on:{click:function(e){return t.setDuration(5)}}},[s("v-icon",{attrs:{color:"red"}},[t._v("mdi-sword-cross")]),s("span",{staticClass:"d-none d-sm-flex"},[t._v("Angreifer")])],1)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[t._v("Orbit")]),t._l(t.UNITS,(function(e){return s("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0",disabled:0!=t.scan.type},model:{value:t.scan.fleet[0].units[e.ID],callback:function(s){t.$set(t.scan.fleet[0].units,e.ID,s)},expression:"scan.fleet[0].units[unit.ID]"}})})),t._l(t.ORB,(function(e){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==t.scan.type,expression:"scan.type == 0"}],key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.orb[e.ID],callback:function(s){t.$set(t.scan.orb,e.ID,s)},expression:"scan.orb[orb.ID]"}})})),t._l(t.EXEN,(function(e){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==t.scan.type,expression:"scan.type == 0"}],key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.exen[e.ID],callback:function(s){t.$set(t.scan.exen,e.ID,s)},expression:"scan.exen[exe.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[t._v("Flotte 1")]),t._l(t.UNITS,(function(e){return s("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.fleet[1].units[e.ID],callback:function(s){t.$set(t.scan.fleet[1].units,e.ID,s)},expression:"scan.fleet[1].units[unit.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[t._v("Flotte 2")]),t._l(t.UNITS,(function(e){return s("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.fleet[2].units[e.ID],callback:function(s){t.$set(t.scan.fleet[2].units,e.ID,s)},expression:"scan.fleet[2].units[unit.ID]"}})}))],2)],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-btn",{attrs:{color:"error",block:"",text:""},on:{click:t.close}},[t._v("Schließen")])],1),s("v-col",{attrs:{cols:"8"}},[s("v-btn",{attrs:{color:"primary",block:"",text:""},on:{click:t.submit}},[t._v("Flotte hinzufügen")])],1)],1)],1)],1)],1)},T=[],M={parse:function(t,e){console.warn("before:",t),t=t.replaceAll("*",""),t=t.replaceAll("00,14 ",""),t=t.replaceAll("00,14",""),t=t.replaceAll("01,14",""),t=t.replaceAll("01,15",""),t=t.replaceAll("Gescannt von","Galaxy-Network"),t=t.trim(),t=" "+t+" ";let s=[],r=t.split("Galaxy-Network");for(let a=1;a<r.length;a+=2)s.push(r[a]);for(let a=0;a<s.length;a++){let t=s[a],r=t.split(/\r?\n/),n=r[0].trim().split(" "),o=n[0].toLowerCase();e.name=n[2];let l=n[3].replace("(","").replace(")","").split(":");e.galaxy=l[0],e.nr=l[1],e.id=n[2]+"§"+l[0]+"§"+l[1],"miliscan"==o&&(r[1].length>0&&(e.fleet[0].units=this.getShipsFromMili(r[1])),r[2].length>0&&(e.fleet[1].units=this.getShipsFromMili(r[2])),r[3].length>0&&(e.fleet[2].units=this.getShipsFromMili(r[3]))),"geschützscan"==o&&r[1].length>0&&(e.orb=this.getOrbFromGscan(r[1])),"sektorscan"==o&&r[3]&&r[3].length>0&&(e.exen=this.getExenFromSektor(r[3]))}return console.warn("result",e),e},getShipsFromMili:function(t){t=t.replace("Im Orbit:",""),t=t.replace("Flotte 1:",""),t=t.replace("Flotte 2:",""),t=t.replaceAll("-",""),t=t.split("<")[0],t=t.trim();let e={},s=t.split(" ");s=s.filter((t=>t.trim().length>0));for(let r=0;r+1<s.length;r+=2){let t=s[r+1],a=u.nN[t.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+t+") konnte nicht gefunden werden!";e[a]=parseInt(s[r],10)}return e},getOrbFromGscan:function(t){t=t.replaceAll("- ",""),t=t.replaceAll(":",""),t=t.trim();let e={},s=t.split(" ");s=s.filter((t=>t.trim().length>0));for(let r=0;r+1<s.length;r+=2){let t=s[r],a=u.nN[t.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+t+") konnte nicht gefunden werden!";e[a]=parseInt(s[r+1],10)}return e},getExenFromSektor:function(t){t=t.replaceAll("- ",""),t=t.replaceAll(":",""),t=t.replaceAll("          "," "),t=t.trim();let e={},s=t.split(" ");s=s.filter((t=>t.trim().length>0));for(let r=0;r+1<s.length;r+=2){let t=s[r],a=u.nN[t.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+t+") konnte nicht gefunden werden!";e[a]=parseInt(s[r+1],10)}return e}},Z={name:"GnAddFleet",props:{add:{type:Function,default:function(){}}},data:function(){return{dialog:!1,scanText:"",scan:{id:"",name:"",type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}}},computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7}},methods:{setDuration:function(t){this.scan.fleet[1].duration=t,this.scan.fleet[2].duration=t},parse:function(){this.scan=M.parse(this.scanText,this.scan),console.warn(this.scan)},reset:function(){this.scanText="",this.scan={id:"",name:"",type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}},close:function(){this.dialog=!1,this.reset()},clean:function(t){for(let e=0;e<3;e++)Object.keys(t.fleet[e].units).forEach((s=>(0==t.fleet[e].units[s]||""==t.fleet[e].units[s])&&delete t.fleet[e].units[s])),Object.keys(t.fleet[e].units).forEach((s=>t.fleet[e].units[s]=parseInt(t.fleet[e].units[s])));return Object.keys(t.orb).forEach((e=>t.orb[e]=parseInt(t.orb[e]))),t},submit:function(){0==this.scan.id.length&&(this.scan.id=Date.now()),this.scan=this.clean(this.scan),this.add(this.scan),this.close()}}},V=Z,B=s(1174),U=s(3619),P=s(8031),L=s(4456),F=s(2515),$=s(5857),K=s(7033),G=s(8683),H=s(3845),q=(0,h.Z)(V,j,T,!1,null,null,null),z=q.exports;v()(q,{VBtn:B.Z,VBtnToggle:U.Z,VCard:m.Z,VCardActions:p.h7,VCardText:p.ZB,VCol:b.Z,VDialog:P.Z,VDivider:k.Z,VIcon:L.Z,VRow:y.Z,VSpacer:F.Z,VTextField:$.Z,VTextarea:K.Z,VToolbar:G.Z,VToolbarItems:H.lj,VToolbarTitle:H.qW});var J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"gn-user"},[s("div",{staticClass:"gn-user-header"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{staticClass:"gn-user-header-label"},[0==t.type?s("v-icon",{attrs:{small:"",color:"green"},on:{click:t.changeType}},[t._v("mdi-shield-home")]):t._e(),1==t.type?s("v-icon",{attrs:{small:"",color:"green"},on:{click:t.changeType}},[t._v("mdi-shield")]):t._e(),2==t.type?s("v-icon",{attrs:{small:"",color:"red"},on:{click:t.changeType}},[t._v("mdi-sword-cross")]):t._e(),s("span",[t._v(t._s(t.getUserName))])],1),s("v-spacer"),s("v-col",[s("v-icon",{staticClass:"gn-user-delete-button",attrs:{small:"",right:""},on:{click:function(e){return t.deleteUser(t.user)}}},[t._v("mdi-close-circle-outline")])],1)],1)],1),s("div",{staticClass:"gn-user-body"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==t.type&&Object.keys(t.user.exen).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[t._v("Exen:")]),t._l(t.user.exen,(function(e,r){return s("span",{key:r,staticClass:"gn-user-ship"},[t._v(t._s(t.displayExen(r,e)))])}))],2):t._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==t.type&&Object.keys(t.user.orb).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[t._v("Geschütze:")]),t._l(t.user.orb,(function(e,r){return s("span",{key:r,staticClass:"gn-user-ship"},[t._v(t._s(t.displayOrb(r,e)))])}))],2):t._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==t.type&&Object.keys(t.user.fleet[0].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[t._v("Orbit:")]),t._l(t.user.fleet[0].units,(function(e,r){return s("span",{key:r,staticClass:"gn-user-ship"},[t._v(t._s(t.displayShip(r,e)))])}))],2):t._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[Object.keys(t.user.fleet[1].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[t._v("Flotte 1:")]),t._l(t.user.fleet[1].units,(function(e,r){return s("span",{key:r,staticClass:"gn-user-ship"},[t._v(t._s(t.displayShip(r,e)))])}))],2):t._e()])],1),0!=t.type&&Object.keys(t.user.fleet[1].units).length>0?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[s("gn-user-fleet-settings",{attrs:{user:t.user,fleet:1}})],1)],1):t._e(),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[Object.keys(t.user.fleet[2].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[t._v("Flotte 2:")]),t._l(t.user.fleet[2].units,(function(e,r){return s("span",{key:r,staticClass:"gn-user-ship"},[t._v(t._s(t.displayShip(r,e)))])}))],2):t._e()])],1),0!=t.type&&Object.keys(t.user.fleet[2].units).length>0?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[s("gn-user-fleet-settings",{attrs:{user:t.user,fleet:2}})],1)],1):t._e()],1)])])},X=[],W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gn-user-fleet-settings"},[s("span",{staticClass:"gn-user-fleet-settings-delay"},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s("v-icon",t._g(t._b({attrs:{small:""}},"v-icon",a,!1),r),[t._v("mdi-clock-start")])]}}])},[s("span",[t._v("Startverzögerung in Ticks")])]),s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.delay,expression:"delay"}],staticClass:"gn-user-fleet-settings-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.delay=e.target.multiple?s:s[0]}}},t._l(21,(function(e,r){return s("option",{key:r,domProps:{value:r}},[t._v(t._s(r))])})),0)])],1),s("span",{staticClass:"gn-user-fleet-settings-duration"},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s("v-icon",t._g(t._b({attrs:{small:""}},"v-icon",a,!1),r),[t._v("mdi-clock-time-three-outline")])]}}])},[s("span",[t._v("Aufenthaltszeit in Ticks")])]),s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"duration"}],staticClass:"gn-user-fleet-settings-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.duration=e.target.multiple?s:s[0]}}},t._l(20,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)])],1)])},Q=[],Y={name:"GnUserFleetSettings",components:{},props:{user:function(){return{type:Object,default:{}}},fleet:function(){return{type:Number,default:1}}},computed:{duration:{set(t){this.$root.$emit("selectDuration",this.user.id,this.fleet,t)},get(){return this.user.fleet[this.fleet].duration}},delay:{set(t){this.$root.$emit("selectDelay",this.user.id,this.fleet,t)},get(){return this.user.fleet[this.fleet].delay}}},methods:{format(t){return Number(t).toLocaleString()},displayShip:function(t,e){return" "+this.format(e)+" "+this.UNITS[t].SHORT}}},tt=Y,et=s(7337),st=(0,h.Z)(tt,W,Q,!1,null,null,null),rt=st.exports;v()(st,{VIcon:L.Z,VTooltip:et.Z});var at={name:"GnUser",components:{GnUserFleetSettings:rt},props:{user:function(){return{type:Object,default:{}}},type:function(){return{type:Number,default:2}},deleteUser:{type:Function,default:function(){}}},computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7},getUserName:function(){let t="";return t=this.user.name?this.user.name:this.user.id+"",this.user.galaxy&&(t+=" ("+this.user.galaxy+":"+this.user.nr+")"),t=t.substring(0,16),t}},methods:{format(t){return Number(t).toLocaleString()},displayShip:function(t,e){return" "+this.format(e)+" "+this.UNITS[t].SHORT},displayOrb:function(t,e){return" "+this.format(e)+" "+this.ORB[t].SHORT},displayExen:function(t,e){return" "+this.format(e)+" "+this.EXEN[t].SHORT},changeType(){this.$root.$emit("changeType",this.user.id,this.type)}}},nt=at,ot=(0,h.Z)(nt,J,X,!1,null,null,null),lt=ot.exports;v()(ot,{VCol:b.Z,VIcon:L.Z,VRow:y.Z,VSpacer:F.Z});var ct=s(9669),it=s.n(ct),ut={name:"App",components:{GnCombatResults:N,GnAddFleet:z,GnUser:lt},data:()=>({user:"",users:[],ticks:5,results:[]}),computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7}},methods:{getNewRequestObj:function(t=0){return{data:{type:"combats",attributes:{target:{fleets:[],extractors:{metal:0,crystal:0}},attackers:[],defenders:[],config:{mode:t}}}}},getNewTargetObj:function(t){return{name:""+t,fleets:[],extractors:{metal:0,crystal:0}}},getNewUserObj:function(t){return{name:""+t,fleets:[]}},addUser:function(t){this.users.push(t)},deleteUser:function(t){let e=this.users.findIndex((e=>e.id==t.id));this.users.splice(e,1)},getUserByID:function(t){return this.users.find((e=>e.id==t))},getCombatMode:function(t){let e=0;return t&&Object.keys(t.units).forEach((t=>{u.nd[t]&&u.nd[t].PRETICKS&&u.nd[t].PRETICKS>e&&(e=u.nd[t].PRETICKS)})),e},updateUsers:function(t,e){if(e&&e.data.attributes.attackers&&e.data.attributes.attackers.forEach((e=>{let s=t.findIndex((t=>t.id==e.name));s>-1&&e.fleets.after.forEach((e=>{Object.keys(t[s].fleet).forEach((r=>{r==e.name&&(t[s].fleet[r].units=e.units)}))}))})),e&&e.data.attributes.target){let s=t.findIndex((t=>t.id==e.data.attributes.target.name));if(s>-1){let r=t[s],a=e.data.attributes.target,n={id:r.id,name:r.name,type:r.type,exen:{},orb:{},fleet:{0:{},1:{},2:{}}};Object.keys(u.e7).forEach((t=>{n.exen[t]=a.extractors.after[t]})),e.data.attributes.target.fleets.after.forEach((t=>{let e=r.fleet[t.name],s={units:{},delay:e.delay,duration:e.duration};Object.keys(t.units).forEach((e=>{u.nd[e]?n.orb[e]=t.units[e]:s.units[e]=t.units[e]})),n.fleet[t.name]=s})),t[s]=n}}},getPreTickUsers:function(t,e){let s=this,r={target:void 0,attackers:[],defenders:[]};return t.forEach((function(t){switch(t.type){case 0:let a=s.getNewTargetObj(t.id);Object.keys(u.e7).forEach((e=>{a.extractors[e]=t.exen[e]?parseInt(t.exen[e]):0}));for(let e=0;e<=2;e++){let s={name:""+e,units:0==e?{...t.fleet[e].units,...t.orb}:{...t.fleet[e].units}};Object.keys(s.units).length>0&&a.fleets.push(s)}r.target=a;break;case 1:break;case 2:let n=s.getNewUserObj(t.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...t.fleet[s].units},calculateCarrierCapacityLosses:t.fleet[s].delay+t.fleet[s].duration==e+1};t.fleet[s].delay==e&&Object.keys(r.units).length>0&&n.fleets.push(r)}n.fleets.length>0&&r.attackers.push(n);break}})),r},getNewUsers:function(t,e){let s=this,r={target:void 0,attackers:[],defenders:[]};return t.forEach((function(t){switch(t.type){case 0:if(0==e){let e=s.getNewTargetObj(t.id);Object.keys(u.e7).forEach((s=>{e.extractors[s]=t.exen[s]?parseInt(t.exen[s]):0}));for(let s=0;s<=2;s++){let r={name:""+s,units:0==s?{...t.fleet[s].units,...t.orb}:{...t.fleet[s].units}};Object.keys(r.units).length>0&&e.fleets.push(r)}r.target=e}break;case 1:let a=s.getNewUserObj(t.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...t.fleet[s].units},calculateCarrierCapacityLosses:t.fleet[s].delay+t.fleet[s].duration==e+1};t.fleet[s].delay==e&&Object.keys(r.units).length>0&&a.fleets.push(r)}a.fleets.length>0&&r.defenders.push(a);break;case 2:let n=s.getNewUserObj(t.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...t.fleet[s].units},calculateCarrierCapacityLosses:t.fleet[s].delay+t.fleet[s].duration==e+1};t.fleet[s].delay==e&&Object.keys(r.units).length>0&&n.fleets.push(r)}n.fleets.length>0&&r.attackers.push(n);break}})),r},getNextPreTickRequest:function(t,e){let s=this.getNewRequestObj(e);return s.data.attributes.target=t.target,s.data.attributes.attackers=s.data.attributes.attackers.concat(t.attackers),s},getNextRequest:function(t,e,s,r){let a=this,n=this.getNewRequestObj(r);if(s.target&&!t&&(n.data.attributes.target=s.target),n.data.attributes.defenders=s.defenders,n.data.attributes.attackers=s.attackers,t){let r=t.data.attributes;r.target&&(r.target.fleets.after.forEach((t=>{n.data.attributes.target.fleets.push({name:t.name,units:t.units})})),Object.keys(u.e7).forEach((t=>{n.data.attributes.target.extractors[t]=r.target.extractors.after[t]}))),r.defenders&&r.defenders.forEach((t=>{let s=this.getNewUserObj(t.name);t.fleets.after.forEach((r=>{let n=a.getUserByID(t.name),o=n.fleet[r.name].delay+n.fleet[r.name].duration;e!=o&&n.fleet[r.name].delay+n.fleet[r.name].duration>e&&s.fleets.push({name:r.name,units:{...r.units},calculateCarrierCapacityLosses:n.fleet[r.name].delay+n.fleet[r.name].duration==e+1})})),s.fleets.length>0&&n.data.attributes.defenders.push(s)})),r.attackers&&r.attackers.forEach((t=>{let r=s.attackers.findIndex((e=>e.name==t.name)),o=this.getNewUserObj(t.name);t.fleets.after.forEach((n=>{let l=-1;if(r>-1&&(l=s.attackers[r].fleets.findIndex((t=>t.name==n.name))),l>-1)return;let c=a.getUserByID(t.name),i=c.fleet[n.name].delay+c.fleet[n.name].duration;e!=i&&c.fleet[n.name].delay+c.fleet[n.name].duration>e&&o.fleets.push({name:n.name,units:{...n.units},calculateCarrierCapacityLosses:c.fleet[n.name].delay+c.fleet[n.name].duration==e+1})})),o.fleets.length>0&&n.data.attributes.attackers.push(o)}))}return n},simulate:async function(){let t,e,s,r={headers:{Accept:"application/vnd.api+json;version=1.0","Content-Type":"application/json"}},a=JSON.parse(JSON.stringify(this.users)),n=this.getNewUsers(a,0),o=this.getCombatMode(n.target.fleets[0]);this.results=[];for(let c=-2;c<this.ticks;c++)try{let n=this.getNewUsers(a,c);(n.target||n.defenders.length>0||n.attackers.length>0||t)&&c>=0&&(e=this.getNextRequest(t,c,n,0),s=await it().post("https://galactic-conquest.de/api/combats",e,r),t=s.data,this.updateUsers(a,s.data),this.results.push({tick:c+1,request:e,response:t,mode:0})),t&&(o=this.getCombatMode(t.data.attributes.target.fleets.after[0])),o>1&&(n=this.getPreTickUsers(a,c+2),n.attackers.length>0&&(e=this.getNextPreTickRequest(n,2),s=await it().post("https://galactic-conquest.de/api/combats",e,r),this.updateUsers(a,s.data),this.results.push({tick:c+1,request:e,response:s.data,mode:2}))),o>0&&(n=this.getPreTickUsers(a,c+1),n.attackers.length>0&&(e=this.getNextPreTickRequest(n,1),s=await it().post("https://galactic-conquest.de/api/combats",e,r),this.updateUsers(a,s.data),this.results.push({tick:c+1,request:e,response:s.data,mode:1})))}catch(l){console.warn(l)}}},mounted:function(){let t=this;this.$root.$on("selectDuration",((e,s,r)=>{let a=t.users.find((t=>t.id==e));a.fleet[s].duration=r})),this.$root.$on("selectDelay",((e,s,r)=>{let a=t.users.find((t=>t.id==e));a.fleet[s].delay=r})),this.$root.$on("changeType",((e,s)=>{let r=s;switch(s){case 0:r=1;break;case 1:r=2;break;case 2:r=0;break;default:break}let a=t.users.find((t=>t.id==e));a&&(a.type=r)}))}},ft=ut,dt=s(303),ht=s(1819),gt=s(927),vt=(0,h.Z)(ft,a,n,!1,null,null,null),mt=vt.exports;v()(vt,{VApp:dt.Z,VBtn:B.Z,VCol:b.Z,VContainer:ht.Z,VDivider:k.Z,VMain:gt.Z,VRow:y.Z,VTextField:$.Z});var pt=s(5205);(0,pt.z)("/GN-Tools-Site/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var bt=s(6482);r.Z.use(bt.Z);var kt=new bt.Z({});r.Z.config.productionTip=!1,new r.Z({vuetify:kt,render:function(t){return t(mt)}}).$mount("#app")}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,r,a,n){if(!r){var o=1/0;for(u=0;u<t.length;u++){r=t[u][0],a=t[u][1],n=t[u][2];for(var l=!0,c=0;c<r.length;c++)(!1&n||o>=n)&&Object.keys(s.O).every((function(t){return s.O[t](r[c])}))?r.splice(c--,1):(l=!1,n<o&&(o=n));if(l){t.splice(u--,1);var i=a();void 0!==i&&(e=i)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[r,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,n,o=r[0],l=r[1],c=r[2],i=0;if(o.some((function(e){return 0!==t[e]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(c)var u=c(s)}for(e&&e(r);i<o.length;i++)n=o[i],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(u)},r=self["webpackChunkgnsimulator"]=self["webpackChunkgnsimulator"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(4547)}));r=s.O(r)})();
//# sourceMappingURL=app.08263670.js.map