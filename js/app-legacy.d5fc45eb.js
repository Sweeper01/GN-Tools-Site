(function(){var t={6700:function(t,e,s){var r={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":4048,"./sd.js":4048,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=n,t.exports=a,a.id=6700},6389:function(t,e,s){"use strict";var r=s(144),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-navigation-drawer",{attrs:{app:""}},[s("v-list",{attrs:{dense:"",nav:""}},t._l(t.items,(function(e){return s("v-list-item",{key:e.title,attrs:{link:"",to:e.route}},[s("v-list-item-icon",[s("v-icon",[t._v(t._s(e.icon))])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),1)],1),s("v-main",[s("router-view")],1)],1)},n=[],o={name:"App",components:{},data:()=>({items:[{title:"Simulator",icon:"mdi-sword-cross",route:"/"},{title:"Scan Auswertung",icon:"mdi-magnify",route:"/ScanAuswertung"}]})},l=o,i=s(1001),c=s(3453),u=s.n(c),f=s(303),d=s(4456),h=s(893),m=s(907),g=s(226),v=s(3560),p=s(4021),b=s(8018),k=(0,i.Z)(l,a,n,!1,null,null,null),y=k.exports;u()(k,{VApp:f.Z,VIcon:d.Z,VList:h.Z,VListItem:m.Z,VListItemContent:g.km,VListItemIcon:v.Z,VListItemTitle:g.V9,VMain:p.Z,VNavigationDrawer:b.Z});var _=s(8345),E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-snackbar",{attrs:{value:t.alert,dense:"",top:"",centered:"",timeout:"2000",color:"green"}},[t._v("Link kopiert ")]),s("v-container",[s("v-row",[s("v-col",[s("h1",[t._v("Flotten")])])],1),s("v-divider",{staticClass:"mb-5"}),s("v-row",[t._l(t.users,(function(e,r){return s("v-col",{key:e.id,attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[s("gn-user",{attrs:{type:e.type,deleteUser:t.deleteUser},model:{value:t.users[r],callback:function(e){t.$set(t.users,r,e)},expression:"users[index]"}})],1)})),s("v-col",{attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[s("gn-add-fleet",{attrs:{add:t.addUser}})],1)],2),s("v-row",{staticClass:"mt-5"},[s("v-col",{attrs:{cols:"6",md:"2"}},[s("v-text-field",{attrs:{type:"Number",label:"Anzahl Ticks"},model:{value:t.ticks,callback:function(e){t.ticks=e},expression:"ticks"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-btn",{on:{click:t.simulate}},[t._v("Simulate")])],1)],1),s("v-row",[s("v-col",[s("v-btn",{attrs:{text:"","x-small":""},on:{click:t.copyURL}},[t._v("Link teilen")])],1)],1),s("v-divider",{staticClass:"mt-5"}),s("gn-combat-results",{attrs:{results:t.results}}),s("v-divider",{staticClass:"mb-5"})],1)],1)},j=[],x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}]},[s("h1",{staticClass:"mt-5"},[t._v("Übersicht")]),s("gn-combat-result-overview",{staticClass:"mb-5",attrs:{results:t.results}}),t._l(t.results,(function(e,r){return s("div",{key:r},[r>0&&e.tick!=t.results[r-1].tick||0==r?s("h3",[t._v("Tick "+t._s(e.tick))]):t._e(),r>0&&e.tick!=t.results[r-1].tick||0==r?s("v-divider",{staticClass:"mb-5"}):t._e(),s("gn-combat-result",{staticClass:"mb-5",attrs:{result:e.response,tick:e.tick,mode:e.mode}})],1)}))],2)},S=[],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}]},[s("v-card",{staticClass:"gn-overview"},[s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[t._v("Verteidiger")]),s("th",[t._v("Vorher")]),s("th",[t._v("Nachher")]),s("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return s("tr",{key:"dShip"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.ORB,(function(e){return s("tr",{key:"dOrb"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.EXEN,(function(e){return s("tr",{key:"dExe"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getExenBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getExenAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getExenLost(e.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"dRes"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getDefenderCosts(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumDefenderCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Bergungsressourcen")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"dBRes"+e.ID+"1"},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getDefenderBR(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumDefenderBR())))])]),s("tr",[s("td",[t._v(t._s(t.getSumDefenderProfit()>=0?"Gewinn:":"Verlust:"))]),s("td",[t._v(t._s(t.format(t.getSumDefenderProfit())))])])],2)])],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[t._v("Angreifer")]),s("th",[t._v("Vorher")]),s("th",[t._v("Nachher")]),s("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return s("tr",{key:"aShips"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getAttackerBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getAttackerAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getAttackerLost(e.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"aRes"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getAttackerCosts(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumAttackerCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Exen")])]),t._l(t.EXEN,(function(e){return s("tr",{key:"aExe"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getAttackerExenStolen(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumAttackerExenStolen())))])]),s("tr",[s("td",[t._v("Kosten pro Exe:")]),s("td",[t._v(t._s(t.format(t.getAttackerCostsPerExe())))])])],2)])],1)],1)],1)],1)],1)],1)},C=[],A=JSON.parse('{"uo":{"JA":{"ID":"JA","NAME":"Jäger","SHORT":"JÄ","METAL":4000,"CRYSTAL":6000},"BO":{"ID":"BO","NAME":"Bomber","SHORT":"BO","METAL":2000,"CRYSTAL":8000},"FR":{"ID":"FR","NAME":"Fregatte","SHORT":"FR","METAL":15000,"CRYSTAL":7500},"ZE":{"ID":"ZE","NAME":"Zerstörer","SHORT":"ZE","METAL":40000,"CRYSTAL":30000},"KR":{"ID":"KR","NAME":"Kreuzer","SHORT":"KR","METAL":65000,"CRYSTAL":85000},"SS":{"ID":"SS","NAME":"Schlachtschiff","SHORT":"SS","METAL":250000,"CRYSTAL":150000},"TR":{"ID":"TR","NAME":"Trägerschiff","SHORT":"TR","METAL":200000,"CRYSTAL":50000},"CL":{"ID":"CL","NAME":"Kaperschiff","SHORT":"CL","METAL":1500,"CRYSTAL":1000},"CA":{"ID":"CA","NAME":"Schutzschiff","SHORT":"CA","METAL":1000,"CRYSTAL":1500}},"nd":{"LO":{"ID":"LO","NAME":"Rubium","SHORT":"LO","METAL":6000,"CRYSTAL":2000},"LR":{"ID":"LR","NAME":"Pulsar","SHORT":"LR","METAL":20000,"CRYSTAL":10000,"PRETICKS":1},"MR":{"ID":"MR","NAME":"Coon","SHORT":"MR","METAL":60000,"CRYSTAL":100000,"PRETICKS":1},"SR":{"ID":"SR","NAME":"Centurion","SHORT":"SR","METAL":200000,"CRYSTAL":300000,"PRETICKS":2},"AJ":{"ID":"AJ","NAME":"Abfangjäger","SHORT":"AJ","METAL":1000,"CRYSTAL":1000}},"e7":{"metal":{"ID":"metal","SHORT":"M","NAME":"Metall Exen"},"crystal":{"ID":"crystal","SHORT":"K","NAME":"Kristall Exen"}},"rP":{"metal":{"ID":"metal","NAME":"Metall"},"crystal":{"ID":"crystal","NAME":"Kristall"}},"nN":{"jaeger":"JA","jäger":"JA","jä":"JA","leo":"JA","bomber":"BO","bo":"BO","aquilae":"BO","fregatte":"FR","fregatten":"FR","fr":"FR","fornax":"FR","zerstörer":"ZE","zerstoerer":"ZE","ze":"ZE","draco":"ZE","kreuzer":"KR","kr":"KR","goron":"KR","schlachtschiff":"SS","schlachtschiffe":"SS","schlachter":"SS","ss":"SS","pentalin":"SS","trägerschiff":"TR","trägerschiffe":"TR","träger":"TR","traegerschiff":"TR","traegerschiffe":"TR","traeger":"TR","tr":"TR","zenit":"TR","kaperschiff":"CL","kaperschiffe":"CL","cl":"CL","cleptor":"CL","kleptoren":"CL","schutzschiff":"CA","schutzschiffe":"CA","ca":"CA","cancri":"CA","cancris":"CA","rubium":"LO","lo":"LO","pulsar":"LR","lr":"LR","coon":"MR","mr":"MR","centurion":"SR","sr":"SR","horus":"AJ","aj":"AJ","m-extraktoren":"metal","k-extraktoren":"crystal"}}'),D={name:"GnCombatResultOverview",props:{results:function(){return{type:Array,default:[]}}},computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},RESOURCES:function(){return A.rP},total:function(){let t=this,e=[],s={target:{name:"Verteidiger",extractors:{before:{},after:{},stolen:{}},fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}}}]},resources:{salvaged:{}}},attackers:[{name:"Angreifer",fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}},extractors:{stolen:{}}}]}}]};for(let r=0;r<this.results.length;r++){let a=this.results[r].response.data.attributes;a.target&&(0==r&&(Object.keys(A.e7).forEach((t=>{s.target.extractors.before[t]=a.target.extractors.before[t]})),a.target.fleets.before.forEach((e=>{Object.keys(e.units).forEach((r=>{t.add(s.target.fleets.before[0].units,r,e.units[r])}))}))),a.target.fleets.after.forEach((e=>{Object.keys(e.losses).forEach((r=>{t.add(s.target.fleets.after[0].losses,r,e.losses[r])})),Object.keys(e.destroyed).forEach((r=>{t.add(s.target.fleets.after[0].destroyed,r,e.destroyed[r])})),Object.keys(A.rP).forEach((r=>{t.add(s.target.fleets.after[0].resources.cost,r,e.resources.cost[r])}))})),Object.keys(A.e7).forEach((e=>{s.target.extractors.after[e]=a.target.extractors.after[e],t.add(s.target.extractors.stolen,e,a.target.extractors.stolen[e])})),Object.keys(A.rP).forEach((e=>{t.add(s.target.resources.salvaged,e,a.target.resources.salvaged[e])}))),a.defenders&&(a.defenders.forEach((r=>{let a=e.find((t=>t.id==r.name));a||(a={id:r.name,fleets:[]},e.push(a)),r.fleets.before.forEach((e=>{a.fleets.find((t=>t==e.name))||(a.fleets.push(e.name),Object.keys(e.units).forEach((r=>{t.add(s.target.fleets.before[0].units,r,e.units[r])})))}))})),a.defenders.forEach((e=>{e.fleets.after.forEach((e=>{Object.keys(e.losses).forEach((r=>{t.add(s.target.fleets.after[0].losses,r,e.losses[r])})),Object.keys(e.destroyed).forEach((r=>{t.add(s.target.fleets.after[0].destroyed,r,e.destroyed[r])})),Object.keys(A.rP).forEach((r=>{t.add(s.target.resources.salvaged,r,e.resources.salvaged[r]),t.add(s.target.fleets.after[0].resources.cost,r,e.resources.cost[r])}))}))}))),a.attackers&&(a.attackers.forEach((r=>{let a=e.find((t=>t.id==r.name));a||(a={id:r.name,fleets:[]},e.push(a)),r.fleets.before.forEach((e=>{a.fleets.find((t=>t==e.name))||(a.fleets.push(e.name),Object.keys(e.units).forEach((r=>{t.add(s.attackers[0].fleets.before[0].units,r,e.units[r])})))}))})),a.attackers.forEach((e=>{e.fleets.after.forEach((e=>{Object.keys(e.losses).forEach((r=>{t.add(s.attackers[0].fleets.after[0].losses,r,e.losses[r])})),Object.keys(e.destroyed).forEach((r=>{t.add(s.attackers[0].fleets.after[0].destroyed,r,e.destroyed[r])})),Object.keys(A.rP).forEach((r=>{t.add(s.attackers[0].fleets.after[0].resources.cost,r,e.resources.cost[r])})),Object.keys(A.e7).forEach((r=>{t.add(s.attackers[0].fleets.after[0].extractors.stolen,r,e.extractors.stolen[r])}))}))})))}return s}},methods:{format(t){return Number(t).toLocaleString()},getExenBefore(t){return this.total.target.extractors.before[t]?this.total.target.extractors.before[t]:0},getExenAfter(t){return this.total.target.extractors.after[t]?this.total.target.extractors.after[t]:0},getExenLost(t){return this.total.target.extractors.stolen[t]?this.total.target.extractors.stolen[t]:0},getDefenderBefore(t){return this.total.target.fleets.before[0].units[t]?this.total.target.fleets.before[0].units[t]:0},getDefenderAfter(t){return this.getDefenderBefore(t)-this.getDefenderLost(t)},getDefenderLost(t){return this.total.target.fleets.after[0].losses[t]?this.total.target.fleets.after[0].losses[t]:0},getDefenderCosts(t){return this.total.target.fleets.after[0].resources.cost[t]?this.total.target.fleets.after[0].resources.cost[t]:0},getSumDefenderCosts(){let t=this,e=0;return Object.keys(A.rP).forEach((s=>{e+=t.total.target.fleets.after[0].resources.cost[s]?t.total.target.fleets.after[0].resources.cost[s]:0})),e},getDefenderBR(t){return this.total.target.resources.salvaged[t]?this.total.target.resources.salvaged[t]:0},getSumDefenderBR(){let t=this,e=0;return Object.keys(A.rP).forEach((s=>{e+=t.total.target.resources.salvaged[s]?t.total.target.resources.salvaged[s]:0})),e},getSumDefenderProfit(){return this.getSumDefenderBR()-this.getSumDefenderCosts()},getAttackerBefore(t){return this.total.attackers[0].fleets.before[0].units[t]?this.total.attackers[0].fleets.before[0].units[t]:0},getAttackerAfter(t){return this.getAttackerBefore(t)-this.getAttackerLost(t)},getAttackerLost(t){return this.total.attackers[0].fleets.after[0].losses[t]?this.total.attackers[0].fleets.after[0].losses[t]:0},getAttackerCosts(t){return this.total.attackers[0].fleets.after[0].resources.cost[t]?this.total.attackers[0].fleets.after[0].resources.cost[t]:0},getSumAttackerCosts(){let t=this,e=0;return Object.keys(A.rP).forEach((s=>{e+=t.total.attackers[0].fleets.after[0].resources.cost[s]?t.total.attackers[0].fleets.after[0].resources.cost[s]:0})),e},getAttackerExenStolen(t){return this.total.attackers[0].fleets.after[0].extractors.stolen[t]?this.total.attackers[0].fleets.after[0].extractors.stolen[t]:0},getSumAttackerExenStolen(){let t=this,e=0;return Object.keys(A.e7).forEach((s=>{e+=t.total.attackers[0].fleets.after[0].extractors.stolen[s]?t.total.attackers[0].fleets.after[0].extractors.stolen[s]:0})),e},getAttackerCostsPerExe(){let t=this.getSumAttackerExenStolen();return t>0?Math.round(this.getSumAttackerCosts()/t):0},add:function(t,e,s){return void 0==t[e]&&(t[e]=0),t[e]+=s,t}}},O=D,I=s(2026),T=s(5255),R=s(7024),N=s(5596),L=s(7894),V=(0,i.Z)(O,w,C,!1,null,null,null),Z=V.exports;u()(V,{VCard:I.Z,VCardText:T.ZB,VCol:R.Z,VDivider:N.Z,VRow:L.Z});var M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.result.data,expression:"result.data"}]},[s("v-card",{staticClass:"gn-combat-result",class:{"gn-light-gray":t.mode>0}},[t.mode>0?s("v-card-subtitle",[t._v("Vortick "+t._s(t.mode))]):t._e(),s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-combat-result-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[t._v("Verteidiger")]),s("th",[t._v("Vorher")]),s("th",[t._v("Nachher")]),s("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return s("tr",{key:"dShip"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.ORB,(function(e){return s("tr",{key:"dOrb"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.EXEN,(function(e){return s("tr",{key:"dExe"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getExenBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getExenAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getExenLost(e.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"dRes"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getDefenderCosts(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumDefenderCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Bergungsressourcen")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"dBRes"+e.ID+"1"},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getDefenderBR(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumDefenderBR())))])]),s("tr",[s("td",[t._v(t._s(t.getSumDefenderProfit()>=0?"Gewinn:":"Verlust:"))]),s("td",[t._v(t._s(t.format(t.getSumDefenderProfit())))])])],2)])],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[t._v("Angreifer")]),s("th",[t._v("Vorher")]),s("th",[t._v("Nachher")]),s("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return s("tr",{key:"aShip"+e.ID},[s("td",[t._v(t._s(e.NAME))]),s("td",[t._v(t._s(t.format(t.getAttackerBefore(e.ID))))]),s("td",[t._v(t._s(t.format(t.getAttackerAfter(e.ID))))]),s("td",[t._v(t._s(t.format(t.getAttackerLost(e.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return s("tr",{key:"aRes"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getAttackerCosts(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumAttackerCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("Exen")])]),t._l(t.EXEN,(function(e){return s("tr",{key:"aExe"+e.ID},[s("td",[t._v(t._s(e.NAME+":"))]),s("td",[t._v(t._s(t.format(t.getAttackerExenStolen(e.ID))))])])})),s("tr",[s("td",[t._v("Summe:")]),s("td",[t._v(t._s(t.format(t.getSumAttackerExenStolen())))])]),s("tr",[s("td",[t._v("Kosten pro Exe:")]),s("td",[t._v(t._s(t.format(t.getAttackerCostsPerExe())))])])],2)])],1)],1)],1)],1)],1)],1)},P=[],U={name:"GnCombatResult",props:{result:function(){return{type:Object,default:{}}},tick:function(){return{type:Number,default:0}},mode:function(){return{type:Number,default:0}}},computed:{total:function(){let t=this,e={target:{name:"Verteidiger",extractors:{before:{},after:{},stolen:{}},fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}}}]},resources:{salvaged:{}}},attackers:[{name:"Angreifer",fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}},extractors:{stolen:{}}}]}}]},s=this.result.data.attributes;return Object.keys(A.e7).forEach((t=>{e.target.extractors.before[t]=s.target.extractors.before[t]})),s.target&&(s.target.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.target.fleets.before[0].units,r,s.units[r])}))})),s.target.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.target.fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{t.add(e.target.fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{t.add(e.target.fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(A.rP).forEach((r=>{t.add(e.target.fleets.after[0].resources.cost,r,s.resources.cost[r])}))})),Object.keys(A.e7).forEach((t=>{e.target.extractors.after[t]=s.target.extractors.after[t],e.target.extractors.stolen[t]=s.target.extractors.stolen[t]})),Object.keys(A.rP).forEach((t=>{e.target.resources.salvaged[t]=s.target.resources.salvaged[t]}))),s.defenders&&(s.defenders.forEach((s=>{s.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.target.fleets.before[0].units,r,s.units[r])}))}))})),s.defenders.forEach((s=>{s.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.target.fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{t.add(e.target.fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{t.add(e.target.fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(A.rP).forEach((r=>{t.add(e.target.resources.salvaged,r,s.resources.salvaged[r]),t.add(e.target.fleets.after[0].resources.cost,r,s.resources.cost[r])}))}))}))),s.attackers&&(s.attackers.forEach((s=>{s.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.attackers[0].fleets.before[0].units,r,s.units[r])}))}))})),s.attackers.forEach((s=>{s.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{t.add(e.attackers[0].fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{t.add(e.attackers[0].fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{t.add(e.attackers[0].fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(A.rP).forEach((r=>{t.add(e.attackers[0].fleets.after[0].resources.cost,r,s.resources.cost[r])})),Object.keys(A.e7).forEach((r=>{t.add(e.attackers[0].fleets.after[0].extractors.stolen,r,s.extractors.stolen[r])}))}))}))),e},UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},RESOURCES:function(){return A.rP}},methods:{format(t){return Number(t).toLocaleString()},getExenBefore(t){return this.total.target.extractors.before[t]?this.total.target.extractors.before[t]:0},getExenAfter(t){return this.total.target.extractors.after[t]?this.total.target.extractors.after[t]:0},getExenLost(t){return this.total.target.extractors.stolen[t]?this.total.target.extractors.stolen[t]:0},getDefenderBefore(t){return this.total.target.fleets.before[0].units[t]?this.total.target.fleets.before[0].units[t]:0},getDefenderAfter(t){return this.total.target.fleets.after[0].units[t]?this.total.target.fleets.after[0].units[t]:0},getDefenderLost(t){return this.total.target.fleets.after[0].losses[t]?this.total.target.fleets.after[0].losses[t]:0},getDefenderCosts(t){return this.total.target.fleets.after[0].resources.cost[t]?this.total.target.fleets.after[0].resources.cost[t]:0},getSumDefenderCosts(){let t=this,e=0;return Object.keys(A.rP).forEach((s=>{e+=t.total.target.fleets.after[0].resources.cost[s]?t.total.target.fleets.after[0].resources.cost[s]:0})),e},getDefenderBR(t){return this.total.target.resources.salvaged[t]?this.total.target.resources.salvaged[t]:0},getSumDefenderBR(){let t=this,e=0;return Object.keys(A.rP).forEach((s=>{e+=t.total.target.resources.salvaged[s]?t.total.target.resources.salvaged[s]:0})),e},getSumDefenderProfit(){return this.getSumDefenderBR()-this.getSumDefenderCosts()},getAttackerBefore(t){return this.total.attackers[0].fleets.before[0].units[t]?this.total.attackers[0].fleets.before[0].units[t]:0},getAttackerAfter(t){return this.total.attackers[0].fleets.after[0].units[t]?this.total.attackers[0].fleets.after[0].units[t]:0},getAttackerLost(t){return this.total.attackers[0].fleets.after[0].losses[t]?this.total.attackers[0].fleets.after[0].losses[t]:0},getAttackerCosts(t){return this.total.attackers[0].fleets.after[0].resources.cost[t]?this.total.attackers[0].fleets.after[0].resources.cost[t]:0},getSumAttackerCosts(){let t=this,e=0;return Object.keys(A.rP).forEach((s=>{e+=t.total.attackers[0].fleets.after[0].resources.cost[s]?t.total.attackers[0].fleets.after[0].resources.cost[s]:0})),e},getAttackerExenStolen(t){return this.total.attackers[0].fleets.after[0].extractors.stolen[t]?this.total.attackers[0].fleets.after[0].extractors.stolen[t]:0},getSumAttackerExenStolen(){let t=this,e=0;return Object.keys(A.e7).forEach((s=>{e+=t.total.attackers[0].fleets.after[0].extractors.stolen[s]?t.total.attackers[0].fleets.after[0].extractors.stolen[s]:0})),e},getAttackerCostsPerExe(){let t=this.getSumAttackerExenStolen();return t>0?Math.round(this.getSumAttackerCosts()/t):0},add:function(t,e,s){return void 0==t[e]&&(t[e]=0),t[e]+=s,t}}},B=U,F=(0,i.Z)(B,M,P,!1,null,null,null),z=F.exports;u()(F,{VCard:I.Z,VCardSubtitle:T.Qq,VCardText:T.ZB,VCol:R.Z,VDivider:N.Z,VRow:L.Z});var $={name:"GnCombatResults",components:{GnCombatResultOverview:Z,GnCombatResult:z},props:{results:function(){return{type:Array,default:[]}}}},G=$,K=(0,i.Z)(G,x,S,!1,null,null,null),q=K.exports;u()(K,{VDivider:N.Z});var H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s("v-btn",t._g(t._b({attrs:{height:"100%",color:"primary",dark:"",icon:"",tile:"","x-large":""}},"v-btn",a,!1),r),[s("v-icon",{attrs:{"x-large":""}},[t._v("mdi-plus-box")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",{attrs:{tile:""}},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[t._v("Flotte hinzufügen")]),s("v-spacer"),s("v-toolbar-items",[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.close()}}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1),s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("h1",{staticClass:"mb-1 mt-5"},[t._v("Scan einlesen")])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-textarea",{staticClass:"gn-parse-input",attrs:{clearable:"",dense:""},model:{value:t.scanText,callback:function(e){t.scanText=e},expression:"scanText"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("div",{staticClass:"gn-parse-button"},[s("v-btn",{attrs:{width:"100%",tile:""},on:{click:function(e){return t.parse()}}},[t._v("Parse")])],1)])],1),s("v-row",[s("v-col",[s("v-btn-toggle",{attrs:{color:"primary",tile:"",mandatory:""},model:{value:t.scan.type,callback:function(e){t.$set(t.scan,"type",e)},expression:"scan.type"}},[s("v-btn",[s("v-icon",{attrs:{color:"green"}},[t._v("mdi-shield-home")]),s("span",{staticClass:"d-none d-sm-flex"},[t._v("Ziel")])],1),s("v-btn",{on:{click:function(e){return t.setDuration(20)}}},[s("v-icon",{attrs:{color:"green"}},[t._v("mdi-shield")]),s("span",{staticClass:"d-none d-sm-flex"},[t._v("Verteidiger")])],1),s("v-btn",{on:{click:function(e){return t.setDuration(5)}}},[s("v-icon",{attrs:{color:"red"}},[t._v("mdi-sword-cross")]),s("span",{staticClass:"d-none d-sm-flex"},[t._v("Angreifer")])],1)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[t._v("Orbit")]),t._l(t.UNITS,(function(e){return s("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0",disabled:0!=t.scan.type},model:{value:t.scan.fleet[0].units[e.ID],callback:function(s){t.$set(t.scan.fleet[0].units,e.ID,s)},expression:"scan.fleet[0].units[unit.ID]"}})})),t._l(t.ORB,(function(e){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==t.scan.type,expression:"scan.type == 0"}],key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.orb[e.ID],callback:function(s){t.$set(t.scan.orb,e.ID,s)},expression:"scan.orb[orb.ID]"}})})),t._l(t.EXEN,(function(e){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==t.scan.type,expression:"scan.type == 0"}],key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.exen[e.ID],callback:function(s){t.$set(t.scan.exen,e.ID,s)},expression:"scan.exen[exe.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[t._v("Flotte 1")]),t._l(t.UNITS,(function(e){return s("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.fleet[1].units[e.ID],callback:function(s){t.$set(t.scan.fleet[1].units,e.ID,s)},expression:"scan.fleet[1].units[unit.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[t._v("Flotte 2")]),t._l(t.UNITS,(function(e){return s("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.fleet[2].units[e.ID],callback:function(s){t.$set(t.scan.fleet[2].units,e.ID,s)},expression:"scan.fleet[2].units[unit.ID]"}})}))],2)],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-btn",{attrs:{color:"error",block:"",text:""},on:{click:t.close}},[t._v("Abbrechen")])],1),s("v-col",{attrs:{cols:"8"}},[s("v-btn",{attrs:{color:"primary",block:"",text:""},on:{click:t.submit}},[t._v("Flotte hinzufügen")])],1)],1)],1)],1)],1)},J=[],Y={parse:function(t,e){let s=this;console.warn("before:",t),t=t.replaceAll("*",""),t=t.replaceAll("00,14 ",""),t=t.replaceAll("00,14",""),t=t.replaceAll("01,14",""),t=t.replaceAll("01,15",""),t=t.replaceAll("Gescannt von","Galaxy-Network"),t=t.trim();let r=t.split(/\r?\n/);r=r.filter((t=>t.trim().length>0));let a=[],n=[];for(let o=0;o<r.length;o++){const t=r[o];t.toLowerCase().includes("miliscan")&&(a.push({type:"miliscan",lines:r.slice(o,o+4)}),o+=4),t.toLowerCase().includes("einheitenscan")&&(a.push({type:"einheitenscan",lines:r.slice(o,o+4)}),o+=4),t.toLowerCase().includes("geschützscan")&&(a.push({type:"geschützscan",lines:r.slice(o,o+2)}),o+=2),t.toLowerCase().includes("sektorscan")&&(a.push({type:"sektorscan",lines:r.slice(o,o+5)}),o+=5),t.toLowerCase().includes("flottenzusammensetzung")&&(n.push({type:"flottenzusammensetzung",lines:r.slice(o,o+11)}),o+=10),t.toLowerCase().includes("verteidigungseinheiten")&&(n.push({type:"verteidigungseinheiten",lines:r.slice(o,o+7)}),o+=6)}return a.forEach((t=>{let r=t.lines,a=t.type,n=r[0].trim().split("Galaxy-Network"),o=n[1].trim().split(" ");e.name=o[2];let l=o[3].replace("(","").replace(")","").split(":");e.galaxy=l[0],e.nr=l[1],e.id=o[2]+"§"+l[0]+"§"+l[1],"miliscan"==a&&(r[1].length>0&&(e.fleet[0].units=s.getShipsFromMili(r[1])),r[2].length>0&&(e.fleet[1].units=s.getShipsFromMili(r[2])),r[3].length>0&&(e.fleet[2].units=s.getShipsFromMili(r[3]))),"einheitenscan"==a&&r[1].length>0&&r[2].length>0&&r[3].length>0&&(e.fleet[1].units=s.getShipsFromUnit(r[1],r[2],r[3])),"geschützscan"==a&&r[1].length>0&&(e.orb=s.getOrbFromGscan(r[1])),"sektorscan"==a&&r[3]&&r[3].length>0&&(e.points=s.getPointsFromSektor(r[1]),e.exen=s.getExenFromSektor(r[3]))})),n.forEach((t=>{let s=t.lines,r=t.type;if("flottenzusammensetzung"==r){let t=s[0].trim().split(" ");e.name=t[2];let r=t[3].replace("(","").replace(")","").split(":");e.galaxy=r[0],e.nr=r[1],e.id=t[2]+"§"+r[0]+"§"+r[1];for(let a=2;a<s.length;a++){let t=s[a];t=t.replaceAll(":",""),t=t.replaceAll("\t"," "),t=t.trim();let r=t.split(" ");r=r.filter((t=>t.trim().length>0));let n=r[0],o=A.nN[n.toLowerCase()];if(!o)throw"Fehler beim Parsen: Einheit ("+n+") konnte nicht gefunden werden!";for(let s=0;s<r.length-1||s<=2;s++){let t=parseInt(r[s+1]);t>0&&(e.fleet[s].units[o]=t)}}}if("verteidigungseinheiten"==r)for(let a=2;a<s.length;a++){let t=s[a];t=t.replaceAll(":",""),t=t.replaceAll("\t"," "),t=t.replaceAll(" ",""),t=t.trim();let r=t.split('"');r=r.filter((t=>t.trim().length>0));let n=r[1],o=A.nN[n.toLowerCase()];if(!o)throw"Fehler beim Parsen: Einheit ("+n+") konnte nicht gefunden werden!";let l=parseInt(r[2]);l>0&&(e.orb[o]=l)}})),console.warn("result",e),e},getShipsFromUnit:function(t,e,s){let r=t+" "+e+" "+s;r=r.replaceAll("-",""),r=r.replaceAll(":",""),r=r.trim();let a={},n=r.split(" ");n=n.filter((t=>t.trim().length>0));for(let o=0;o+1<n.length;o+=2){let t=n[o],e=n[o+1],s=A.nN[t.toLowerCase()];if(!s)throw"Fehler beim Parsen: Einheit ("+t+") konnte nicht gefunden werden!";e>0&&(a[s]=parseInt(e))}return a},getShipsFromMili:function(t){t=t.replace("Im Orbit:",""),t=t.replace("Flotte 1:",""),t=t.replace("Flotte 2:",""),t=t.replaceAll("-",""),t=t.split("<")[0],t=t.trim();let e={},s=t.split(" ");s=s.filter((t=>t.trim().length>0));for(let r=0;r+1<s.length;r+=2){let t=s[r+1],a=s[r],n=A.nN[t.toLowerCase()];if(!n)throw"Fehler beim Parsen: Einheit ("+t+") konnte nicht gefunden werden!";a>0&&(e[n]=parseInt(a))}return e},getOrbFromGscan:function(t){t=t.replaceAll("- ",""),t=t.replaceAll(":",""),t=t.trim();let e={},s=t.split(" ");s=s.filter((t=>t.trim().length>0));for(let r=0;r+1<s.length;r+=2){let t=s[r],a=A.nN[t.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+t+") konnte nicht gefunden werden!";e[a]=parseInt(s[r+1])}return e},getPointsFromSektor:function(t){t=t.replaceAll("- ",""),t=t.replaceAll(":",""),t=t.replaceAll(".",""),t=t.trim();let e=t.split(" ");return e[1]},getExenFromSektor:function(t){t=t.replaceAll("- ",""),t=t.replaceAll(":",""),t=t.replaceAll("          "," "),t=t.trim();let e={},s=t.split(" ");s=s.filter((t=>t.trim().length>0));for(let r=0;r+1<s.length;r+=2){let t=s[r],a=A.nN[t.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+t+") konnte nicht gefunden werden!";e[a]=parseInt(s[r+1])}return e}},X={name:"GnAddFleet",props:{add:{type:Function,default:function(){}}},data:function(){return{dialog:!1,scanText:"",scan:{id:"",name:"",type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}}},computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7}},methods:{setDuration:function(t){this.scan.fleet[1].duration=t,this.scan.fleet[2].duration=t},parse:async function(){this.scan=Y.parse(this.scanText,this.scan),await this.$forceUpdate(),console.warn(this.scan)},reset:function(){this.scanText="",this.scan={id:"",name:"",type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}},close:function(){this.dialog=!1,this.reset()},clean:function(t){for(let e=0;e<3;e++)Object.keys(t.fleet[e].units).forEach((s=>(0==t.fleet[e].units[s]||""==t.fleet[e].units[s])&&delete t.fleet[e].units[s])),Object.keys(t.fleet[e].units).forEach((s=>t.fleet[e].units[s]=parseInt(t.fleet[e].units[s])));return Object.keys(t.orb).forEach((e=>(0==t.orb[e]||""==t.orb[e])&&delete t.orb[e])),Object.keys(t.orb).forEach((e=>t.orb[e]=parseInt(t.orb[e]))),t},submit:function(){0==this.scan.id.length&&(this.scan.id=Date.now()),this.scan=this.clean(this.scan),this.add(this.scan),this.close()}}},W=X,Q=s(6847),tt=s(3559),et=s(5487),st=s(2515),rt=s(2832),at=s(7033),nt=s(1652),ot=s(3845),lt=(0,i.Z)(W,H,J,!1,null,null,null),it=lt.exports;u()(lt,{VBtn:Q.Z,VBtnToggle:tt.Z,VCard:I.Z,VCardActions:T.h7,VCardText:T.ZB,VCol:R.Z,VDialog:et.Z,VDivider:N.Z,VIcon:d.Z,VRow:L.Z,VSpacer:st.Z,VTextField:rt.Z,VTextarea:at.Z,VToolbar:nt.Z,VToolbarItems:ot.lj,VToolbarTitle:ot.qW});var ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("gn-edit-fleet",{attrs:{close:t.closeEdit,show:t.showEdit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),s("div",{staticClass:"gn-user"},[s("div",{staticClass:"gn-user-header"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{staticClass:"gn-user-header-label"},[0==t.type?s("v-icon",{attrs:{small:"",color:"green"},on:{click:t.changeType}},[t._v("mdi-shield-home")]):t._e(),1==t.type?s("v-icon",{attrs:{small:"",color:"green"},on:{click:t.changeType}},[t._v("mdi-shield")]):t._e(),2==t.type?s("v-icon",{attrs:{small:"",color:"red"},on:{click:t.changeType}},[t._v("mdi-sword-cross")]):t._e(),s("span",{on:{click:function(e){t.showEdit=!0}}},[t._v(t._s(t.getUserName))])],1),s("v-spacer"),s("v-col",[s("v-icon",{staticClass:"gn-user-delete-button",attrs:{small:"",right:""},on:{click:function(e){return t.deleteUser(t.user)}}},[t._v("mdi-close-circle-outline")])],1)],1)],1),s("div",{staticClass:"gn-user-body"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==t.type&&t.user.points?s("div",[s("span",{staticClass:"gn-user-label"},[t._v("Punkte:")]),s("span",{staticClass:"gn-user-ship"},[t._v(t._s(t.displayPoints(t.user.points)))])]):t._e(),0==t.type&&Object.keys(t.user.exen).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[t._v("Exen:")]),t._l(t.user.exen,(function(e,r){return s("span",{key:r,staticClass:"gn-user-ship"},[t._v(t._s(t.displayExen(r,e)))])}))],2):t._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==t.type&&Object.keys(t.user.orb).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[t._v("Geschütze:")]),t._l(t.user.orb,(function(e,r){return s("span",{key:r,staticClass:"gn-user-ship"},[t._v(t._s(t.displayOrb(r,e)))])}))],2):t._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==t.type&&Object.keys(t.user.fleet[0].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[t._v("Orbit:")]),t._l(t.user.fleet[0].units,(function(e,r){return s("span",{key:r,staticClass:"gn-user-ship"},[t._v(t._s(t.displayShip(r,e)))])}))],2):t._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[Object.keys(t.user.fleet[1].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[t._v("Flotte 1:")]),t._l(t.user.fleet[1].units,(function(e,r){return s("span",{key:r,staticClass:"gn-user-ship"},[t._v(t._s(t.displayShip(r,e)))])}))],2):t._e()])],1),0!=t.type&&Object.keys(t.user.fleet[1].units).length>0?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[s("gn-user-fleet-settings",{attrs:{user:t.user,fleet:1}})],1)],1):t._e(),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[Object.keys(t.user.fleet[2].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[t._v("Flotte 2:")]),t._l(t.user.fleet[2].units,(function(e,r){return s("span",{key:r,staticClass:"gn-user-ship"},[t._v(t._s(t.displayShip(r,e)))])}))],2):t._e()])],1),0!=t.type&&Object.keys(t.user.fleet[2].units).length>0?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[s("gn-user-fleet-settings",{attrs:{user:t.user,fleet:2}})],1)],1):t._e()],1)])],1)},ut=[],ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",{attrs:{tile:""}},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[t._v("Flotte editieren")]),s("v-spacer"),s("v-toolbar-items",[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.submit()}}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1),s("v-card-text",[s("v-row",{staticClass:"mt-5"},[s("v-col",[s("v-row",[s("v-col",[s("v-btn-toggle",{attrs:{color:"primary",tile:"",mandatory:""},model:{value:t.user.type,callback:function(e){t.$set(t.user,"type",e)},expression:"user.type"}},[s("v-btn",[s("v-icon",{attrs:{color:"green"}},[t._v("mdi-shield-home")]),s("span",{staticClass:"d-none d-sm-flex"},[t._v("Ziel")])],1),s("v-btn",{on:{click:function(e){return t.setDuration(20)}}},[s("v-icon",{attrs:{color:"green"}},[t._v("mdi-shield")]),s("span",{staticClass:"d-none d-sm-flex"},[t._v("Verteidiger")])],1),s("v-btn",{on:{click:function(e){return t.setDuration(5)}}},[s("v-icon",{attrs:{color:"red"}},[t._v("mdi-sword-cross")]),s("span",{staticClass:"d-none d-sm-flex"},[t._v("Angreifer")])],1)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[t._v("Orbit")]),t._l(t.UNITS,(function(e){return s("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.user.fleet[0].units[e.ID],callback:function(s){t.$set(t.user.fleet[0].units,e.ID,s)},expression:"user.fleet[0].units[unit.ID]"}})})),t._l(t.ORB,(function(e){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==t.user.type,expression:"user.type == 0"}],key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.user.orb[e.ID],callback:function(s){t.$set(t.user.orb,e.ID,s)},expression:"user.orb[orb.ID]"}})})),t._l(t.EXEN,(function(e){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==t.user.type,expression:"user.type == 0"}],key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.user.exen[e.ID],callback:function(s){t.$set(t.user.exen,e.ID,s)},expression:"user.exen[exe.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[t._v("Flotte 1")]),t._l(t.UNITS,(function(e){return s("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.user.fleet[1].units[e.ID],callback:function(s){t.$set(t.user.fleet[1].units,e.ID,s)},expression:"user.fleet[1].units[unit.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[t._v("Flotte 2")]),t._l(t.UNITS,(function(e){return s("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.user.fleet[2].units[e.ID],callback:function(s){t.$set(t.user.fleet[2].units,e.ID,s)},expression:"user.fleet[2].units[unit.ID]"}})}))],2)],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-btn",{attrs:{color:"primary",block:"",text:""},on:{click:t.submit}},[t._v("Schließen")])],1)],1)],1)],1)],1)},dt=[],ht={name:"GnEditFleet",props:{value:Object,show:{type:Boolean,default:!1},close:{type:Function,default:function(){}}},data:function(){return{dialog:!1}},watch:{show(t){t&&(this.dialog=!0),t||(this.dialog=!1)}},computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},user:{get(){return this.value},set(t){this.$emit("input",t)}}},methods:{setDuration:function(t){this.user.fleet[1].duration=t,this.user.fleet[2].duration=t},clean:function(t){for(let e=0;e<3;e++)Object.keys(t.fleet[e].units).forEach((s=>(0==t.fleet[e].units[s]||""==t.fleet[e].units[s])&&delete t.fleet[e].units[s])),Object.keys(t.fleet[e].units).forEach((s=>t.fleet[e].units[s]=parseInt(t.fleet[e].units[s])));return Object.keys(t.orb).forEach((e=>(0==t.orb[e]||""==t.orb[e])&&delete t.orb[e])),Object.keys(t.orb).forEach((e=>t.orb[e]=parseInt(t.orb[e]))),t},submit:function(){0==this.user.id.length&&(this.user.id=Date.now()),this.user=this.clean(this.user),this.close()}}},mt=ht,gt=(0,i.Z)(mt,ft,dt,!1,null,null,null),vt=gt.exports;u()(gt,{VBtn:Q.Z,VBtnToggle:tt.Z,VCard:I.Z,VCardActions:T.h7,VCardText:T.ZB,VCol:R.Z,VDialog:et.Z,VDivider:N.Z,VIcon:d.Z,VRow:L.Z,VSpacer:st.Z,VTextField:rt.Z,VToolbar:nt.Z,VToolbarItems:ot.lj,VToolbarTitle:ot.qW});var pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gn-user-fleet-settings"},[s("span",{staticClass:"gn-user-fleet-settings-delay"},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s("v-icon",t._g(t._b({attrs:{small:""}},"v-icon",a,!1),r),[t._v("mdi-clock-start")])]}}])},[s("span",[t._v("Startverzögerung in Ticks")])]),s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.delay,expression:"delay"}],staticClass:"gn-user-fleet-settings-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.delay=e.target.multiple?s:s[0]}}},t._l(21,(function(e,r){return s("option",{key:r,domProps:{value:r}},[t._v(t._s(r))])})),0)])],1),s("span",{staticClass:"gn-user-fleet-settings-duration"},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s("v-icon",t._g(t._b({attrs:{small:""}},"v-icon",a,!1),r),[t._v("mdi-clock-time-three-outline")])]}}])},[s("span",[t._v("Aufenthaltszeit in Ticks")])]),s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"duration"}],staticClass:"gn-user-fleet-settings-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.duration=e.target.multiple?s:s[0]}}},t._l(20,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)])],1)])},bt=[],kt={name:"GnUserFleetSettings",components:{},props:{user:function(){return{type:Object,default:{}}},fleet:function(){return{type:Number,default:1}}},computed:{duration:{set(t){this.$root.$emit("selectDuration",this.user.id,this.fleet,t)},get(){return this.user.fleet[this.fleet].duration}},delay:{set(t){this.$root.$emit("selectDelay",this.user.id,this.fleet,t)},get(){return this.user.fleet[this.fleet].delay}}},methods:{format(t){return Number(t).toLocaleString()},displayShip:function(t,e){return" "+this.format(e)+" "+this.UNITS[t].SHORT}}},yt=kt,_t=s(7337),Et=(0,i.Z)(yt,pt,bt,!1,null,null,null),jt=Et.exports;u()(Et,{VIcon:d.Z,VTooltip:_t.Z});var xt={name:"GnUser",components:{GnUserFleetSettings:jt,GnEditFleet:vt},props:{value:Object,type:function(){return{type:Number,default:2}},deleteUser:{type:Function,default:function(){}}},data:function(){return{showEdit:!1}},computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},user:{get(){return this.value},set(t){this.$emit("input",t)}},getUserName:function(){let t="";return t=this.user.name?this.user.name:this.user.id+"",this.user.galaxy&&(t+=" ("+this.user.galaxy+":"+this.user.nr+")"),t=t.substring(0,16),t}},methods:{format(t){return Number(t).toLocaleString()},displayShip:function(t,e){if(e>0)return" "+this.format(e)+" "+this.UNITS[t].SHORT},displayOrb:function(t,e){if(e>0)return" "+this.format(e)+" "+this.ORB[t].SHORT},displayPoints:function(t){return" "+this.format(t)},displayExen:function(t,e){return" "+this.format(e)+" "+this.EXEN[t].SHORT},changeType(){this.$root.$emit("changeType",this.user.id,this.type)},closeEdit:function(){this.showEdit=!1}}},St=xt,wt=(0,i.Z)(St,ct,ut,!1,null,null,null),Ct=wt.exports;u()(wt,{VCol:R.Z,VIcon:d.Z,VRow:L.Z,VSpacer:st.Z});var At=s(9669),Dt=s.n(At),Ot={name:"GnSimulator",components:{GnCombatResults:q,GnAddFleet:it,GnUser:Ct},data:()=>({users:[],ticks:5,results:[],alert:!1}),computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},url:function(){let t=location.origin+location.pathname;if(this.users.length>0){let e=JSON.stringify(this.users),s=btoa(e);t=t+"?a="+s}return t}},methods:{copyURL:async function(){try{await navigator.clipboard.writeText(this.url),this.alert=!0}catch(t){console.warn("kopieren fehlgeschlagen")}},getNewRequestObj:function(t=0){return{data:{type:"combats",attributes:{target:{fleets:[],extractors:{metal:0,crystal:0}},attackers:[],defenders:[],config:{mode:t}}}}},getNewTargetObj:function(t){return{name:""+t,fleets:[],extractors:{metal:0,crystal:0}}},getNewUserObj:function(t){return{name:""+t,fleets:[]}},addUser:function(t){this.users.push(t)},deleteUser:function(t){let e=this.users.findIndex((e=>e.id==t.id));this.users.splice(e,1)},getUserByID:function(t){return this.users.find((e=>e.id==t))},getCombatMode:function(t){let e=0;return t&&Object.keys(t.units).forEach((t=>{A.nd[t]&&A.nd[t].PRETICKS&&A.nd[t].PRETICKS>e&&(e=A.nd[t].PRETICKS)})),e},updateUsers:function(t,e){if(e&&e.data.attributes.attackers&&e.data.attributes.attackers.forEach((e=>{let s=t.findIndex((t=>t.id==e.name));s>-1&&e.fleets.after.forEach((e=>{Object.keys(t[s].fleet).forEach((r=>{r==e.name&&(t[s].fleet[r].units=e.units)}))}))})),e&&e.data.attributes.target){let s=t.findIndex((t=>t.id==e.data.attributes.target.name));if(s>-1){let r=t[s],a=e.data.attributes.target,n={id:r.id,name:r.name,type:r.type,exen:{},orb:{},fleet:{0:{},1:{},2:{}}};Object.keys(A.e7).forEach((t=>{n.exen[t]=a.extractors.after[t]})),e.data.attributes.target.fleets.after.forEach((t=>{let e=r.fleet[t.name],s={units:{},delay:e.delay,duration:e.duration};Object.keys(t.units).forEach((e=>{A.nd[e]?n.orb[e]=t.units[e]:s.units[e]=t.units[e]})),n.fleet[t.name]=s})),t[s]=n}}},getPreTickUsers:function(t,e){let s=this,r={target:void 0,attackers:[],defenders:[]};return t.forEach((function(t){switch(t.type){case 0:let a=s.getNewTargetObj(t.id);Object.keys(A.e7).forEach((e=>{a.extractors[e]=t.exen[e]?parseInt(t.exen[e]):0}));for(let e=0;e<=2;e++){let s={name:""+e,units:0==e?{...t.fleet[e].units,...t.orb}:{...t.fleet[e].units}};Object.keys(s.units).length>0&&a.fleets.push(s)}r.target=a;break;case 1:break;case 2:let n=s.getNewUserObj(t.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...t.fleet[s].units},calculateCarrierCapacityLosses:t.fleet[s].delay+t.fleet[s].duration==e+1};t.fleet[s].delay==e&&Object.keys(r.units).length>0&&n.fleets.push(r)}n.fleets.length>0&&r.attackers.push(n);break}})),r},getNewUsers:function(t,e){let s=this,r={target:void 0,attackers:[],defenders:[]};return t.forEach((function(t){switch(t.type){case 0:if(0==e){let e=s.getNewTargetObj(t.id);Object.keys(A.e7).forEach((s=>{e.extractors[s]=t.exen[s]?parseInt(t.exen[s]):0}));for(let s=0;s<=2;s++){let r={name:""+s,units:0==s?{...t.fleet[s].units,...t.orb}:{...t.fleet[s].units}};Object.keys(r.units).length>0&&e.fleets.push(r)}r.target=e}break;case 1:let a=s.getNewUserObj(t.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...t.fleet[s].units},calculateCarrierCapacityLosses:t.fleet[s].delay+t.fleet[s].duration==e+1};t.fleet[s].delay==e&&Object.keys(r.units).length>0&&a.fleets.push(r)}a.fleets.length>0&&r.defenders.push(a);break;case 2:let n=s.getNewUserObj(t.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...t.fleet[s].units},calculateCarrierCapacityLosses:t.fleet[s].delay+t.fleet[s].duration==e+1};t.fleet[s].delay==e&&Object.keys(r.units).length>0&&n.fleets.push(r)}n.fleets.length>0&&r.attackers.push(n);break}})),r},getNextPreTickRequest:function(t,e){let s=this.getNewRequestObj(e);return s.data.attributes.target=t.target,s.data.attributes.attackers=s.data.attributes.attackers.concat(t.attackers),s},getNextRequest:function(t,e,s,r){let a=this,n=this.getNewRequestObj(r);if(s.target&&!t&&(n.data.attributes.target=s.target),n.data.attributes.defenders=s.defenders,n.data.attributes.attackers=s.attackers,t){let r=t.data.attributes;r.target&&(n.data.attributes.target.name=r.target.name,r.target.fleets.after.forEach((t=>{n.data.attributes.target.fleets.push({name:t.name,units:t.units})})),Object.keys(A.e7).forEach((t=>{n.data.attributes.target.extractors[t]=r.target.extractors.after[t]}))),r.defenders&&r.defenders.forEach((t=>{let s=this.getNewUserObj(t.name);t.fleets.after.forEach((r=>{let n=a.getUserByID(t.name),o=n.fleet[r.name].delay+n.fleet[r.name].duration;e!=o&&n.fleet[r.name].delay+n.fleet[r.name].duration>e&&s.fleets.push({name:r.name,units:{...r.units},calculateCarrierCapacityLosses:n.fleet[r.name].delay+n.fleet[r.name].duration==e+1})})),s.fleets.length>0&&n.data.attributes.defenders.push(s)})),r.attackers&&r.attackers.forEach((t=>{let r=s.attackers.findIndex((e=>e.name==t.name)),o=this.getNewUserObj(t.name);t.fleets.after.forEach((n=>{let l=-1;if(r>-1&&(l=s.attackers[r].fleets.findIndex((t=>t.name==n.name))),l>-1)return;let i=a.getUserByID(t.name),c=i.fleet[n.name].delay+i.fleet[n.name].duration;e!=c&&i.fleet[n.name].delay+i.fleet[n.name].duration>e&&o.fleets.push({name:n.name,units:{...n.units},calculateCarrierCapacityLosses:i.fleet[n.name].delay+i.fleet[n.name].duration==e+1})})),o.fleets.length>0&&n.data.attributes.attackers.push(o)}))}return n},simulate:async function(){let t,e,s,r={headers:{Accept:"application/vnd.api+json;version=1.0","Content-Type":"application/json"}},a=JSON.parse(JSON.stringify(this.users)),n=this.getNewUsers(a,0),o=this.getCombatMode(n.target.fleets[0]);this.results=[];for(let i=-2;i<this.ticks;i++)try{let n;t&&(o=this.getCombatMode(t.data.attributes.target.fleets.after[0])),o>1&&(n=this.getPreTickUsers(a,i+2),n.attackers.length>0&&(e=this.getNextPreTickRequest(n,2),s=await Dt().post("https://galactic-conquest.de/api/combats",e,r),this.updateUsers(a,s.data),this.results.push({tick:i+1,request:e,response:s.data,mode:2}))),o>0&&(n=this.getPreTickUsers(a,i+1),n.attackers.length>0&&(e=this.getNextPreTickRequest(n,1),s=await Dt().post("https://galactic-conquest.de/api/combats",e,r),this.updateUsers(a,s.data),this.results.push({tick:i+1,request:e,response:s.data,mode:1}))),n=this.getNewUsers(a,i),(n.target||n.defenders.length>0||n.attackers.length>0||t)&&i>=0&&(e=this.getNextRequest(t,i,n,0),s=await Dt().post("https://galactic-conquest.de/api/combats",e,r),t=s.data,this.updateUsers(a,s.data),this.results.push({tick:i+1,request:e,response:t,mode:0}))}catch(l){console.warn(l)}}},created:function(){let t=window.location.search.substring(1),e=new URLSearchParams(t),s=e.get("a");if(s){let t=atob(s);this.users=JSON.parse(t)}},mounted:function(){let t=this;this.$root.$on("selectDuration",((e,s,r)=>{let a=t.users.find((t=>t.id==e));a.fleet[s].duration=r})),this.$root.$on("selectDelay",((e,s,r)=>{let a=t.users.find((t=>t.id==e));a.fleet[s].delay=r})),this.$root.$on("changeType",((e,s)=>{let r=s;switch(s){case 0:r=1;break;case 1:r=2;break;case 2:r=0;break;default:break}let a=t.users.find((t=>t.id==e));a&&(a.type=r)}))}},It=Ot,Tt=s(1819),Rt=s(4654),Nt=(0,i.Z)(It,E,j,!1,null,null,null),Lt=Nt.exports;u()(Nt,{VBtn:Q.Z,VCol:R.Z,VContainer:Tt.Z,VDivider:N.Z,VRow:L.Z,VSnackbar:Rt.Z,VTextField:rt.Z});var Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("h1",{staticClass:"mb-1 mt-5"},[t._v("Scan einlesen")])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-textarea",{staticClass:"gn-parse-input",attrs:{clearable:"",dense:""},model:{value:t.scanText,callback:function(e){t.scanText=e},expression:"scanText"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("div",{staticClass:"gn-parse-button"},[s("v-btn",{attrs:{width:"100%",tile:""},on:{click:function(e){return t.parse()}}},[t._v("Parse")])],1)])],1),t.showParse?s("v-row",[s("v-col",{attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[s("gn-user",{attrs:{type:t.user.type,deleteUser:t.deleteUser},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1)],1):t._e(),s("v-divider",{staticClass:"mt-5"}),s("v-row",{staticClass:"mt-3"},[t.user.points?s("v-col",{attrs:{cols:"12",sm:"6",md:"4",lg:"2"}},[s("v-card",[s("v-card-title",[t._v("Ressourcenberechnung")]),s("v-card-text",[s("table",{staticClass:"gn-ressourcen-info"},[s("tr",[s("td",[t._v("Punkte durch Exen:")]),s("td",[t._v(t._s(t.format(t.pointsFromExen)))])]),s("tr",[s("td",[t._v("Punkte durch Orb:")]),s("td",[t._v(t._s(t.format(t.pointsFromOrb)))])]),s("tr",[s("td",[t._v("Punkte durch Schiffe:")]),s("td",{staticClass:"gn-ressourcen-info-line"},[t._v(t._s(t.format(t.pointsFromShips)))])]),s("tr",[s("td",[t._v("Gesamtpunkte:")]),s("td",[t._v(t._s(t.format(t.totalPoints)))])]),s("tr",[s("td",[t._v("Punkte laut Scan:")]),s("td",{staticClass:"gn-ressourcen-info-line"},[t._v(t._s(t.format(t.user.points)))])]),s("tr",[s("td",[t._v("Punkte durch Ress:")]),s("td",[t._v(t._s(t.format(t.pointsFromRes)))])]),s("tr",[s("td",[t._v("Ressourcen:")]),s("td",{staticClass:"gn-ressourcen-info-line"},[t._v(t._s(t.format(t.ressources)))])])])])],1)],1):t._e(),t.pointsPerTick.length?s("v-col",{attrs:{cols:"12",sm:"6",md:"4",lg:"2"}},[s("v-card",[s("v-card-title",[t._v("Punkteberechnung")]),s("v-card-text",[s("table",{staticClass:"gn-ressourcen-info"},t._l(t.pointsPerTick,(function(e){return s("tr",{key:e.tick},[s("td",[t._v("ETA "+t._s(t.getETA(e.tick)))]),s("td",[t._v(t._s(t.format(e.points)))])])})),0)])],1)],1):t._e()],1)],1)],1)},Zt=[],Mt=s(381),Pt=s.n(Mt),Ut={name:"GnScanAuswertung",components:{GnUser:Ct},data:()=>({scanText:"",showParse:!1,user:{id:"",name:"",points:0,type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}}),computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},pointsFromExen:function(){let t=0,e=this.user.exen;return Object.keys(A.e7).forEach((s=>{e[s]&&(t+=15e3*e[s])})),t},pointsFromOrb:function(){let t=0,e=this.user.orb;return console.warn(A.nd),Object.keys(A.nd).forEach((s=>{const r=A.nd[s];e[r.ID]&&(t+=e[r.ID]*(r.CRYSTAL+r.METAL))})),console.warn(t),t},pointsFromShips:function(){let t=0,e=this.user;for(let s=0;s<3;s++)Object.keys(e.fleet[s].units).forEach((r=>t+=e.fleet[s].units[r]*(A.uo[r].CRYSTAL+A.uo[r].METAL)));return t},totalPoints:function(){return this.pointsFromExen+this.pointsFromOrb+this.pointsFromShips},pointsFromRes:function(){return this.user.points-this.totalPoints},ressources:function(){return 10*this.pointsFromRes},pointsPerTick:function(){let t=[];if(this.showParse&&this.user.points){let e=parseInt(this.user.points);t.push({tick:0,points:e});let s=0,r=this.user.exen;Object.keys(A.e7).forEach((t=>{r[t]&&(s+=50*r[t])}));for(let a=1;a<=30;a++)e+=s,t.push({tick:a,points:e})}return t}},methods:{format(t){return Number(t).toLocaleString()},getETA(t){let e=Pt()().hour(7).minute(30);return e.subtract(15*t,"minutes").format("H:mm")},parse:async function(){this.user=Y.parse(this.scanText,this.user),this.showParse=!0,await this.$forceUpdate(),console.warn(this.user)},deleteUser:async function(){this.showParse=!1,this.user={id:"",name:"",points:0,type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}}}},Bt=Ut,Ft=(0,i.Z)(Bt,Vt,Zt,!1,null,null,null),zt=Ft.exports;u()(Ft,{VBtn:Q.Z,VCard:I.Z,VCardText:T.ZB,VCardTitle:T.EB,VCol:R.Z,VContainer:Tt.Z,VDivider:N.Z,VRow:L.Z,VTextarea:at.Z}),r.Z.use(_.ZP);var $t=new _.ZP({routes:[{path:"/",component:Lt},{path:"/ScanAuswertung",component:zt}]}),Gt=s(5205);(0,Gt.z)("/GN-Tools-Site/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var Kt=s(6482);r.Z.use(Kt.Z);var qt=new Kt.Z({});r.Z.config.productionTip=!1,new r.Z({router:$t,vuetify:qt,render:function(t){return t(y)}}).$mount("#app")}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,function(){var t=[];s.O=function(e,r,a,n){if(!r){var o=1/0;for(u=0;u<t.length;u++){r=t[u][0],a=t[u][1],n=t[u][2];for(var l=!0,i=0;i<r.length;i++)(!1&n||o>=n)&&Object.keys(s.O).every((function(t){return s.O[t](r[i])}))?r.splice(i--,1):(l=!1,n<o&&(o=n));if(l){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[r,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,n,o=r[0],l=r[1],i=r[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(i)var u=i(s)}for(e&&e(r);c<o.length;c++)n=o[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(u)},r=self["webpackChunkgnsimulator"]=self["webpackChunkgnsimulator"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(6389)}));r=s.O(r)})();
//# sourceMappingURL=app-legacy.d5fc45eb.js.map