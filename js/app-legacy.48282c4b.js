(function(){"use strict";var t={7196:function(t,e,r){var s=r(144),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-main",[r("v-container",[r("v-row",[r("v-col",[r("h1",[t._v("Flotten")])])],1),r("v-divider",{staticClass:"mb-5"}),r("v-row",[t._l(t.users,(function(t){return r("v-col",{key:t.id,attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[r("gn-user",{attrs:{user:t,type:t.type}})],1)})),r("v-col",{attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[r("gn-add-fleet",{attrs:{add:t.addUser}})],1)],2),r("v-row",{staticClass:"mt-5"},[r("v-col",{attrs:{cols:"6",md:"2"}},[r("v-text-field",{attrs:{type:"Number",label:"Anzahl Ticks"},model:{value:t.ticks,callback:function(e){t.ticks=e},expression:"ticks"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-btn",{on:{click:t.simulate}},[t._v("Simulate")])],1)],1),r("v-divider",{staticClass:"mt-5"}),r("gn-combat-results",{attrs:{results:t.results}}),r("v-divider",{staticClass:"mb-5"})],1)],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}]},[r("h1",{staticClass:"mt-5"},[t._v("Übersicht")]),r("v-divider"),r("gn-combat-result-overview",{attrs:{results:t.results}}),t._l(t.results,(function(e){return r("div",{key:e.tick},[r("h1",{staticClass:"mt-5"},[t._v("Tick "+t._s(e.tick))]),r("v-divider"),r("gn-combat-result",{attrs:{result:e.response}})],1)}))],2)},l=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}]},[r("v-card",{staticClass:"gn-overview"},[r("v-card-text",[r("v-row",[r("v-col",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"7"}},[r("table",{staticClass:"gn-overview-table"},[r("colgroup",[r("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),r("thead",[r("th",[t._v("Verteidiger")]),r("th",[t._v("Vorher")]),r("th",[t._v("Nachher")]),r("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return r("tr",{key:"dShip"+e.ID},[r("td",[t._v(t._s(e.NAME))]),r("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),r("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),r("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.ORB,(function(e){return r("tr",{key:"dOrb"+e.ID},[r("td",[t._v(t._s(e.NAME))]),r("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),r("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),r("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.EXEN,(function(e){return r("tr",{key:"dExe"+e.ID},[r("td",[t._v(t._s(e.NAME))]),r("td",[t._v(t._s(t.format(t.getExenBefore(e.ID))))]),r("td",[t._v(t._s(t.format(t.getExenAfter(e.ID))))]),r("td",[t._v(t._s(t.format(t.getExenLost(e.ID))))])])}))],2)]),r("v-col",{attrs:{cols:"12",md:"5"}},[r("table",{staticClass:"gn-overview-table"},[r("colgroup",[r("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),r("thead",[r("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return r("tr",{key:"dRes"+e.ID},[r("td",[t._v(t._s(e.NAME+":"))]),r("td",[t._v(t._s(t.format(t.getDefenderCosts(e.ID))))])])})),r("tr",[r("td",[t._v("Summe:")]),r("td",[t._v(t._s(t.format(t.getSumDefenderCosts())))])]),r("thead",[r("th",{attrs:{colspan:"2"}},[t._v("Bergungsressourcen")])]),t._l(t.RESOURCES,(function(e){return r("tr",{key:"dBRes"+e.ID+"1"},[r("td",[t._v(t._s(e.NAME+":"))]),r("td",[t._v(t._s(t.format(t.getDefenderBR(e.ID))))])])})),r("tr",[r("td",[t._v("Summe:")]),r("td",[t._v(t._s(t.format(t.getSumDefenderBR())))])]),r("tr",[r("td",[t._v(t._s(t.getSumDefenderProfit()>=0?"Gewinn:":"Verlust:"))]),r("td",[t._v(t._s(t.format(t.getSumDefenderProfit())))])])],2)])],1)],1),r("v-divider",{attrs:{vertical:""}}),r("v-col",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"7"}},[r("table",{staticClass:"gn-overview-table"},[r("colgroup",[r("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),r("thead",[r("th",[t._v("Angreifer")]),r("th",[t._v("Vorher")]),r("th",[t._v("Nachher")]),r("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return r("tr",{key:"aShips"+e.ID},[r("td",[t._v(t._s(e.NAME))]),r("td",[t._v(t._s(t.format(t.getAttackerBefore(e.ID))))]),r("td",[t._v(t._s(t.format(t.getAttackerAfter(e.ID))))]),r("td",[t._v(t._s(t.format(t.getAttackerLost(e.ID))))])])}))],2)]),r("v-col",{attrs:{cols:"12",md:"5"}},[r("table",{staticClass:"gn-overview-table"},[r("colgroup",[r("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),r("thead",[r("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return r("tr",{key:"aRes"+e.ID},[r("td",[t._v(t._s(e.NAME+":"))]),r("td",[t._v(t._s(t.format(t.getAttackerCosts(e.ID))))])])})),r("tr",[r("td",[t._v("Summe:")]),r("td",[t._v(t._s(t.format(t.getSumAttackerCosts())))])]),r("thead",[r("th",{attrs:{colspan:"2"}},[t._v("Exen")])]),t._l(t.EXEN,(function(e){return r("tr",{key:"aExe"+e.ID},[r("td",[t._v(t._s(e.NAME+":"))]),r("td",[t._v(t._s(t.format(t.getAttackerExenStolen(e.ID))))])])})),r("tr",[r("td",[t._v("Summe:")]),r("td",[t._v(t._s(t.format(t.getSumAttackerExenStolen())))])]),r("tr",[r("td",[t._v("Kosten pro Exe:")]),r("td",[t._v(t._s(t.format(t.getAttackerCostsPerExe())))])])],2)])],1)],1)],1)],1)],1)],1)},i=[],u=JSON.parse('{"uo":{"JA":{"ID":"JA","NAME":"Jäger","SHORT":"JÄ"},"BO":{"ID":"BO","NAME":"Bomber","SHORT":"BO"},"FR":{"ID":"FR","NAME":"Fregatte","SHORT":"FR"},"ZE":{"ID":"ZE","NAME":"Zerstörer","SHORT":"ZE"},"KR":{"ID":"KR","NAME":"Kreuzer","SHORT":"KR"},"SS":{"ID":"SS","NAME":"Schlachtschiff","SHORT":"SS"},"TR":{"ID":"TR","NAME":"Trägerschiff","SHORT":"TR"},"CL":{"ID":"CL","NAME":"Kaperschiff","SHORT":"CL"},"CA":{"ID":"CA","NAME":"Schutzschiff","SHORT":"CA"}},"nd":{"LO":{"ID":"LO","NAME":"Rubium","SHORT":"LO"},"LR":{"ID":"LR","NAME":"Pulsar","SHORT":"LR"},"MR":{"ID":"MR","NAME":"Coon","SHORT":"MR"},"SR":{"ID":"SR","NAME":"Centurion","SHORT":"SR"},"AJ":{"ID":"AJ","NAME":"Abfangjäger","SHORT":"AJ"}},"e7":{"metal":{"ID":"metal","SHORT":"M","NAME":"Metall Exen"},"crystal":{"ID":"crystal","SHORT":"K","NAME":"Kristall Exen"}},"rP":{"metal":{"ID":"metal","NAME":"Metall"},"crystal":{"ID":"crystal","NAME":"Kristall"}},"nN":{"jaeger":"JA","jäger":"JA","jä":"JA","leo":"JA","bomber":"BO","bo":"BO","aquilae":"BO","fregatte":"FR","fregatten":"FR","fr":"FR","fornax":"FR","zerstörer":"ZE","zerstoerer":"ZE","ze":"ZE","draco":"ZE","kreuzer":"KR","kr":"KR","goron":"KR","schlachtschiff":"SS","schlachtschiffe":"SS","schlachter":"SS","ss":"SS","pentalin":"SS","trägerschiff":"TR","trägerschiffe":"TR","träger":"TR","traegerschiff":"TR","traegerschiffe":"TR","traeger":"TR","tr":"TR","zenit":"TR","kaperschiff":"CL","kaperschiffe":"CL","cl":"CL","cleptor":"CL","kleptoren":"CL","schutzschiff":"CA","schutzschiffe":"CA","ca":"CA","cancri":"CA","cancris":"CA","rubium":"LO","lo":"LO","pulsar":"LR","lr":"LR","coon":"MR","mr":"MR","centurion":"SR","sr":"SR","horus":"AJ","aj":"AJ","m-extraktoren":"metal","k-extraktoren":"crystal"}}'),f={name:"GnCombatResultOverview",props:{results:function(){return{type:Array,default:[]}}},computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7},RESOURCES:function(){return u.rP},total:function(){let t=this,e=[],r={target:{name:"Verteidiger",extractors:{before:{},after:{},stolen:{}},fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}}}]},resources:{salvaged:{}}},attackers:[{name:"Angreifer",fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}},extractors:{stolen:{}}}]}}]};for(let s=0;s<this.results.length;s++){let a=this.results[s].response.data.attributes;a.target&&(0==s&&(Object.keys(u.e7).forEach((t=>{r.target.extractors.before[t]=a.target.extractors.before[t]})),a.target.fleets.before.forEach((e=>{Object.keys(e.units).forEach((s=>{t.add(r.target.fleets.before[0].units,s,e.units[s])}))}))),a.target.fleets.after.forEach((e=>{Object.keys(e.losses).forEach((s=>{t.add(r.target.fleets.after[0].losses,s,e.losses[s])})),Object.keys(e.destroyed).forEach((s=>{t.add(r.target.fleets.after[0].destroyed,s,e.destroyed[s])})),Object.keys(u.rP).forEach((s=>{t.add(r.target.fleets.after[0].resources.cost,s,e.resources.cost[s])}))})),Object.keys(u.e7).forEach((e=>{r.target.extractors.after[e]=a.target.extractors.after[e],t.add(r.target.extractors.stolen,e,a.target.extractors.stolen[e])})),Object.keys(u.rP).forEach((e=>{t.add(r.target.resources.salvaged,e,a.target.resources.salvaged[e])}))),a.defenders&&(a.defenders.forEach((s=>{let a=e.find((t=>t.id==s.name));a||(a={id:s.name,fleets:[]},e.push(a)),s.fleets.before.forEach((e=>{a.fleets.find((t=>t==e.name))||(a.fleets.push(e.name),Object.keys(e.units).forEach((s=>{t.add(r.target.fleets.before[0].units,s,e.units[s])})))}))})),a.defenders.forEach((e=>{e.fleets.after.forEach((e=>{Object.keys(e.losses).forEach((s=>{t.add(r.target.fleets.after[0].losses,s,e.losses[s])})),Object.keys(e.destroyed).forEach((s=>{t.add(r.target.fleets.after[0].destroyed,s,e.destroyed[s])})),Object.keys(u.rP).forEach((s=>{t.add(r.target.resources.salvaged,s,e.resources.salvaged[s]),t.add(r.target.fleets.after[0].resources.cost,s,e.resources.cost[s])}))}))}))),a.attackers&&(a.attackers.forEach((s=>{let a=e.find((t=>t.id==s.name));a||(a={id:s.name,fleets:[]},e.push(a)),s.fleets.before.forEach((e=>{a.fleets.find((t=>t==e.name))||(a.fleets.push(e.name),Object.keys(e.units).forEach((s=>{t.add(r.attackers[0].fleets.before[0].units,s,e.units[s])})))}))})),a.attackers.forEach((e=>{e.fleets.after.forEach((e=>{Object.keys(e.losses).forEach((s=>{t.add(r.attackers[0].fleets.after[0].losses,s,e.losses[s])})),Object.keys(e.destroyed).forEach((s=>{t.add(r.attackers[0].fleets.after[0].destroyed,s,e.destroyed[s])})),Object.keys(u.rP).forEach((s=>{t.add(r.attackers[0].fleets.after[0].resources.cost,s,e.resources.cost[s])})),Object.keys(u.e7).forEach((s=>{t.add(r.attackers[0].fleets.after[0].extractors.stolen,s,e.extractors.stolen[s])}))}))})))}return r}},methods:{format(t){return Number(t).toLocaleString()},getExenBefore(t){return this.total.target.extractors.before[t]?this.total.target.extractors.before[t]:0},getExenAfter(t){return this.total.target.extractors.after[t]?this.total.target.extractors.after[t]:0},getExenLost(t){return this.total.target.extractors.stolen[t]?this.total.target.extractors.stolen[t]:0},getDefenderBefore(t){return this.total.target.fleets.before[0].units[t]?this.total.target.fleets.before[0].units[t]:0},getDefenderAfter(t){return this.getDefenderBefore(t)-this.getDefenderLost(t)},getDefenderLost(t){return this.total.target.fleets.after[0].losses[t]?this.total.target.fleets.after[0].losses[t]:0},getDefenderCosts(t){return this.total.target.fleets.after[0].resources.cost[t]?this.total.target.fleets.after[0].resources.cost[t]:0},getSumDefenderCosts(){let t=this,e=0;return Object.keys(u.rP).forEach((r=>{e+=t.total.target.fleets.after[0].resources.cost[r]?t.total.target.fleets.after[0].resources.cost[r]:0})),e},getDefenderBR(t){return this.total.target.resources.salvaged[t]?this.total.target.resources.salvaged[t]:0},getSumDefenderBR(){let t=this,e=0;return Object.keys(u.rP).forEach((r=>{e+=t.total.target.resources.salvaged[r]?t.total.target.resources.salvaged[r]:0})),e},getSumDefenderProfit(){return this.getSumDefenderBR()-this.getSumDefenderCosts()},getAttackerBefore(t){return this.total.attackers[0].fleets.before[0].units[t]?this.total.attackers[0].fleets.before[0].units[t]:0},getAttackerAfter(t){return this.getAttackerBefore(t)-this.getAttackerLost(t)},getAttackerLost(t){return this.total.attackers[0].fleets.after[0].losses[t]?this.total.attackers[0].fleets.after[0].losses[t]:0},getAttackerCosts(t){return this.total.attackers[0].fleets.after[0].resources.cost[t]?this.total.attackers[0].fleets.after[0].resources.cost[t]:0},getSumAttackerCosts(){let t=this,e=0;return Object.keys(u.rP).forEach((r=>{e+=t.total.attackers[0].fleets.after[0].resources.cost[r]?t.total.attackers[0].fleets.after[0].resources.cost[r]:0})),e},getAttackerExenStolen(t){return this.total.attackers[0].fleets.after[0].extractors.stolen[t]?this.total.attackers[0].fleets.after[0].extractors.stolen[t]:0},getSumAttackerExenStolen(){let t=this,e=0;return Object.keys(u.e7).forEach((r=>{e+=t.total.attackers[0].fleets.after[0].extractors.stolen[r]?t.total.attackers[0].fleets.after[0].extractors.stolen[r]:0})),e},getAttackerCostsPerExe(){let t=this.getSumAttackerExenStolen();return t>0?Math.round(this.getSumAttackerCosts()/t):0},add:function(t,e,r){return void 0==t[e]&&(t[e]=0),t[e]+=r,t}}},d=f,h=r(1001),g=r(3453),v=r.n(g),m=r(2026),p=r(5255),_=r(7024),b=r(5596),y=r(7894),k=(0,h.Z)(d,c,i,!1,null,null,null),E=k.exports;v()(k,{VCard:m.Z,VCardText:p.ZB,VCol:_.Z,VDivider:b.Z,VRow:y.Z});var S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.result.data,expression:"result.data"}]},[r("v-card",{staticClass:"gn-combat-result"},[r("v-card-text",[r("v-row",[r("v-col",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"7"}},[r("table",{staticClass:"gn-combat-result-table"},[r("colgroup",[r("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),r("thead",[r("th",[t._v("Verteidiger")]),r("th",[t._v("Vorher")]),r("th",[t._v("Nachher")]),r("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return r("tr",{key:"dShip"+e.ID},[r("td",[t._v(t._s(e.NAME))]),r("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),r("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),r("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.ORB,(function(e){return r("tr",{key:"dOrb"+e.ID},[r("td",[t._v(t._s(e.NAME))]),r("td",[t._v(t._s(t.format(t.getDefenderBefore(e.ID))))]),r("td",[t._v(t._s(t.format(t.getDefenderAfter(e.ID))))]),r("td",[t._v(t._s(t.format(t.getDefenderLost(e.ID))))])])})),t._l(t.EXEN,(function(e){return r("tr",{key:"dExe"+e.ID},[r("td",[t._v(t._s(e.NAME))]),r("td",[t._v(t._s(t.format(t.getExenBefore(e.ID))))]),r("td",[t._v(t._s(t.format(t.getExenAfter(e.ID))))]),r("td",[t._v(t._s(t.format(t.getExenLost(e.ID))))])])}))],2)]),r("v-col",{attrs:{cols:"12",md:"5"}},[r("table",{staticClass:"gn-overview-table"},[r("colgroup",[r("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),r("thead",[r("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return r("tr",{key:"dRes"+e.ID},[r("td",[t._v(t._s(e.NAME+":"))]),r("td",[t._v(t._s(t.format(t.getDefenderCosts(e.ID))))])])})),r("tr",[r("td",[t._v("Summe:")]),r("td",[t._v(t._s(t.format(t.getSumDefenderCosts())))])]),r("thead",[r("th",{attrs:{colspan:"2"}},[t._v("Bergungsressourcen")])]),t._l(t.RESOURCES,(function(e){return r("tr",{key:"dBRes"+e.ID+"1"},[r("td",[t._v(t._s(e.NAME+":"))]),r("td",[t._v(t._s(t.format(t.getDefenderBR(e.ID))))])])})),r("tr",[r("td",[t._v("Summe:")]),r("td",[t._v(t._s(t.format(t.getSumDefenderBR())))])]),r("tr",[r("td",[t._v(t._s(t.getSumDefenderProfit()>=0?"Gewinn:":"Verlust:"))]),r("td",[t._v(t._s(t.format(t.getSumDefenderProfit())))])])],2)])],1)],1),r("v-divider",{attrs:{vertical:""}}),r("v-col",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"7"}},[r("table",{staticClass:"gn-overview-table"},[r("colgroup",[r("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),r("thead",[r("th",[t._v("Angreifer")]),r("th",[t._v("Vorher")]),r("th",[t._v("Nachher")]),r("th",[t._v("Verluste")])]),t._l(t.UNITS,(function(e){return r("tr",{key:"aShip"+e.ID},[r("td",[t._v(t._s(e.NAME))]),r("td",[t._v(t._s(t.format(t.getAttackerBefore(e.ID))))]),r("td",[t._v(t._s(t.format(t.getAttackerAfter(e.ID))))]),r("td",[t._v(t._s(t.format(t.getAttackerLost(e.ID))))])])}))],2)]),r("v-col",{attrs:{cols:"12",md:"5"}},[r("table",{staticClass:"gn-overview-table"},[r("colgroup",[r("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),r("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),r("thead",[r("th",{attrs:{colspan:"2"}},[t._v("Kosten")])]),t._l(t.RESOURCES,(function(e){return r("tr",{key:"aRes"+e.ID},[r("td",[t._v(t._s(e.NAME+":"))]),r("td",[t._v(t._s(t.format(t.getAttackerCosts(e.ID))))])])})),r("tr",[r("td",[t._v("Summe:")]),r("td",[t._v(t._s(t.format(t.getSumAttackerCosts())))])]),r("thead",[r("th",{attrs:{colspan:"2"}},[t._v("Exen")])]),t._l(t.EXEN,(function(e){return r("tr",{key:"aExe"+e.ID},[r("td",[t._v(t._s(e.NAME+":"))]),r("td",[t._v(t._s(t.format(t.getAttackerExenStolen(e.ID))))])])})),r("tr",[r("td",[t._v("Summe:")]),r("td",[t._v(t._s(t.format(t.getSumAttackerExenStolen())))])]),r("tr",[r("td",[t._v("Kosten pro Exe:")]),r("td",[t._v(t._s(t.format(t.getAttackerCostsPerExe())))])])],2)])],1)],1)],1)],1)],1)],1)},x=[],D={name:"GnCombatResult",props:{result:function(){return{type:Object,default:{}}}},computed:{total:function(){let t=this,e={target:{name:"Verteidiger",extractors:{before:{},after:{},stolen:{}},fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}}}]},resources:{salvaged:{}}},attackers:[{name:"Angreifer",fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}},extractors:{stolen:{}}}]}}]},r=this.result.data.attributes;return Object.keys(u.e7).forEach((t=>{e.target.extractors.before[t]=r.target.extractors.before[t]})),r.target&&(r.target.fleets.before.forEach((r=>{Object.keys(r.units).forEach((s=>{t.add(e.target.fleets.before[0].units,s,r.units[s])}))})),r.target.fleets.after.forEach((r=>{Object.keys(r.units).forEach((s=>{t.add(e.target.fleets.after[0].units,s,r.units[s])})),Object.keys(r.losses).forEach((s=>{t.add(e.target.fleets.after[0].losses,s,r.losses[s])})),Object.keys(r.destroyed).forEach((s=>{t.add(e.target.fleets.after[0].destroyed,s,r.destroyed[s])})),Object.keys(u.rP).forEach((s=>{t.add(e.target.fleets.after[0].resources.cost,s,r.resources.cost[s])}))})),Object.keys(u.e7).forEach((t=>{e.target.extractors.after[t]=r.target.extractors.after[t],e.target.extractors.stolen[t]=r.target.extractors.stolen[t]})),Object.keys(u.rP).forEach((t=>{e.target.resources.salvaged[t]=r.target.resources.salvaged[t]}))),r.defenders&&(r.defenders.forEach((r=>{r.fleets.before.forEach((r=>{Object.keys(r.units).forEach((s=>{t.add(e.target.fleets.before[0].units,s,r.units[s])}))}))})),r.defenders.forEach((r=>{r.fleets.after.forEach((r=>{Object.keys(r.units).forEach((s=>{t.add(e.target.fleets.after[0].units,s,r.units[s])})),Object.keys(r.losses).forEach((s=>{t.add(e.target.fleets.after[0].losses,s,r.losses[s])})),Object.keys(r.destroyed).forEach((s=>{t.add(e.target.fleets.after[0].destroyed,s,r.destroyed[s])})),Object.keys(u.rP).forEach((s=>{t.add(e.target.resources.salvaged,s,r.resources.salvaged[s]),t.add(e.target.fleets.after[0].resources.cost,s,r.resources.cost[s])}))}))}))),r.attackers&&(r.attackers.forEach((r=>{r.fleets.before.forEach((r=>{Object.keys(r.units).forEach((s=>{t.add(e.attackers[0].fleets.before[0].units,s,r.units[s])}))}))})),r.attackers.forEach((r=>{r.fleets.after.forEach((r=>{Object.keys(r.units).forEach((s=>{t.add(e.attackers[0].fleets.after[0].units,s,r.units[s])})),Object.keys(r.losses).forEach((s=>{t.add(e.attackers[0].fleets.after[0].losses,s,r.losses[s])})),Object.keys(r.destroyed).forEach((s=>{t.add(e.attackers[0].fleets.after[0].destroyed,s,r.destroyed[s])})),Object.keys(u.rP).forEach((s=>{t.add(e.attackers[0].fleets.after[0].resources.cost,s,r.resources.cost[s])})),Object.keys(u.e7).forEach((s=>{t.add(e.attackers[0].fleets.after[0].extractors.stolen,s,r.extractors.stolen[s])}))}))}))),e},UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7},RESOURCES:function(){return u.rP}},methods:{format(t){return Number(t).toLocaleString()},getExenBefore(t){return this.total.target.extractors.before[t]?this.total.target.extractors.before[t]:0},getExenAfter(t){return this.total.target.extractors.after[t]?this.total.target.extractors.after[t]:0},getExenLost(t){return this.total.target.extractors.stolen[t]?this.total.target.extractors.stolen[t]:0},getDefenderBefore(t){return this.total.target.fleets.before[0].units[t]?this.total.target.fleets.before[0].units[t]:0},getDefenderAfter(t){return this.total.target.fleets.after[0].units[t]?this.total.target.fleets.after[0].units[t]:0},getDefenderLost(t){return this.total.target.fleets.after[0].losses[t]?this.total.target.fleets.after[0].losses[t]:0},getDefenderCosts(t){return this.total.target.fleets.after[0].resources.cost[t]?this.total.target.fleets.after[0].resources.cost[t]:0},getSumDefenderCosts(){let t=this,e=0;return Object.keys(u.rP).forEach((r=>{e+=t.total.target.fleets.after[0].resources.cost[r]?t.total.target.fleets.after[0].resources.cost[r]:0})),e},getDefenderBR(t){return this.total.target.resources.salvaged[t]?this.total.target.resources.salvaged[t]:0},getSumDefenderBR(){let t=this,e=0;return Object.keys(u.rP).forEach((r=>{e+=t.total.target.resources.salvaged[r]?t.total.target.resources.salvaged[r]:0})),e},getSumDefenderProfit(){return this.getSumDefenderBR()-this.getSumDefenderCosts()},getAttackerBefore(t){return this.total.attackers[0].fleets.before[0].units[t]?this.total.attackers[0].fleets.before[0].units[t]:0},getAttackerAfter(t){return this.total.attackers[0].fleets.after[0].units[t]?this.total.attackers[0].fleets.after[0].units[t]:0},getAttackerLost(t){return this.total.attackers[0].fleets.after[0].losses[t]?this.total.attackers[0].fleets.after[0].losses[t]:0},getAttackerCosts(t){return this.total.attackers[0].fleets.after[0].resources.cost[t]?this.total.attackers[0].fleets.after[0].resources.cost[t]:0},getSumAttackerCosts(){let t=this,e=0;return Object.keys(u.rP).forEach((r=>{e+=t.total.attackers[0].fleets.after[0].resources.cost[r]?t.total.attackers[0].fleets.after[0].resources.cost[r]:0})),e},getAttackerExenStolen(t){return this.total.attackers[0].fleets.after[0].extractors.stolen[t]?this.total.attackers[0].fleets.after[0].extractors.stolen[t]:0},getSumAttackerExenStolen(){let t=this,e=0;return Object.keys(u.e7).forEach((r=>{e+=t.total.attackers[0].fleets.after[0].extractors.stolen[r]?t.total.attackers[0].fleets.after[0].extractors.stolen[r]:0})),e},getAttackerCostsPerExe(){let t=this.getSumAttackerExenStolen();return t>0?Math.round(this.getSumAttackerCosts()/t):0},add:function(t,e,r){return void 0==t[e]&&(t[e]=0),t[e]+=r,t}}},O=D,A=(0,h.Z)(O,S,x,!1,null,null,null),C=A.exports;v()(A,{VCard:m.Z,VCardText:p.ZB,VCol:_.Z,VDivider:b.Z,VRow:y.Z});var w={name:"GnCombatResults",components:{GnCombatResultOverview:E,GnCombatResult:C},props:{results:function(){return{type:Array,default:[]}}}},R=w,I=(0,h.Z)(R,o,l,!1,null,null,null),N=I.exports;v()(I,{VDivider:b.Z});var j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[r("v-btn",t._g(t._b({attrs:{height:"100%",color:"primary",dark:"",icon:"",tile:"","x-large":""}},"v-btn",a,!1),s),[r("v-icon",{attrs:{"x-large":""}},[t._v("mdi-plus-box")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{attrs:{tile:""}},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Flotte hinzufügen")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.close()}}},[r("v-icon",[t._v("mdi-close")])],1)],1)],1),r("v-card-text",[r("v-row",[r("v-col",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("h1",{staticClass:"mb-1 mt-5"},[t._v("Scan einlesen")])]),r("v-col",{attrs:{cols:"12",md:"4"}},[r("v-textarea",{staticClass:"gn-parse-input",attrs:{clearable:"",dense:""},model:{value:t.scanText,callback:function(e){t.scanText=e},expression:"scanText"}})],1),r("v-col",{attrs:{cols:"12",md:"2"}},[r("div",{staticClass:"gn-parse-button"},[r("v-btn",{attrs:{width:"100%",tile:""},on:{click:function(e){return t.parse()}}},[t._v("Parse")])],1)])],1),r("v-row",[r("v-col",[r("v-btn-toggle",{attrs:{color:"primary",tile:"",mandatory:""},model:{value:t.scan.type,callback:function(e){t.$set(t.scan,"type",e)},expression:"scan.type"}},[r("v-btn",[r("v-icon",{attrs:{color:"green"}},[t._v("mdi-shield-home")]),r("span",{staticClass:"d-none d-sm-flex"},[t._v("Ziel")])],1),r("v-btn",{on:{click:function(e){return t.setDuration(20)}}},[r("v-icon",{attrs:{color:"green"}},[t._v("mdi-shield")]),r("span",{staticClass:"d-none d-sm-flex"},[t._v("Verteidiger")])],1),r("v-btn",{on:{click:function(e){return t.setDuration(5)}}},[r("v-icon",{attrs:{color:"red"}},[t._v("mdi-sword-cross")]),r("span",{staticClass:"d-none d-sm-flex"},[t._v("Angreifer")])],1)],1)],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12",md:"4"}},[r("h1",{staticClass:"mb-3"},[t._v("Orbit")]),t._l(t.UNITS,(function(e){return r("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0",disabled:0!=t.scan.type},model:{value:t.scan.fleet[0].units[e.ID],callback:function(r){t.$set(t.scan.fleet[0].units,e.ID,r)},expression:"scan.fleet[0].units[unit.ID]"}})})),t._l(t.ORB,(function(e){return r("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==t.scan.type,expression:"scan.type == 0"}],key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.orb[e.ID],callback:function(r){t.$set(t.scan.orb,e.ID,r)},expression:"scan.orb[orb.ID]"}})})),t._l(t.EXEN,(function(e){return r("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==t.scan.type,expression:"scan.type == 0"}],key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.exen[e.ID],callback:function(r){t.$set(t.scan.exen,e.ID,r)},expression:"scan.exen[exe.ID]"}})}))],2),r("v-col",{attrs:{cols:"12",md:"4"}},[r("h1",{staticClass:"mb-3"},[t._v("Flotte 1")]),t._l(t.UNITS,(function(e){return r("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.fleet[1].units[e.ID],callback:function(r){t.$set(t.scan.fleet[1].units,e.ID,r)},expression:"scan.fleet[1].units[unit.ID]"}})}))],2),r("v-col",{attrs:{cols:"12",md:"4"}},[r("h1",{staticClass:"mb-3"},[t._v("Flotte 2")]),t._l(t.UNITS,(function(e){return r("v-text-field",{key:e.ID,staticClass:"mb-1",attrs:{label:e.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:t.scan.fleet[2].units[e.ID],callback:function(r){t.$set(t.scan.fleet[2].units,e.ID,r)},expression:"scan.fleet[2].units[unit.ID]"}})}))],2)],1)],1)],1)],1),r("v-divider"),r("v-card-actions",[r("v-row",[r("v-col",{attrs:{cols:"4"}},[r("v-btn",{attrs:{color:"error",block:"",text:""},on:{click:t.close}},[t._v("Schließen")])],1),r("v-col",{attrs:{cols:"8"}},[r("v-btn",{attrs:{color:"primary",block:"",text:""},on:{click:t.submit}},[t._v("Flotte hinzufügen")])],1)],1)],1)],1)],1)},T=[],Z={parse:function(t,e){console.warn("before:",t),t=t.replaceAll("*",""),t=t.replaceAll("00,14 ",""),t=t.replaceAll("00,14",""),t=t.replaceAll("01,14",""),t=t.replaceAll("01,15",""),t=t.replaceAll("Gescannt von","Galaxy-Network"),t=t.trim(),t=" "+t+" ";let r=[],s=t.split("Galaxy-Network");for(let a=1;a<s.length;a+=2)r.push(s[a]);for(let a=0;a<r.length;a++){let t=r[a],s=t.split(/\r?\n/),n=s[0].trim().split(" "),o=n[0].toLowerCase();e.name=n[2];let l=n[3].replace("(","").replace(")","").split(":");e.galaxy=l[0],e.nr=l[1],e.id=n[2]+"§"+l[0]+"§"+l[1],"miliscan"==o&&(s[1].length>0&&(e.fleet[0].units=this.getShipsFromMili(s[1])),s[2].length>0&&(e.fleet[1].units=this.getShipsFromMili(s[2])),s[3].length>0&&(e.fleet[2].units=this.getShipsFromMili(s[3]))),"geschützscan"==o&&s[1].length>0&&(e.orb=this.getOrbFromGscan(s[1])),"sektorscan"==o&&s[3]&&s[3].length>0&&(e.exen=this.getExenFromSektor(s[3]))}return console.warn("result",e),e},getShipsFromMili:function(t){t=t.replace("Im Orbit:",""),t=t.replace("Flotte 1:",""),t=t.replace("Flotte 2:",""),t=t.replaceAll("-",""),t=t.split("<")[0],t=t.trim();let e={},r=t.split(" ");r=r.filter((t=>t.trim().length>0));for(let s=0;s+1<r.length;s+=2){let t=r[s+1],a=u.nN[t.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+t+") konnte nicht gefunden werden!";e[a]=parseInt(r[s],10)}return e},getOrbFromGscan:function(t){t=t.replaceAll("- ",""),t=t.replaceAll(":",""),t=t.trim();let e={},r=t.split(" ");r=r.filter((t=>t.trim().length>0));for(let s=0;s+1<r.length;s+=2){let t=r[s],a=u.nN[t.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+t+") konnte nicht gefunden werden!";e[a]=parseInt(r[s+1],10)}return e},getExenFromSektor:function(t){t=t.replaceAll("- ",""),t=t.replaceAll(":",""),t=t.replaceAll("          "," "),t=t.trim();let e={},r=t.split(" ");r=r.filter((t=>t.trim().length>0));for(let s=0;s+1<r.length;s+=2){let t=r[s],a=u.nN[t.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+t+") konnte nicht gefunden werden!";e[a]=parseInt(r[s+1],10)}return e}},B={name:"GnAddFleet",props:{add:{type:Function,default:function(){}}},data:function(){return{dialog:!1,scanText:"",scan:{id:"",name:"",type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}}},computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7}},methods:{setDuration:function(t){this.scan.fleet[1].duration=t,this.scan.fleet[2].duration=t},parse:function(){this.scan=Z.parse(this.scanText,this.scan),console.warn(this.scan)},reset:function(){this.scanText="",this.scan={id:"",name:"",type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}},close:function(){this.dialog=!1,this.reset()},clean:function(t){for(let e=0;e<3;e++)Object.keys(t.fleet[e].units).forEach((r=>(0==t.fleet[e].units[r]||""==t.fleet[e].units[r])&&delete t.fleet[e].units[r])),Object.keys(t.fleet[e].units).forEach((r=>t.fleet[e].units[r]=parseInt(t.fleet[e].units[r])));return Object.keys(t.orb).forEach((e=>t.orb[e]=parseInt(t.orb[e]))),t},submit:function(){0==this.scan.id.length&&(this.scan.id=Date.now()),this.scan=this.clean(this.scan),this.add(this.scan),this.close()}}},M=B,V=r(1174),L=r(3619),F=r(8031),U=r(4456),P=r(2515),$=r(5857),G=r(7033),H=r(8683),z=r(3845),K=(0,h.Z)(M,j,T,!1,null,null,null),J=K.exports;v()(K,{VBtn:V.Z,VBtnToggle:L.Z,VCard:m.Z,VCardActions:p.h7,VCardText:p.ZB,VCol:_.Z,VDialog:F.Z,VDivider:b.Z,VIcon:U.Z,VRow:y.Z,VSpacer:P.Z,VTextField:$.Z,VTextarea:G.Z,VToolbar:H.Z,VToolbarItems:z.lj,VToolbarTitle:z.qW});var X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[0==t.type?r("div",{staticClass:"gn-user"},[r("div",{staticClass:"gn-user-header"},[r("v-icon",{attrs:{small:"",color:"green"},on:{click:t.changeType}},[t._v("mdi-shield-home")]),r("span",[t._v(t._s(t.user.name+" "+t.getCoords))])],1),r("div",{staticClass:"gn-user-text"},[r("div",[0==t.type&&Object.keys(t.user.exen).length>0?r("div",[r("span",{staticClass:"gn-user-fleet-label"},[t._v("Exen:")]),t._l(t.user.exen,(function(e,s){return r("span",{key:s,staticClass:"gn-user-ship"},[t._v(t._s(t.displayExen(s,e)))])}))],2):t._e(),0==t.type&&Object.keys(t.user.orb).length>0?r("div",[r("span",{staticClass:"gn-user-fleet-label"},[t._v("Geschütze:")]),t._l(t.user.orb,(function(e,s){return r("span",{key:s,staticClass:"gn-user-ship"},[t._v(t._s(t.displayOrb(s,e)))])}))],2):t._e(),0==t.type&&Object.keys(t.user.fleet[0].units).length>0?r("div",[r("span",{staticClass:"gn-user-fleet-label"},[t._v("Orbit:")]),t._l(t.user.fleet[0].units,(function(e,s){return r("span",{key:s,staticClass:"gn-user-ship"},[t._v(t._s(t.displayShip(s,e)))])}))],2):t._e(),Object.keys(t.user.fleet[1].units).length>0?r("div",[r("span",{staticClass:"gn-user-fleet-label"},[t._v("Flotte 1:")]),t._l(t.user.fleet[1].units,(function(e,s){return r("span",{key:s,staticClass:"gn-user-ship"},[t._v(t._s(t.displayShip(s,e)))])}))],2):t._e(),Object.keys(t.user.fleet[2].units).length>0?r("div",[r("span",{staticClass:"gn-user-fleet-label"},[t._v("Flotte 2:")]),t._l(t.user.fleet[2].units,(function(e,s){return r("span",{key:s,staticClass:"gn-user-ship"},[t._v(t._s(t.displayShip(s,e)))])}))],2):t._e()])])]):t._e(),0!=t.type?r("div",t._l(2,(function(e){return r("div",{key:e},[Object.keys(t.user.fleet[e].units).length>0?r("v-row",[r("v-col",[r("gn-user-fleet",{attrs:{user:t.user,fleet:e,type:t.type}})],1)],1):t._e()],1)})),0):t._e()])},q=[],W=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"gn-user"},[r("div",{staticClass:"gn-user-header"},[1==t.type?r("v-icon",{attrs:{small:"",color:"green"},on:{click:t.changeType}},[t._v("mdi-shield")]):t._e(),2==t.type?r("v-icon",{attrs:{small:"",color:"red"},on:{click:t.changeType}},[t._v("mdi-sword-cross")]):t._e(),r("span",[t._v(t._s(t.user.name+" "+t.getCoords))])],1),r("div",{staticClass:"gn-user-text"},[r("div",[Object.keys(t.user.fleet[t.fleet].units).length>0?r("div",[r("span",{staticClass:"gn-user-fleet-label"},[t._v("Flotte "+t._s(t.fleet)+":")]),t._l(t.user.fleet[t.fleet].units,(function(e,s){return r("span",{key:s,staticClass:"gn-user-ship"},[t._v(t._s(t.displayShip(s,e)))])}))],2):t._e()])]),r("div",{staticClass:"gn-user-footer"},[r("span",{staticClass:"gn-user-footer-delay"},[r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[r("v-icon",t._g(t._b({attrs:{small:""}},"v-icon",a,!1),s),[t._v("mdi-clock-start")])]}}])},[r("span",[t._v("Startverzögerung in Ticks")])]),r("span",[r("select",{directives:[{name:"model",rawName:"v-model",value:t.delay,expression:"delay"}],staticClass:"gn-user-footer-select",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.delay=e.target.multiple?r:r[0]}}},t._l(21,(function(e,s){return r("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0)])],1),r("span",{staticClass:"gn-user-footer-duration"},[r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[r("v-icon",t._g(t._b({attrs:{small:""}},"v-icon",a,!1),s),[t._v("mdi-clock-time-three-outline")])]}}])},[r("span",[t._v("Aufenthaltszeit in Ticks")])]),r("span",[r("select",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"duration"}],staticClass:"gn-user-footer-select",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.duration=e.target.multiple?r:r[0]}}},t._l(20,(function(e){return r("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)])],1)])])},Q=[],Y={name:"GnUserFleet",components:{},props:{user:function(){return{type:Object,default:{}}},fleet:function(){return{type:Number,default:1}},type:function(){return{type:Number,default:2}}},computed:{duration:{set(t){this.$root.$emit("selectDuration",this.user.id,this.fleet,t)},get(){return this.user.fleet[this.fleet].duration}},delay:{set(t){this.$root.$emit("selectDelay",this.user.id,this.fleet,t)},get(){return this.user.fleet[this.fleet].delay}},UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7},getCoords:function(){let t="";return this.user.galaxy&&(t="("+this.user.galaxy+":"+this.user.nr+")"),t}},methods:{format(t){return Number(t).toLocaleString()},displayShip:function(t,e){return" "+this.format(e)+" "+this.UNITS[t].SHORT},changeType(){this.$root.$emit("changeType",this.user.id,this.type)}}},tt=Y,et=r(7337),rt=(0,h.Z)(tt,W,Q,!1,null,null,null),st=rt.exports;v()(rt,{VIcon:U.Z,VTooltip:et.Z});var at={name:"GnUser",components:{GnUserFleet:st},props:{user:function(){return{type:Object,default:{}}},type:function(){return{type:Number,default:2}}},computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7},getCoords:function(){let t="";return this.user.galaxy&&(t="("+this.user.galaxy+":"+this.user.nr+")"),t}},methods:{format(t){return Number(t).toLocaleString()},displayShip:function(t,e){return" "+this.format(e)+" "+this.UNITS[t].SHORT},displayOrb:function(t,e){return" "+this.format(e)+" "+this.ORB[t].SHORT},displayExen:function(t,e){return" "+this.format(e)+" "+this.EXEN[t].SHORT},changeType(){this.$root.$emit("changeType",this.user.id,this.type)}}},nt=at,ot=(0,h.Z)(nt,X,q,!1,null,null,null),lt=ot.exports;v()(ot,{VCol:_.Z,VIcon:U.Z,VRow:y.Z});var ct=r(9669),it=r.n(ct),ut={name:"App",components:{GnCombatResults:N,GnAddFleet:J,GnUser:lt},data:()=>({user:"",users:[],ticks:5,results:[]}),computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7}},methods:{getNewRequestObj:function(){return{data:{type:"combats",attributes:{target:{fleets:[],extractors:{metal:0,crystal:0}},attackers:[],defenders:[]}}}},getNewTargetObj:function(t){return{name:""+t,fleets:[],extractors:{metal:0,crystal:0}}},getNewUserObj:function(t){return{name:""+t,fleets:[]}},addUser:function(t){this.users.push(t)},getUserByID:function(t){return this.users.find((e=>e.id==t))},getNewUsers:function(t){let e=this,r={target:void 0,attackers:[],defenders:[]};return this.users.forEach((function(s){switch(s.type){case 0:if(0==t){let t=e.getNewTargetObj(s.id);Object.keys(u.e7).forEach((e=>{t.extractors[e]=s.exen[e]?parseInt(s.exen[e]):0}));for(let e=0;e<=2;e++){let r={name:""+e,units:0==e?{...s.fleet[e].units,...s.orb}:{...s.fleet[e].units}};Object.keys(r.units).length>0&&t.fleets.push(r)}r.target=t}break;case 1:let a=e.getNewUserObj(s.id);for(let e=0;e<=2;e++){let r={name:""+e,units:{...s.fleet[e].units},calculateCarrierCapacityLosses:s.fleet[e].delay+s.fleet[e].duration==t+1};s.fleet[e].delay==t&&Object.keys(r.units).length>0&&a.fleets.push(r)}a.fleets.length>0&&r.defenders.push(a);break;case 2:let n=e.getNewUserObj(s.id);for(let e=0;e<=2;e++){let r={name:""+e,units:{...s.fleet[e].units},calculateCarrierCapacityLosses:s.fleet[e].delay+s.fleet[e].duration==t+1};s.fleet[e].delay==t&&Object.keys(r.units).length>0&&n.fleets.push(r)}n.fleets.length>0&&r.attackers.push(n);break}})),r},getNextRequest:function(t,e){let r=this,s=this.getNewRequestObj(),a=this.getNewUsers(e);if(a.target&&(s.data.attributes.target=a.target),s.data.attributes.defenders=a.defenders,s.data.attributes.attackers=a.attackers,t){let a=t.data.attributes;a.target&&(a.target.fleets.after.forEach((t=>{s.data.attributes.target.fleets.push({name:t.name,units:t.units})})),Object.keys(u.e7).forEach((t=>{s.data.attributes.target.extractors[t]=a.target.extractors.after[t]}))),a.defenders&&a.defenders.forEach((t=>{let a=this.getNewUserObj(t.name);t.fleets.after.forEach((s=>{let n=r.getUserByID(t.name),o=n.fleet[s.name].delay+n.fleet[s.name].duration;e!=o&&n.fleet[s.name].delay+n.fleet[s.name].duration>e&&a.fleets.push({name:s.name,units:{...s.units},calculateCarrierCapacityLosses:n.fleet[s.name].delay+n.fleet[s.name].duration==e+1})})),a.fleets.length>0&&s.data.attributes.defenders.push(a)})),a.attackers&&a.attackers.forEach((t=>{let a=this.getNewUserObj(t.name);t.fleets.after.forEach((s=>{let n=r.getUserByID(t.name),o=n.fleet[s.name].delay+n.fleet[s.name].duration;e!=o&&n.fleet[s.name].delay+n.fleet[s.name].duration>e&&a.fleets.push({name:s.name,units:{...s.units},calculateCarrierCapacityLosses:n.fleet[s.name].delay+n.fleet[s.name].duration==e+1})})),a.fleets.length>0&&s.data.attributes.attackers.push(a)}))}return s},simulate:async function(){let t,e={headers:{Accept:"application/vnd.api+json;version=1.0","Content-Type":"application/json"}};this.results=[];for(let s=0;s<this.ticks;s++)try{let r=this.getNextRequest(t,s),a=await it().post("https://galactic-conquest.de/api/combats",r,e);t=a.data,this.results.push({tick:s+1,request:r,response:t})}catch(r){console.warn(r)}}},mounted:function(){let t=this;this.$root.$on("selectDuration",((e,r,s)=>{let a=t.users.find((t=>t.id==e));a.fleet[r].duration=s})),this.$root.$on("selectDelay",((e,r,s)=>{let a=t.users.find((t=>t.id==e));a.fleet[r].delay=s})),this.$root.$on("changeType",((e,r)=>{let s=r;switch(r){case 0:s=1;break;case 1:s=2;break;case 2:s=0;break;default:break}let a=t.users.find((t=>t.id==e));a&&(a.type=s)}))}},ft=ut,dt=r(303),ht=r(1819),gt=r(927),vt=(0,h.Z)(ft,a,n,!1,null,null,null),mt=vt.exports;v()(vt,{VApp:dt.Z,VBtn:V.Z,VCol:_.Z,VContainer:ht.Z,VDivider:b.Z,VMain:gt.Z,VRow:y.Z,VTextField:$.Z});var pt=r(5205);(0,pt.z)("/GN-Tools-Site/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var _t=r(6482);s.Z.use(_t.Z);var bt=new _t.Z({});s.Z.config.productionTip=!1,new s.Z({vuetify:bt,render:function(t){return t(mt)}}).$mount("#app")}},e={};function r(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,s,a,n){if(!s){var o=1/0;for(u=0;u<t.length;u++){s=t[u][0],a=t[u][1],n=t[u][2];for(var l=!0,c=0;c<s.length;c++)(!1&n||o>=n)&&Object.keys(r.O).every((function(t){return r.O[t](s[c])}))?s.splice(c--,1):(l=!1,n<o&&(o=n));if(l){t.splice(u--,1);var i=a();void 0!==i&&(e=i)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,a,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,n,o=s[0],l=s[1],c=s[2],i=0;if(o.some((function(e){return 0!==t[e]}))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(c)var u=c(r)}for(e&&e(s);i<o.length;i++)n=o[i],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(u)},s=self["webpackChunkgnsimulator"]=self["webpackChunkgnsimulator"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(7196)}));s=r.O(s)})();
//# sourceMappingURL=app-legacy.48282c4b.js.map