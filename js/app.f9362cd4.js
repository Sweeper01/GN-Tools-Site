(function(){var e={6700:function(e,t,s){var r={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":4048,"./sd.js":4048,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id=6700},3241:function(e,t,s){"use strict";var r=s(144),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-navigation-drawer",{attrs:{app:""}},[s("v-list",{attrs:{dense:"",nav:""}},e._l(e.items,(function(t){return s("v-list-item",{key:t.title,attrs:{link:"",to:t.route}},[s("v-list-item-icon",[s("v-icon",[e._v(e._s(t.icon))])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),1)],1),s("v-main",[s("router-view")],1)],1)},n=[],o={name:"App",components:{},data:()=>({items:[{title:"Simulator",icon:"mdi-sword-cross",route:"/"},{title:"Scan Auswertung",icon:"mdi-magnify",route:"/ScanAuswertung"}]})},l=o,i=s(1001),c=s(3453),u=s.n(c),f=s(303),d=s(4456),h=s(893),m=s(907),v=s(226),g=s(3560),p=s(4021),b=s(8018),k=(0,i.Z)(l,a,n,!1,null,null,null),y=k.exports;u()(k,{VApp:f.Z,VIcon:d.Z,VList:h.Z,VListItem:m.Z,VListItemContent:v.km,VListItemIcon:g.Z,VListItemTitle:v.V9,VMain:p.Z,VNavigationDrawer:b.Z});var _=s(8345),E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-snackbar",{attrs:{value:e.alert,dense:"",top:"",centered:"",timeout:"2000",color:"green"}},[e._v("Link kopiert ")]),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-btn-toggle",{staticClass:"gn-sim-mode",attrs:{mandatory:"",tile:""},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[s("v-btn",[e._v("Simple")]),s("v-btn",[e._v("Advanced")])],1)],1)],1),s("v-container",[s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.mode,expression:"mode == 0"}]},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("h1",{staticClass:"mb-3"},[e._v("Verteidiger")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.simple_deff.fleet[0].units[t.ID],callback:function(s){e.$set(e.simple_deff.fleet[0].units,t.ID,s)},expression:"simple_deff.fleet[0].units[unit.ID]"}})})),e._l(e.ORB,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.simple_deff.orb[t.ID],callback:function(s){e.$set(e.simple_deff.orb,t.ID,s)},expression:"simple_deff.orb[orb.ID]"}})})),e._l(e.EXEN,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.simple_deff.exen[t.ID],callback:function(s){e.$set(e.simple_deff.exen,t.ID,s)},expression:"simple_deff.exen[exe.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"6"}},[s("h1",{staticClass:"mb-3"},[e._v("Angreifer")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.simple_off.fleet[1].units[t.ID],callback:function(s){e.$set(e.simple_off.fleet[1].units,t.ID,s)},expression:"simple_off.fleet[1].units[unit.ID]"}})}))],2)],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.mode,expression:"mode == 1"}]},[s("v-row",[s("v-col",[s("h1",[e._v("Flotten")])])],1),s("v-divider",{staticClass:"mb-5"}),s("v-row",[e._l(e.users,(function(t,r){return s("v-col",{key:t.id,attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[s("gn-user",{attrs:{type:t.type,deleteUser:e.deleteUser},model:{value:e.users[r],callback:function(t){e.$set(e.users,r,t)},expression:"users[index]"}})],1)})),s("v-col",{attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[s("gn-add-fleet",{attrs:{add:e.addUser}})],1)],2)],1),s("v-row",{staticClass:"mt-5"},[s("v-col",{attrs:{cols:"6",md:"2"}},[s("v-text-field",{attrs:{type:"Number",label:"Anzahl Ticks"},model:{value:e.ticks,callback:function(t){e.ticks=t},expression:"ticks"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-btn",{on:{click:e.simulate}},[e._v("Simulate")])],1)],1),s("v-row",[s("v-col",[s("v-btn",{attrs:{text:"","x-small":""},on:{click:e.copyURL}},[e._v("Link teilen")])],1)],1),s("v-divider",{staticClass:"mt-5"}),s("gn-combat-results",{attrs:{results:e.results}}),s("v-divider",{staticClass:"mb-5"})],1)],1)},x=[],j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.results.length>0,expression:"results.length > 0"}]},[s("h1",{staticClass:"mt-5"},[e._v("Übersicht")]),s("gn-combat-result-overview",{staticClass:"mb-5",attrs:{results:e.results}}),e._l(e.results,(function(t,r){return s("div",{key:r},[r>0&&t.tick!=e.results[r-1].tick||0==r?s("h3",[e._v("Tick "+e._s(t.tick))]):e._e(),r>0&&t.tick!=e.results[r-1].tick||0==r?s("v-divider",{staticClass:"mb-5"}):e._e(),s("gn-combat-result",{staticClass:"mb-5",attrs:{result:t.response,tick:t.tick,mode:t.mode}})],1)}))],2)},S=[],w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.results.length>0,expression:"results.length > 0"}]},[s("v-card",{staticClass:"gn-overview"},[s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[e._v("Verteidiger")]),s("th",[e._v("Vorher")]),s("th",[e._v("Nachher")]),s("th",[e._v("Verluste")])]),e._l(e.UNITS,(function(t){return s("tr",{key:"dShip"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getDefenderBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderLost(t.ID))))])])})),e._l(e.ORB,(function(t){return s("tr",{key:"dOrb"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getDefenderBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderLost(t.ID))))])])})),e._l(e.EXEN,(function(t){return s("tr",{key:"dExe"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getExenBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getExenAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getExenLost(t.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Kosten")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"dRes"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getDefenderCosts(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumDefenderCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Bergungsressourcen")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"dBRes"+t.ID+"1"},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getDefenderBR(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumDefenderBR())))])]),s("tr",[s("td",[e._v(e._s(e.getSumDefenderProfit()>=0?"Gewinn:":"Verlust:"))]),s("td",[e._v(e._s(e.format(e.getSumDefenderProfit())))])])],2)])],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[e._v("Angreifer")]),s("th",[e._v("Vorher")]),s("th",[e._v("Nachher")]),s("th",[e._v("Verluste")])]),e._l(e.UNITS,(function(t){return s("tr",{key:"aShips"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getAttackerBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getAttackerAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getAttackerLost(t.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Kosten")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"aRes"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getAttackerCosts(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumAttackerCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Exen")])]),e._l(e.EXEN,(function(t){return s("tr",{key:"aExe"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getAttackerExenStolen(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumAttackerExenStolen())))])]),s("tr",[s("td",[e._v("Kosten pro Exe:")]),s("td",[e._v(e._s(e.format(e.getAttackerCostsPerExe())))])])],2)])],1)],1)],1)],1)],1)],1)},C=[],A=JSON.parse('{"uo":{"JA":{"ID":"JA","NAME":"Jäger","SHORT":"JÄ","METAL":4000,"CRYSTAL":6000},"BO":{"ID":"BO","NAME":"Bomber","SHORT":"BO","METAL":2000,"CRYSTAL":8000},"FR":{"ID":"FR","NAME":"Fregatte","SHORT":"FR","METAL":15000,"CRYSTAL":7500},"ZE":{"ID":"ZE","NAME":"Zerstörer","SHORT":"ZE","METAL":40000,"CRYSTAL":30000},"KR":{"ID":"KR","NAME":"Kreuzer","SHORT":"KR","METAL":65000,"CRYSTAL":85000},"SS":{"ID":"SS","NAME":"Schlachtschiff","SHORT":"SS","METAL":250000,"CRYSTAL":150000},"TR":{"ID":"TR","NAME":"Trägerschiff","SHORT":"TR","METAL":200000,"CRYSTAL":50000},"CL":{"ID":"CL","NAME":"Kaperschiff","SHORT":"CL","METAL":1500,"CRYSTAL":1000},"CA":{"ID":"CA","NAME":"Schutzschiff","SHORT":"CA","METAL":1000,"CRYSTAL":1500}},"nd":{"LO":{"ID":"LO","NAME":"Rubium","SHORT":"LO","METAL":6000,"CRYSTAL":2000},"LR":{"ID":"LR","NAME":"Pulsar","SHORT":"LR","METAL":20000,"CRYSTAL":10000,"PRETICKS":1},"MR":{"ID":"MR","NAME":"Coon","SHORT":"MR","METAL":60000,"CRYSTAL":100000,"PRETICKS":1},"SR":{"ID":"SR","NAME":"Centurion","SHORT":"SR","METAL":200000,"CRYSTAL":300000,"PRETICKS":2},"AJ":{"ID":"AJ","NAME":"Abfangjäger","SHORT":"AJ","METAL":1000,"CRYSTAL":1000}},"e7":{"metal":{"ID":"metal","SHORT":"M","NAME":"Metall Exen"},"crystal":{"ID":"crystal","SHORT":"K","NAME":"Kristall Exen"}},"rP":{"metal":{"ID":"metal","NAME":"Metall"},"crystal":{"ID":"crystal","NAME":"Kristall"}},"nN":{"jaeger":"JA","jäger":"JA","jä":"JA","leo":"JA","bomber":"BO","bo":"BO","aquilae":"BO","fregatte":"FR","fregatten":"FR","fr":"FR","fornax":"FR","zerstörer":"ZE","zerstoerer":"ZE","ze":"ZE","draco":"ZE","kreuzer":"KR","kr":"KR","goron":"KR","schlachtschiff":"SS","schlachtschiffe":"SS","schlachter":"SS","ss":"SS","pentalin":"SS","trägerschiff":"TR","trägerschiffe":"TR","träger":"TR","traegerschiff":"TR","traegerschiffe":"TR","traeger":"TR","tr":"TR","zenit":"TR","kaperschiff":"CL","kaperschiffe":"CL","cl":"CL","cleptor":"CL","kleptoren":"CL","schutzschiff":"CA","schutzschiffe":"CA","ca":"CA","cancri":"CA","cancris":"CA","rubium":"LO","lo":"LO","pulsar":"LR","lr":"LR","coon":"MR","mr":"MR","centurion":"SR","sr":"SR","horus":"AJ","aj":"AJ","m-extraktoren":"metal","k-extraktoren":"crystal"}}'),D={name:"GnCombatResultOverview",props:{results:function(){return{type:Array,default:[]}}},computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},RESOURCES:function(){return A.rP},total:function(){let e=this,t=[],s={target:{name:"Verteidiger",extractors:{before:{},after:{},stolen:{}},fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}}}]},resources:{salvaged:{}}},attackers:[{name:"Angreifer",fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}},extractors:{stolen:{}}}]}}]};for(let r=0;r<this.results.length;r++){let a=this.results[r].response.data.attributes;a.target&&(0==r&&(Object.keys(A.e7).forEach((e=>{s.target.extractors.before[e]=a.target.extractors.before[e]})),a.target.fleets.before.forEach((t=>{Object.keys(t.units).forEach((r=>{e.add(s.target.fleets.before[0].units,r,t.units[r])}))}))),a.target.fleets.after.forEach((t=>{Object.keys(t.losses).forEach((r=>{e.add(s.target.fleets.after[0].losses,r,t.losses[r])})),Object.keys(t.destroyed).forEach((r=>{e.add(s.target.fleets.after[0].destroyed,r,t.destroyed[r])})),Object.keys(A.rP).forEach((r=>{e.add(s.target.fleets.after[0].resources.cost,r,t.resources.cost[r])}))})),Object.keys(A.e7).forEach((t=>{s.target.extractors.after[t]=a.target.extractors.after[t],e.add(s.target.extractors.stolen,t,a.target.extractors.stolen[t])})),Object.keys(A.rP).forEach((t=>{e.add(s.target.resources.salvaged,t,a.target.resources.salvaged[t])}))),a.defenders&&(a.defenders.forEach((r=>{let a=t.find((e=>e.id==r.name));a||(a={id:r.name,fleets:[]},t.push(a)),r.fleets.before.forEach((t=>{a.fleets.find((e=>e==t.name))||(a.fleets.push(t.name),Object.keys(t.units).forEach((r=>{e.add(s.target.fleets.before[0].units,r,t.units[r])})))}))})),a.defenders.forEach((t=>{t.fleets.after.forEach((t=>{Object.keys(t.losses).forEach((r=>{e.add(s.target.fleets.after[0].losses,r,t.losses[r])})),Object.keys(t.destroyed).forEach((r=>{e.add(s.target.fleets.after[0].destroyed,r,t.destroyed[r])})),Object.keys(A.rP).forEach((r=>{e.add(s.target.resources.salvaged,r,t.resources.salvaged[r]),e.add(s.target.fleets.after[0].resources.cost,r,t.resources.cost[r])}))}))}))),a.attackers&&(a.attackers.forEach((r=>{let a=t.find((e=>e.id==r.name));a||(a={id:r.name,fleets:[]},t.push(a)),r.fleets.before.forEach((t=>{a.fleets.find((e=>e==t.name))||(a.fleets.push(t.name),Object.keys(t.units).forEach((r=>{e.add(s.attackers[0].fleets.before[0].units,r,t.units[r])})))}))})),a.attackers.forEach((t=>{t.fleets.after.forEach((t=>{Object.keys(t.losses).forEach((r=>{e.add(s.attackers[0].fleets.after[0].losses,r,t.losses[r])})),Object.keys(t.destroyed).forEach((r=>{e.add(s.attackers[0].fleets.after[0].destroyed,r,t.destroyed[r])})),Object.keys(A.rP).forEach((r=>{e.add(s.attackers[0].fleets.after[0].resources.cost,r,t.resources.cost[r])})),Object.keys(A.e7).forEach((r=>{e.add(s.attackers[0].fleets.after[0].extractors.stolen,r,t.extractors.stolen[r])}))}))})))}return s}},methods:{format(e){return Number(e).toLocaleString()},getExenBefore(e){return this.total.target.extractors.before[e]?this.total.target.extractors.before[e]:0},getExenAfter(e){return this.total.target.extractors.after[e]?this.total.target.extractors.after[e]:0},getExenLost(e){return this.total.target.extractors.stolen[e]?this.total.target.extractors.stolen[e]:0},getDefenderBefore(e){return this.total.target.fleets.before[0].units[e]?this.total.target.fleets.before[0].units[e]:0},getDefenderAfter(e){return this.getDefenderBefore(e)-this.getDefenderLost(e)},getDefenderLost(e){return this.total.target.fleets.after[0].losses[e]?this.total.target.fleets.after[0].losses[e]:0},getDefenderCosts(e){return this.total.target.fleets.after[0].resources.cost[e]?this.total.target.fleets.after[0].resources.cost[e]:0},getSumDefenderCosts(){let e=this,t=0;return Object.keys(A.rP).forEach((s=>{t+=e.total.target.fleets.after[0].resources.cost[s]?e.total.target.fleets.after[0].resources.cost[s]:0})),t},getDefenderBR(e){return this.total.target.resources.salvaged[e]?this.total.target.resources.salvaged[e]:0},getSumDefenderBR(){let e=this,t=0;return Object.keys(A.rP).forEach((s=>{t+=e.total.target.resources.salvaged[s]?e.total.target.resources.salvaged[s]:0})),t},getSumDefenderProfit(){return this.getSumDefenderBR()-this.getSumDefenderCosts()},getAttackerBefore(e){return this.total.attackers[0].fleets.before[0].units[e]?this.total.attackers[0].fleets.before[0].units[e]:0},getAttackerAfter(e){return this.getAttackerBefore(e)-this.getAttackerLost(e)},getAttackerLost(e){return this.total.attackers[0].fleets.after[0].losses[e]?this.total.attackers[0].fleets.after[0].losses[e]:0},getAttackerCosts(e){return this.total.attackers[0].fleets.after[0].resources.cost[e]?this.total.attackers[0].fleets.after[0].resources.cost[e]:0},getSumAttackerCosts(){let e=this,t=0;return Object.keys(A.rP).forEach((s=>{t+=e.total.attackers[0].fleets.after[0].resources.cost[s]?e.total.attackers[0].fleets.after[0].resources.cost[s]:0})),t},getAttackerExenStolen(e){return this.total.attackers[0].fleets.after[0].extractors.stolen[e]?this.total.attackers[0].fleets.after[0].extractors.stolen[e]:0},getSumAttackerExenStolen(){let e=this,t=0;return Object.keys(A.e7).forEach((s=>{t+=e.total.attackers[0].fleets.after[0].extractors.stolen[s]?e.total.attackers[0].fleets.after[0].extractors.stolen[s]:0})),t},getAttackerCostsPerExe(){let e=this.getSumAttackerExenStolen();return e>0?Math.round(this.getSumAttackerCosts()/e):0},add:function(e,t,s){return void 0==e[t]&&(e[t]=0),e[t]+=s,e}}},I=D,O=s(2026),N=s(5255),T=s(7024),R=s(5596),L=s(7894),V=(0,i.Z)(I,w,C,!1,null,null,null),Z=V.exports;u()(V,{VCard:O.Z,VCardText:N.ZB,VCol:T.Z,VDivider:R.Z,VRow:L.Z});var M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.result.data,expression:"result.data"}]},[s("v-card",{staticClass:"gn-combat-result",class:{"gn-light-gray":e.mode>0}},[e.mode>0?s("v-card-subtitle",[e._v("Vortick "+e._s(e.mode))]):e._e(),s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-combat-result-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[e._v("Verteidiger")]),s("th",[e._v("Vorher")]),s("th",[e._v("Nachher")]),s("th",[e._v("Verluste")])]),e._l(e.UNITS,(function(t){return s("tr",{key:"dShip"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getDefenderBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderLost(t.ID))))])])})),e._l(e.ORB,(function(t){return s("tr",{key:"dOrb"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getDefenderBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderLost(t.ID))))])])})),e._l(e.EXEN,(function(t){return s("tr",{key:"dExe"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getExenBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getExenAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getExenLost(t.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Kosten")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"dRes"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getDefenderCosts(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumDefenderCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Bergungsressourcen")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"dBRes"+t.ID+"1"},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getDefenderBR(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumDefenderBR())))])]),s("tr",[s("td",[e._v(e._s(e.getSumDefenderProfit()>=0?"Gewinn:":"Verlust:"))]),s("td",[e._v(e._s(e.format(e.getSumDefenderProfit())))])])],2)])],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[e._v("Angreifer")]),s("th",[e._v("Vorher")]),s("th",[e._v("Nachher")]),s("th",[e._v("Verluste")])]),e._l(e.UNITS,(function(t){return s("tr",{key:"aShip"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getAttackerBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getAttackerAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getAttackerLost(t.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Kosten")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"aRes"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getAttackerCosts(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumAttackerCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Exen")])]),e._l(e.EXEN,(function(t){return s("tr",{key:"aExe"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getAttackerExenStolen(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumAttackerExenStolen())))])]),s("tr",[s("td",[e._v("Kosten pro Exe:")]),s("td",[e._v(e._s(e.format(e.getAttackerCostsPerExe())))])])],2)])],1)],1)],1)],1)],1)],1)},P=[],U={name:"GnCombatResult",props:{result:function(){return{type:Object,default:{}}},tick:function(){return{type:Number,default:0}},mode:function(){return{type:Number,default:0}}},computed:{total:function(){let e=this,t={target:{name:"Verteidiger",extractors:{before:{},after:{},stolen:{}},fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}}}]},resources:{salvaged:{}}},attackers:[{name:"Angreifer",fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}},extractors:{stolen:{}}}]}}]},s=this.result.data.attributes;return Object.keys(A.e7).forEach((e=>{t.target.extractors.before[e]=s.target.extractors.before[e]})),s.target&&(s.target.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.target.fleets.before[0].units,r,s.units[r])}))})),s.target.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.target.fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{e.add(t.target.fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{e.add(t.target.fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(A.rP).forEach((r=>{e.add(t.target.fleets.after[0].resources.cost,r,s.resources.cost[r])}))})),Object.keys(A.e7).forEach((e=>{t.target.extractors.after[e]=s.target.extractors.after[e],t.target.extractors.stolen[e]=s.target.extractors.stolen[e]})),Object.keys(A.rP).forEach((e=>{t.target.resources.salvaged[e]=s.target.resources.salvaged[e]}))),s.defenders&&(s.defenders.forEach((s=>{s.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.target.fleets.before[0].units,r,s.units[r])}))}))})),s.defenders.forEach((s=>{s.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.target.fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{e.add(t.target.fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{e.add(t.target.fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(A.rP).forEach((r=>{e.add(t.target.resources.salvaged,r,s.resources.salvaged[r]),e.add(t.target.fleets.after[0].resources.cost,r,s.resources.cost[r])}))}))}))),s.attackers&&(s.attackers.forEach((s=>{s.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.attackers[0].fleets.before[0].units,r,s.units[r])}))}))})),s.attackers.forEach((s=>{s.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.attackers[0].fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{e.add(t.attackers[0].fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{e.add(t.attackers[0].fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(A.rP).forEach((r=>{e.add(t.attackers[0].fleets.after[0].resources.cost,r,s.resources.cost[r])})),Object.keys(A.e7).forEach((r=>{e.add(t.attackers[0].fleets.after[0].extractors.stolen,r,s.extractors.stolen[r])}))}))}))),t},UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},RESOURCES:function(){return A.rP}},methods:{format(e){return Number(e).toLocaleString()},getExenBefore(e){return this.total.target.extractors.before[e]?this.total.target.extractors.before[e]:0},getExenAfter(e){return this.total.target.extractors.after[e]?this.total.target.extractors.after[e]:0},getExenLost(e){return this.total.target.extractors.stolen[e]?this.total.target.extractors.stolen[e]:0},getDefenderBefore(e){return this.total.target.fleets.before[0].units[e]?this.total.target.fleets.before[0].units[e]:0},getDefenderAfter(e){return this.total.target.fleets.after[0].units[e]?this.total.target.fleets.after[0].units[e]:0},getDefenderLost(e){return this.total.target.fleets.after[0].losses[e]?this.total.target.fleets.after[0].losses[e]:0},getDefenderCosts(e){return this.total.target.fleets.after[0].resources.cost[e]?this.total.target.fleets.after[0].resources.cost[e]:0},getSumDefenderCosts(){let e=this,t=0;return Object.keys(A.rP).forEach((s=>{t+=e.total.target.fleets.after[0].resources.cost[s]?e.total.target.fleets.after[0].resources.cost[s]:0})),t},getDefenderBR(e){return this.total.target.resources.salvaged[e]?this.total.target.resources.salvaged[e]:0},getSumDefenderBR(){let e=this,t=0;return Object.keys(A.rP).forEach((s=>{t+=e.total.target.resources.salvaged[s]?e.total.target.resources.salvaged[s]:0})),t},getSumDefenderProfit(){return this.getSumDefenderBR()-this.getSumDefenderCosts()},getAttackerBefore(e){return this.total.attackers[0].fleets.before[0].units[e]?this.total.attackers[0].fleets.before[0].units[e]:0},getAttackerAfter(e){return this.total.attackers[0].fleets.after[0].units[e]?this.total.attackers[0].fleets.after[0].units[e]:0},getAttackerLost(e){return this.total.attackers[0].fleets.after[0].losses[e]?this.total.attackers[0].fleets.after[0].losses[e]:0},getAttackerCosts(e){return this.total.attackers[0].fleets.after[0].resources.cost[e]?this.total.attackers[0].fleets.after[0].resources.cost[e]:0},getSumAttackerCosts(){let e=this,t=0;return Object.keys(A.rP).forEach((s=>{t+=e.total.attackers[0].fleets.after[0].resources.cost[s]?e.total.attackers[0].fleets.after[0].resources.cost[s]:0})),t},getAttackerExenStolen(e){return this.total.attackers[0].fleets.after[0].extractors.stolen[e]?this.total.attackers[0].fleets.after[0].extractors.stolen[e]:0},getSumAttackerExenStolen(){let e=this,t=0;return Object.keys(A.e7).forEach((s=>{t+=e.total.attackers[0].fleets.after[0].extractors.stolen[s]?e.total.attackers[0].fleets.after[0].extractors.stolen[s]:0})),t},getAttackerCostsPerExe(){let e=this.getSumAttackerExenStolen();return e>0?Math.round(this.getSumAttackerCosts()/e):0},add:function(e,t,s){return void 0==e[t]&&(e[t]=0),e[t]+=s,e}}},B=U,F=(0,i.Z)(B,M,P,!1,null,null,null),z=F.exports;u()(F,{VCard:O.Z,VCardSubtitle:N.Qq,VCardText:N.ZB,VCol:T.Z,VDivider:R.Z,VRow:L.Z});var $={name:"GnCombatResults",components:{GnCombatResultOverview:Z,GnCombatResult:z},props:{results:function(){return{type:Array,default:[]}}}},G=$,K=(0,i.Z)(G,j,S,!1,null,null,null),q=K.exports;u()(K,{VDivider:R.Z});var H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{height:"100%",color:"primary",dark:"",icon:"",tile:"","x-large":""}},"v-btn",a,!1),r),[s("v-icon",{attrs:{"x-large":""}},[e._v("mdi-plus-box")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",{attrs:{tile:""}},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[e._v("Flotte hinzufügen")]),s("v-spacer"),s("v-toolbar-items",[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.close()}}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1),s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("h1",{staticClass:"mb-1 mt-5"},[e._v("Scan einlesen")])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-textarea",{staticClass:"gn-parse-input",attrs:{clearable:"",dense:""},model:{value:e.scanText,callback:function(t){e.scanText=t},expression:"scanText"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("div",{staticClass:"gn-parse-button"},[s("v-btn",{attrs:{width:"100%",tile:""},on:{click:function(t){return e.parse()}}},[e._v("Parse")])],1)])],1),s("v-row",[s("v-col",[s("v-btn-toggle",{attrs:{color:"primary",tile:"",mandatory:""},model:{value:e.scan.type,callback:function(t){e.$set(e.scan,"type",t)},expression:"scan.type"}},[s("v-btn",[s("v-icon",{attrs:{color:"green"}},[e._v("mdi-shield-home")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Ziel")])],1),s("v-btn",{on:{click:function(t){return e.setDuration(20)}}},[s("v-icon",{attrs:{color:"green"}},[e._v("mdi-shield")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Verteidiger")])],1),s("v-btn",{on:{click:function(t){return e.setDuration(5)}}},[s("v-icon",{attrs:{color:"red"}},[e._v("mdi-sword-cross")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Angreifer")])],1)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Orbit")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0",disabled:0!=e.scan.type},model:{value:e.scan.fleet[0].units[t.ID],callback:function(s){e.$set(e.scan.fleet[0].units,t.ID,s)},expression:"scan.fleet[0].units[unit.ID]"}})})),e._l(e.ORB,(function(t){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==e.scan.type,expression:"scan.type == 0"}],key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.scan.orb[t.ID],callback:function(s){e.$set(e.scan.orb,t.ID,s)},expression:"scan.orb[orb.ID]"}})})),e._l(e.EXEN,(function(t){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==e.scan.type,expression:"scan.type == 0"}],key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.scan.exen[t.ID],callback:function(s){e.$set(e.scan.exen,t.ID,s)},expression:"scan.exen[exe.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Flotte 1")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.scan.fleet[1].units[t.ID],callback:function(s){e.$set(e.scan.fleet[1].units,t.ID,s)},expression:"scan.fleet[1].units[unit.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Flotte 2")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.scan.fleet[2].units[t.ID],callback:function(s){e.$set(e.scan.fleet[2].units,t.ID,s)},expression:"scan.fleet[2].units[unit.ID]"}})}))],2)],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-btn",{attrs:{color:"error",block:"",text:""},on:{click:e.close}},[e._v("Abbrechen")])],1),s("v-col",{attrs:{cols:"8"}},[s("v-btn",{attrs:{color:"primary",block:"",text:""},on:{click:e.submit}},[e._v("Flotte hinzufügen")])],1)],1)],1)],1)],1)},J=[],Y={parse:function(e,t){let s=this;console.warn("before:",e),e=e.replaceAll("*",""),e=e.replaceAll("00,14 ",""),e=e.replaceAll("00,14",""),e=e.replaceAll("01,14",""),e=e.replaceAll("01,15",""),e=e.replaceAll("Gescannt von","Galaxy-Network"),e=e.trim();let r=e.split(/\r?\n/);r=r.filter((e=>e.trim().length>0));let a=[],n=[];for(let o=0;o<r.length;o++){const e=r[o];e.toLowerCase().includes("miliscan")&&(a.push({type:"miliscan",lines:r.slice(o,o+4)}),o+=4),e.toLowerCase().includes("einheitenscan")&&(a.push({type:"einheitenscan",lines:r.slice(o,o+4)}),o+=4),e.toLowerCase().includes("geschützscan")&&(a.push({type:"geschützscan",lines:r.slice(o,o+2)}),o+=2),e.toLowerCase().includes("sektorscan")&&(a.push({type:"sektorscan",lines:r.slice(o,o+5)}),o+=5),e.toLowerCase().includes("flottenzusammensetzung")&&(n.push({type:"flottenzusammensetzung",lines:r.slice(o,o+11)}),o+=10),e.toLowerCase().includes("verteidigungseinheiten")&&(n.push({type:"verteidigungseinheiten",lines:r.slice(o,o+7)}),o+=6)}return a.forEach((e=>{let r=e.lines,a=e.type,n=r[0].trim().split("Galaxy-Network"),o=n[1].trim().split(" ");t.name=o[2];let l=o[3].replace("(","").replace(")","").split(":");t.galaxy=l[0],t.nr=l[1],t.id=o[2]+"§"+l[0]+"§"+l[1],"miliscan"==a&&(r[1].length>0&&(t.fleet[0].units=s.getShipsFromMili(r[1])),r[2].length>0&&(t.fleet[1].units=s.getShipsFromMili(r[2])),r[3].length>0&&(t.fleet[2].units=s.getShipsFromMili(r[3]))),"einheitenscan"==a&&r[1].length>0&&r[2].length>0&&r[3].length>0&&(t.fleet[1].units=s.getShipsFromUnit(r[1],r[2],r[3])),"geschützscan"==a&&r[1].length>0&&(t.orb=s.getOrbFromGscan(r[1])),"sektorscan"==a&&r[3]&&r[3].length>0&&(t.points=s.getPointsFromSektor(r[1]),t.exen=s.getExenFromSektor(r[3]))})),n.forEach((e=>{let s=e.lines,r=e.type;if("flottenzusammensetzung"==r){let e=s[0].trim().split(" ");t.name=e[2];let r=e[3].replace("(","").replace(")","").split(":");t.galaxy=r[0],t.nr=r[1],t.id=e[2]+"§"+r[0]+"§"+r[1];for(let a=2;a<s.length;a++){let e=s[a];e=e.replaceAll(":",""),e=e.replaceAll("\t"," "),e=e.trim();let r=e.split(" ");r=r.filter((e=>e.trim().length>0));let n=r[0],o=A.nN[n.toLowerCase()];if(!o)throw"Fehler beim Parsen: Einheit ("+n+") konnte nicht gefunden werden!";for(let s=0;s<r.length-1||s<=2;s++){let e=parseInt(r[s+1]);e>0&&(t.fleet[s].units[o]=e)}}}if("verteidigungseinheiten"==r)for(let a=2;a<s.length;a++){let e=s[a];e=e.replaceAll(":",""),e=e.replaceAll("\t"," "),e=e.replaceAll(" ",""),e=e.trim();let r=e.split('"');r=r.filter((e=>e.trim().length>0));let n=r[1],o=A.nN[n.toLowerCase()];if(!o)throw"Fehler beim Parsen: Einheit ("+n+") konnte nicht gefunden werden!";let l=parseInt(r[2]);l>0&&(t.orb[o]=l)}})),console.warn("result",t),t},getShipsFromUnit:function(e,t,s){let r=e+" "+t+" "+s;r=r.replaceAll("-",""),r=r.replaceAll(":",""),r=r.trim();let a={},n=r.split(" ");n=n.filter((e=>e.trim().length>0));for(let o=0;o+1<n.length;o+=2){let e=n[o],t=n[o+1],s=A.nN[e.toLowerCase()];if(!s)throw"Fehler beim Parsen: Einheit ("+e+") konnte nicht gefunden werden!";t>0&&(a[s]=parseInt(t))}return a},getShipsFromMili:function(e){e=e.replace("Im Orbit:",""),e=e.replace("Flotte 1:",""),e=e.replace("Flotte 2:",""),e=e.replaceAll("-",""),e=e.split("<")[0],e=e.trim();let t={},s=e.split(" ");s=s.filter((e=>e.trim().length>0));for(let r=0;r+1<s.length;r+=2){let e=s[r+1],a=s[r],n=A.nN[e.toLowerCase()];if(!n)throw"Fehler beim Parsen: Einheit ("+e+") konnte nicht gefunden werden!";a>0&&(t[n]=parseInt(a))}return t},getOrbFromGscan:function(e){e=e.replaceAll("- ",""),e=e.replaceAll(":",""),e=e.trim();let t={},s=e.split(" ");s=s.filter((e=>e.trim().length>0));for(let r=0;r+1<s.length;r+=2){let e=s[r],a=A.nN[e.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+e+") konnte nicht gefunden werden!";t[a]=parseInt(s[r+1])}return t},getPointsFromSektor:function(e){e=e.replaceAll("- ",""),e=e.replaceAll(":",""),e=e.replaceAll(".",""),e=e.trim();let t=e.split(" ");return t[1]},getExenFromSektor:function(e){e=e.replaceAll("- ",""),e=e.replaceAll(":",""),e=e.replaceAll("          "," "),e=e.trim();let t={},s=e.split(" ");s=s.filter((e=>e.trim().length>0));for(let r=0;r+1<s.length;r+=2){let e=s[r],a=A.nN[e.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+e+") konnte nicht gefunden werden!";t[a]=parseInt(s[r+1])}return t}},X={name:"GnAddFleet",props:{add:{type:Function,default:function(){}}},data:function(){return{dialog:!1,scanText:"",scan:{id:"",name:"",type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}}},computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7}},methods:{setDuration:function(e){this.scan.fleet[1].duration=e,this.scan.fleet[2].duration=e},parse:async function(){this.scan=Y.parse(this.scanText,this.scan),await this.$forceUpdate(),console.warn(this.scan)},reset:function(){this.scanText="",this.scan={id:"",name:"",type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}},close:function(){this.dialog=!1,this.reset()},clean:function(e){for(let t=0;t<3;t++)Object.keys(e.fleet[t].units).forEach((s=>(0==e.fleet[t].units[s]||""==e.fleet[t].units[s])&&delete e.fleet[t].units[s])),Object.keys(e.fleet[t].units).forEach((s=>e.fleet[t].units[s]=parseInt(e.fleet[t].units[s])));return Object.keys(e.orb).forEach((t=>(0==e.orb[t]||""==e.orb[t])&&delete e.orb[t])),Object.keys(e.orb).forEach((t=>e.orb[t]=parseInt(e.orb[t]))),e},submit:function(){0==this.scan.id.length&&(this.scan.id=Date.now()),this.scan=this.clean(this.scan),this.add(this.scan),this.close()}}},W=X,Q=s(6847),ee=s(3559),te=s(5487),se=s(2515),re=s(2832),ae=s(7033),ne=s(1652),oe=s(3845),le=(0,i.Z)(W,H,J,!1,null,null,null),ie=le.exports;u()(le,{VBtn:Q.Z,VBtnToggle:ee.Z,VCard:O.Z,VCardActions:N.h7,VCardText:N.ZB,VCol:T.Z,VDialog:te.Z,VDivider:R.Z,VIcon:d.Z,VRow:L.Z,VSpacer:se.Z,VTextField:re.Z,VTextarea:ae.Z,VToolbar:ne.Z,VToolbarItems:oe.lj,VToolbarTitle:oe.qW});var ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("gn-edit-fleet",{attrs:{close:e.closeEdit,show:e.showEdit},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),s("div",{staticClass:"gn-user"},[s("div",{staticClass:"gn-user-header"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{staticClass:"gn-user-header-label"},[0==e.type?s("v-icon",{attrs:{small:"",color:"green"},on:{click:e.changeType}},[e._v("mdi-shield-home")]):e._e(),1==e.type?s("v-icon",{attrs:{small:"",color:"green"},on:{click:e.changeType}},[e._v("mdi-shield")]):e._e(),2==e.type?s("v-icon",{attrs:{small:"",color:"red"},on:{click:e.changeType}},[e._v("mdi-sword-cross")]):e._e(),s("span",{on:{click:function(t){e.showEdit=!0}}},[e._v(e._s(e.getUserName))])],1),s("v-spacer"),s("v-col",[s("v-icon",{staticClass:"gn-user-delete-button",attrs:{small:"",right:""},on:{click:function(t){return e.deleteUser(e.user)}}},[e._v("mdi-close-circle-outline")])],1)],1)],1),s("div",{staticClass:"gn-user-body"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==e.type&&e.user.points?s("div",[s("span",{staticClass:"gn-user-label"},[e._v("Punkte:")]),s("span",{staticClass:"gn-user-ship"},[e._v(e._s(e.displayPoints(e.user.points)))])]):e._e(),0==e.type&&Object.keys(e.user.exen).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[e._v("Exen:")]),e._l(e.user.exen,(function(t,r){return s("span",{key:r,staticClass:"gn-user-ship"},[e._v(e._s(e.displayExen(r,t)))])}))],2):e._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==e.type&&Object.keys(e.user.orb).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[e._v("Geschütze:")]),e._l(e.user.orb,(function(t,r){return s("span",{key:r,staticClass:"gn-user-ship"},[e._v(e._s(e.displayOrb(r,t)))])}))],2):e._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==e.type&&Object.keys(e.user.fleet[0].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[e._v("Orbit:")]),e._l(e.user.fleet[0].units,(function(t,r){return s("span",{key:r,staticClass:"gn-user-ship"},[e._v(e._s(e.displayShip(r,t)))])}))],2):e._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[Object.keys(e.user.fleet[1].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[e._v("Flotte 1:")]),e._l(e.user.fleet[1].units,(function(t,r){return s("span",{key:r,staticClass:"gn-user-ship"},[e._v(e._s(e.displayShip(r,t)))])}))],2):e._e()])],1),0!=e.type&&Object.keys(e.user.fleet[1].units).length>0?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[s("gn-user-fleet-settings",{attrs:{user:e.user,fleet:1}})],1)],1):e._e(),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[Object.keys(e.user.fleet[2].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[e._v("Flotte 2:")]),e._l(e.user.fleet[2].units,(function(t,r){return s("span",{key:r,staticClass:"gn-user-ship"},[e._v(e._s(e.displayShip(r,t)))])}))],2):e._e()])],1),0!=e.type&&Object.keys(e.user.fleet[2].units).length>0?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[s("gn-user-fleet-settings",{attrs:{user:e.user,fleet:2}})],1)],1):e._e()],1)])],1)},ue=[],fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",{attrs:{tile:""}},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[e._v("Flotte editieren")]),s("v-spacer"),s("v-toolbar-items",[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.submit()}}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1),s("v-card-text",[s("v-row",{staticClass:"mt-5"},[s("v-col",[s("v-row",[s("v-col",[s("v-btn-toggle",{attrs:{color:"primary",tile:"",mandatory:""},model:{value:e.user.type,callback:function(t){e.$set(e.user,"type",t)},expression:"user.type"}},[s("v-btn",[s("v-icon",{attrs:{color:"green"}},[e._v("mdi-shield-home")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Ziel")])],1),s("v-btn",{on:{click:function(t){return e.setDuration(20)}}},[s("v-icon",{attrs:{color:"green"}},[e._v("mdi-shield")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Verteidiger")])],1),s("v-btn",{on:{click:function(t){return e.setDuration(5)}}},[s("v-icon",{attrs:{color:"red"}},[e._v("mdi-sword-cross")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Angreifer")])],1)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Orbit")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.user.fleet[0].units[t.ID],callback:function(s){e.$set(e.user.fleet[0].units,t.ID,s)},expression:"user.fleet[0].units[unit.ID]"}})})),e._l(e.ORB,(function(t){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==e.user.type,expression:"user.type == 0"}],key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.user.orb[t.ID],callback:function(s){e.$set(e.user.orb,t.ID,s)},expression:"user.orb[orb.ID]"}})})),e._l(e.EXEN,(function(t){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==e.user.type,expression:"user.type == 0"}],key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.user.exen[t.ID],callback:function(s){e.$set(e.user.exen,t.ID,s)},expression:"user.exen[exe.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Flotte 1")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.user.fleet[1].units[t.ID],callback:function(s){e.$set(e.user.fleet[1].units,t.ID,s)},expression:"user.fleet[1].units[unit.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Flotte 2")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.user.fleet[2].units[t.ID],callback:function(s){e.$set(e.user.fleet[2].units,t.ID,s)},expression:"user.fleet[2].units[unit.ID]"}})}))],2)],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-btn",{attrs:{color:"primary",block:"",text:""},on:{click:e.submit}},[e._v("Schließen")])],1)],1)],1)],1)],1)},de=[],he={name:"GnEditFleet",props:{value:Object,show:{type:Boolean,default:!1},close:{type:Function,default:function(){}}},data:function(){return{dialog:!1}},watch:{show(e){e&&(this.dialog=!0),e||(this.dialog=!1)}},computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},user:{get(){return this.value},set(e){this.$emit("input",e)}}},methods:{setDuration:function(e){this.user.fleet[1].duration=e,this.user.fleet[2].duration=e},clean:function(e){for(let t=0;t<3;t++)Object.keys(e.fleet[t].units).forEach((s=>(0==e.fleet[t].units[s]||""==e.fleet[t].units[s])&&delete e.fleet[t].units[s])),Object.keys(e.fleet[t].units).forEach((s=>e.fleet[t].units[s]=parseInt(e.fleet[t].units[s])));return Object.keys(e.orb).forEach((t=>(0==e.orb[t]||""==e.orb[t])&&delete e.orb[t])),Object.keys(e.orb).forEach((t=>e.orb[t]=parseInt(e.orb[t]))),e},submit:function(){0==this.user.id.length&&(this.user.id=Date.now()),this.user=this.clean(this.user),this.close()}}},me=he,ve=(0,i.Z)(me,fe,de,!1,null,null,null),ge=ve.exports;u()(ve,{VBtn:Q.Z,VBtnToggle:ee.Z,VCard:O.Z,VCardActions:N.h7,VCardText:N.ZB,VCol:T.Z,VDialog:te.Z,VDivider:R.Z,VIcon:d.Z,VRow:L.Z,VSpacer:se.Z,VTextField:re.Z,VToolbar:ne.Z,VToolbarItems:oe.lj,VToolbarTitle:oe.qW});var pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"gn-user-fleet-settings"},[s("span",{staticClass:"gn-user-fleet-settings-delay"},[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-icon",e._g(e._b({attrs:{small:""}},"v-icon",a,!1),r),[e._v("mdi-clock-start")])]}}])},[s("span",[e._v("Startverzögerung in Ticks")])]),s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.delay,expression:"delay"}],staticClass:"gn-user-fleet-settings-select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.delay=t.target.multiple?s:s[0]}}},e._l(21,(function(t,r){return s("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])})),0)])],1),s("span",{staticClass:"gn-user-fleet-settings-duration"},[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-icon",e._g(e._b({attrs:{small:""}},"v-icon",a,!1),r),[e._v("mdi-clock-time-three-outline")])]}}])},[s("span",[e._v("Aufenthaltszeit in Ticks")])]),s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.duration,expression:"duration"}],staticClass:"gn-user-fleet-settings-select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.duration=t.target.multiple?s:s[0]}}},e._l(20,(function(t){return s("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)])],1)])},be=[],ke={name:"GnUserFleetSettings",components:{},props:{user:function(){return{type:Object,default:{}}},fleet:function(){return{type:Number,default:1}}},computed:{duration:{set(e){this.$root.$emit("selectDuration",this.user.id,this.fleet,e)},get(){return this.user.fleet[this.fleet].duration}},delay:{set(e){this.$root.$emit("selectDelay",this.user.id,this.fleet,e)},get(){return this.user.fleet[this.fleet].delay}}},methods:{format(e){return Number(e).toLocaleString()},displayShip:function(e,t){return" "+this.format(t)+" "+this.UNITS[e].SHORT}}},ye=ke,_e=s(7337),Ee=(0,i.Z)(ye,pe,be,!1,null,null,null),xe=Ee.exports;u()(Ee,{VIcon:d.Z,VTooltip:_e.Z});var je={name:"GnUser",components:{GnUserFleetSettings:xe,GnEditFleet:ge},props:{value:Object,type:function(){return{type:Number,default:2}},deleteUser:{type:Function,default:function(){}}},data:function(){return{showEdit:!1}},computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},user:{get(){return this.value},set(e){this.$emit("input",e)}},getUserName:function(){let e="";return e=this.user.name?this.user.name:this.user.id+"",this.user.galaxy&&(e+=" ("+this.user.galaxy+":"+this.user.nr+")"),e=e.substring(0,16),e}},methods:{format(e){return Number(e).toLocaleString()},displayShip:function(e,t){if(t>0)return" "+this.format(t)+" "+this.UNITS[e].SHORT},displayOrb:function(e,t){if(t>0)return" "+this.format(t)+" "+this.ORB[e].SHORT},displayPoints:function(e){return" "+this.format(e)},displayExen:function(e,t){return" "+this.format(t)+" "+this.EXEN[e].SHORT},changeType(){this.$root.$emit("changeType",this.user.id,this.type)},closeEdit:function(){this.showEdit=!1}}},Se=je,we=(0,i.Z)(Se,ce,ue,!1,null,null,null),Ce=we.exports;u()(we,{VCol:T.Z,VIcon:d.Z,VRow:L.Z,VSpacer:se.Z});var Ae=s(9669),De=s.n(Ae),Ie={name:"GnSimulator",components:{GnCombatResults:q,GnAddFleet:ie,GnUser:Ce},data:()=>({mode:0,users:[],ticks:5,results:[],alert:!1,simple_deff:{id:"sd999",name:"Verteidiger",type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}},simple_off:{id:"so999",name:"Angreifer",type:2,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:5},2:{units:{},delay:0,duration:5}}}}),computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},url:function(){let e=location.origin+location.pathname;if(this.users.length>0){let t=JSON.stringify(this.users),s=btoa(t);e=e+"?a="+s}return e}},methods:{clean:function(e){for(let t=0;t<3;t++)Object.keys(e.fleet[t].units).forEach((s=>(0==e.fleet[t].units[s]||""==e.fleet[t].units[s])&&delete e.fleet[t].units[s])),Object.keys(e.fleet[t].units).forEach((s=>e.fleet[t].units[s]=parseInt(e.fleet[t].units[s])));return Object.keys(e.orb).forEach((t=>(0==e.orb[t]||""==e.orb[t])&&delete e.orb[t])),Object.keys(e.orb).forEach((t=>e.orb[t]=parseInt(e.orb[t]))),e},copyURL:async function(){try{await navigator.clipboard.writeText(this.url),this.alert=!0}catch(e){console.warn("kopieren fehlgeschlagen")}},getNewRequestObj:function(e=0){return{data:{type:"combats",attributes:{target:{fleets:[],extractors:{metal:0,crystal:0}},attackers:[],defenders:[],config:{mode:e}}}}},getNewTargetObj:function(e){return{name:""+e,fleets:[],extractors:{metal:0,crystal:0}}},getNewUserObj:function(e){return{name:""+e,fleets:[]}},addUser:function(e){this.users.push(e)},deleteUser:function(e){let t=this.users.findIndex((t=>t.id==e.id));this.users.splice(t,1)},getUserByID:function(e){return this.users.find((t=>t.id==e))},getCombatMode:function(e){let t=0;return e&&Object.keys(e.units).forEach((e=>{A.nd[e]&&A.nd[e].PRETICKS&&A.nd[e].PRETICKS>t&&(t=A.nd[e].PRETICKS)})),t},updateUsers:function(e,t){if(t&&t.data.attributes.attackers&&t.data.attributes.attackers.forEach((t=>{let s=e.findIndex((e=>e.id==t.name));s>-1&&t.fleets.after.forEach((t=>{Object.keys(e[s].fleet).forEach((r=>{r==t.name&&(e[s].fleet[r].units=t.units)}))}))})),t&&t.data.attributes.target){let s=e.findIndex((e=>e.id==t.data.attributes.target.name));if(s>-1){let r=e[s],a=t.data.attributes.target,n={id:r.id,name:r.name,type:r.type,exen:{},orb:{},fleet:{0:{},1:{},2:{}}};Object.keys(A.e7).forEach((e=>{n.exen[e]=a.extractors.after[e]})),t.data.attributes.target.fleets.after.forEach((e=>{let t=r.fleet[e.name],s={units:{},delay:t.delay,duration:t.duration};Object.keys(e.units).forEach((t=>{A.nd[t]?n.orb[t]=e.units[t]:s.units[t]=e.units[t]})),n.fleet[e.name]=s})),e[s]=n}}},getPreTickUsers:function(e,t){let s=this,r={target:void 0,attackers:[],defenders:[]};return e.forEach((function(e){switch(e.type){case 0:let a=s.getNewTargetObj(e.id);Object.keys(A.e7).forEach((t=>{a.extractors[t]=e.exen[t]?parseInt(e.exen[t]):0}));for(let t=0;t<=2;t++){let s={name:""+t,units:0==t?{...e.fleet[t].units,...e.orb}:{...e.fleet[t].units}};Object.keys(s.units).length>0&&a.fleets.push(s)}r.target=a;break;case 1:break;case 2:let n=s.getNewUserObj(e.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...e.fleet[s].units},calculateCarrierCapacityLosses:e.fleet[s].delay+e.fleet[s].duration==t+1};e.fleet[s].delay==t&&Object.keys(r.units).length>0&&n.fleets.push(r)}n.fleets.length>0&&r.attackers.push(n);break}})),r},getNewUsers:function(e,t){let s=this,r={target:void 0,attackers:[],defenders:[]};return e.forEach((function(e){switch(e.type){case 0:if(0==t){let t=s.getNewTargetObj(e.id);Object.keys(A.e7).forEach((s=>{t.extractors[s]=e.exen[s]?parseInt(e.exen[s]):0}));for(let s=0;s<=2;s++){let r={name:""+s,units:0==s?{...e.fleet[s].units,...e.orb}:{...e.fleet[s].units}};Object.keys(r.units).length>0&&t.fleets.push(r)}r.target=t}break;case 1:let a=s.getNewUserObj(e.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...e.fleet[s].units},calculateCarrierCapacityLosses:e.fleet[s].delay+e.fleet[s].duration==t+1};e.fleet[s].delay==t&&Object.keys(r.units).length>0&&a.fleets.push(r)}a.fleets.length>0&&r.defenders.push(a);break;case 2:let n=s.getNewUserObj(e.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...e.fleet[s].units},calculateCarrierCapacityLosses:e.fleet[s].delay+e.fleet[s].duration==t+1};e.fleet[s].delay==t&&Object.keys(r.units).length>0&&n.fleets.push(r)}n.fleets.length>0&&r.attackers.push(n);break}})),r},getNextPreTickRequest:function(e,t){let s=this.getNewRequestObj(t);return s.data.attributes.target=e.target,s.data.attributes.attackers=s.data.attributes.attackers.concat(e.attackers),s},getNextRequest:function(e,t,s,r){let a=this,n=this.getNewRequestObj(r);if(s.target&&!e&&(n.data.attributes.target=s.target),n.data.attributes.defenders=s.defenders,n.data.attributes.attackers=s.attackers,e){let r=e.data.attributes;r.target&&(n.data.attributes.target.name=r.target.name,r.target.fleets.after.forEach((e=>{n.data.attributes.target.fleets.push({name:e.name,units:e.units})})),Object.keys(A.e7).forEach((e=>{n.data.attributes.target.extractors[e]=r.target.extractors.after[e]}))),r.defenders&&r.defenders.forEach((e=>{let s=this.getNewUserObj(e.name);e.fleets.after.forEach((r=>{let n=a.getUserByID(e.name),o=n.fleet[r.name].delay+n.fleet[r.name].duration;t!=o&&n.fleet[r.name].delay+n.fleet[r.name].duration>t&&s.fleets.push({name:r.name,units:{...r.units},calculateCarrierCapacityLosses:n.fleet[r.name].delay+n.fleet[r.name].duration==t+1})})),s.fleets.length>0&&n.data.attributes.defenders.push(s)})),r.attackers&&r.attackers.forEach((e=>{let r=s.attackers.findIndex((t=>t.name==e.name)),o=this.getNewUserObj(e.name);e.fleets.after.forEach((n=>{let l=-1;if(r>-1&&(l=s.attackers[r].fleets.findIndex((e=>e.name==n.name))),l>-1)return;let i=a.getUserByID(e.name),c=i.fleet[n.name].delay+i.fleet[n.name].duration;t!=c&&i.fleet[n.name].delay+i.fleet[n.name].duration>t&&o.fleets.push({name:n.name,units:{...n.units},calculateCarrierCapacityLosses:i.fleet[n.name].delay+i.fleet[n.name].duration==t+1})})),o.fleets.length>0&&n.data.attributes.attackers.push(o)}))}return n},simulate:async function(){0==this.mode&&(this.users=[],this.users.push(this.clean(this.simple_deff)),this.users.push(this.clean(this.simple_off)));let e,t,s,r={headers:{Accept:"application/vnd.api+json;version=1.0","Content-Type":"application/json"}},a=JSON.parse(JSON.stringify(this.users)),n=this.getNewUsers(a,0),o=this.getCombatMode(n.target.fleets[0]);this.results=[];for(let i=-2;i<this.ticks;i++)try{let n;e&&(o=this.getCombatMode(e.data.attributes.target.fleets.after[0])),o>1&&(n=this.getPreTickUsers(a,i+2),n.attackers.length>0&&(t=this.getNextPreTickRequest(n,2),s=await De().post("https://galactic-conquest.de/api/combats",t,r),this.updateUsers(a,s.data),this.results.push({tick:i+1,request:t,response:s.data,mode:2}))),o>0&&(n=this.getPreTickUsers(a,i+1),n.attackers.length>0&&(t=this.getNextPreTickRequest(n,1),s=await De().post("https://galactic-conquest.de/api/combats",t,r),this.updateUsers(a,s.data),this.results.push({tick:i+1,request:t,response:s.data,mode:1}))),n=this.getNewUsers(a,i),(n.target||n.defenders.length>0||n.attackers.length>0||e)&&i>=0&&(t=this.getNextRequest(e,i,n,0),s=await De().post("https://galactic-conquest.de/api/combats",t,r),e=s.data,this.updateUsers(a,s.data),this.results.push({tick:i+1,request:t,response:e,mode:0}))}catch(l){console.warn(l)}}},created:function(){let e=window.location.search.substring(1),t=new URLSearchParams(e),s=t.get("a");if(s){let e=atob(s);this.users=JSON.parse(e),this.mode=1}},mounted:function(){let e=this;this.$root.$on("selectDuration",((t,s,r)=>{let a=e.users.find((e=>e.id==t));a.fleet[s].duration=r})),this.$root.$on("selectDelay",((t,s,r)=>{let a=e.users.find((e=>e.id==t));a.fleet[s].delay=r})),this.$root.$on("changeType",((t,s)=>{let r=s;switch(s){case 0:r=1;break;case 1:r=2;break;case 2:r=0;break;default:break}let a=e.users.find((e=>e.id==t));a&&(a.type=r)}))}},Oe=Ie,Ne=s(1819),Te=s(4654),Re=(0,i.Z)(Oe,E,x,!1,null,null,null),Le=Re.exports;u()(Re,{VBtn:Q.Z,VBtnToggle:ee.Z,VCol:T.Z,VContainer:Ne.Z,VDivider:R.Z,VRow:L.Z,VSnackbar:Te.Z,VTextField:re.Z});var Ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("h1",{staticClass:"mb-1 mt-5"},[e._v("Scan einlesen")])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-textarea",{staticClass:"gn-parse-input",attrs:{clearable:"",dense:""},model:{value:e.scanText,callback:function(t){e.scanText=t},expression:"scanText"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("div",{staticClass:"gn-parse-button"},[s("v-btn",{attrs:{width:"100%",tile:""},on:{click:function(t){return e.parse()}}},[e._v("Parse")])],1)])],1),e.showParse?s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("gn-user",{attrs:{type:e.user.type,deleteUser:e.deleteUser},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}})],1)],1):e._e(),s("v-divider",{staticClass:"mt-5"}),s("v-row",{staticClass:"mt-3"},[e.user.points?s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-card",[s("v-card-title",[e._v("Ressourcenberechnung")]),s("v-card-text",[s("table",{staticClass:"gn-ressourcen-info"},[s("tr",[s("td",[e._v("Punkte durch Exen:")]),s("td",[e._v(e._s(e.format(e.pointsFromExen)))])]),s("tr",[s("td",[e._v("Punkte durch Orb:")]),s("td",[e._v(e._s(e.format(e.pointsFromOrb)))])]),s("tr",[s("td",[e._v("Punkte durch Schiffe:")]),s("td",{staticClass:"gn-ressourcen-info-line"},[e._v(e._s(e.format(e.pointsFromShips)))])]),s("tr",[s("td",[e._v("Gesamtpunkte:")]),s("td",[e._v(e._s(e.format(e.totalPoints)))])]),s("tr",[s("td",[e._v("Punkte laut Scan:")]),s("td",{staticClass:"gn-ressourcen-info-line"},[e._v(e._s(e.format(e.user.points)))])]),s("tr",[s("td",[e._v("Punkte durch Ress:")]),s("td",[e._v(e._s(e.format(e.pointsFromRes)))])]),s("tr",[s("td",[e._v("Ressourcen:")]),s("td",{staticClass:"gn-ressourcen-info-line"},[e._v(e._s(e.format(e.ressources)))])])])])],1)],1):e._e(),e.pointsPerTick.length?s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-card",[s("v-card-title",[e._v("Punkteberechnung")]),s("v-card-text",[s("table",{staticClass:"gn-ressourcen-info"},e._l(e.pointsPerTick,(function(t){return s("tr",{key:t.tick},[s("td",[e._v("ETA "+e._s(e.getETA(t.tick)))]),s("td",[e._v(e._s(e.format(t.points)))])])})),0)])],1)],1):e._e()],1)],1)],1)},Ze=[],Me=s(381),Pe=s.n(Me),Ue={name:"GnScanAuswertung",components:{GnUser:Ce},data:()=>({scanText:"",showParse:!1,user:{id:"",name:"",points:0,type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}}),computed:{UNITS:function(){return A.uo},ORB:function(){return A.nd},EXEN:function(){return A.e7},pointsFromExen:function(){let e=0,t=this.user.exen;return Object.keys(A.e7).forEach((s=>{t[s]&&(e+=15e3*t[s])})),e},pointsFromOrb:function(){let e=0,t=this.user.orb;return console.warn(A.nd),Object.keys(A.nd).forEach((s=>{const r=A.nd[s];t[r.ID]&&(e+=t[r.ID]*(r.CRYSTAL+r.METAL))})),console.warn(e),e},pointsFromShips:function(){let e=0,t=this.user;for(let s=0;s<3;s++)Object.keys(t.fleet[s].units).forEach((r=>e+=t.fleet[s].units[r]*(A.uo[r].CRYSTAL+A.uo[r].METAL)));return e},totalPoints:function(){return this.pointsFromExen+this.pointsFromOrb+this.pointsFromShips},pointsFromRes:function(){return this.user.points-this.totalPoints},ressources:function(){return 10*this.pointsFromRes},pointsPerTick:function(){let e=[];if(this.showParse&&this.user.points){let t=parseInt(this.user.points);e.push({tick:0,points:t});let s=0,r=this.user.exen;Object.keys(A.e7).forEach((e=>{r[e]&&(s+=50*r[e])}));for(let a=1;a<=30;a++)t+=s,e.push({tick:a,points:t})}return e}},methods:{format(e){return Number(e).toLocaleString()},getETA(e){let t=Pe()().hour(7).minute(30);return t.subtract(15*e,"minutes").format("H:mm")},parse:async function(){this.user=Y.parse(this.scanText,this.user),this.showParse=!0,await this.$forceUpdate(),console.warn(this.user)},deleteUser:async function(){this.showParse=!1,this.user={id:"",name:"",points:0,type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}}}},Be=Ue,Fe=(0,i.Z)(Be,Ve,Ze,!1,null,null,null),ze=Fe.exports;u()(Fe,{VBtn:Q.Z,VCard:O.Z,VCardText:N.ZB,VCardTitle:N.EB,VCol:T.Z,VContainer:Ne.Z,VDivider:R.Z,VRow:L.Z,VTextarea:ae.Z}),r.Z.use(_.ZP);var $e=new _.ZP({routes:[{path:"/",component:Le},{path:"/ScanAuswertung",component:ze}]}),Ge=s(5205);(0,Ge.z)("/GN-Tools-Site/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Ke=s(6482);r.Z.use(Ke.Z);var qe=new Ke.Z({});r.Z.config.productionTip=!1,new r.Z({router:$e,vuetify:qe,render:function(e){return e(y)}}).$mount("#app")}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,n){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],n=e[u][2];for(var l=!0,i=0;i<r.length;i++)(!1&n||o>=n)&&Object.keys(s.O).every((function(e){return s.O[e](r[i])}))?r.splice(i--,1):(l=!1,n<o&&(o=n));if(l){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,n,o=r[0],l=r[1],i=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(i)var u=i(s)}for(t&&t(r);c<o.length;c++)n=o[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},r=self["webpackChunkgnsimulator"]=self["webpackChunkgnsimulator"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(3241)}));r=s.O(r)})();
//# sourceMappingURL=app.f9362cd4.js.map