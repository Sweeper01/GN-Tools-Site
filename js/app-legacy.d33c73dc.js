(function(){"use strict";var e={5301:function(e,t,s){var r=s(144),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-main",[s("v-container",[s("v-row",[s("v-col",[s("h1",[e._v("Flotten")])])],1),s("v-divider",{staticClass:"mb-5"}),s("v-row",[e._l(e.users,(function(t,r){return s("v-col",{key:t.id,attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[s("gn-user",{attrs:{type:t.type,deleteUser:e.deleteUser},model:{value:e.users[r],callback:function(t){e.$set(e.users,r,t)},expression:"users[index]"}})],1)})),s("v-col",{attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[s("gn-add-fleet",{attrs:{add:e.addUser}})],1)],2),s("v-row",{staticClass:"mt-5"},[s("v-col",{attrs:{cols:"6",md:"2"}},[s("v-text-field",{attrs:{type:"Number",label:"Anzahl Ticks"},model:{value:e.ticks,callback:function(t){e.ticks=t},expression:"ticks"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-btn",{on:{click:e.simulate}},[e._v("Simulate")])],1)],1),s("v-divider",{staticClass:"mt-5"}),s("gn-combat-results",{attrs:{results:e.results}}),s("v-divider",{staticClass:"mb-5"})],1)],1)],1)},n=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.results.length>0,expression:"results.length > 0"}]},[s("h1",{staticClass:"mt-5"},[e._v("Übersicht")]),s("gn-combat-result-overview",{staticClass:"mb-5",attrs:{results:e.results}}),e._l(e.results,(function(t,r){return s("div",{key:r},[r>0&&t.tick!=e.results[r-1].tick||0==r?s("h3",[e._v("Tick "+e._s(t.tick))]):e._e(),r>0&&t.tick!=e.results[r-1].tick||0==r?s("v-divider",{staticClass:"mb-5"}):e._e(),s("gn-combat-result",{staticClass:"mb-5",attrs:{result:t.response,tick:t.tick,mode:t.mode}})],1)}))],2)},l=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.results.length>0,expression:"results.length > 0"}]},[s("v-card",{staticClass:"gn-overview"},[s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[e._v("Verteidiger")]),s("th",[e._v("Vorher")]),s("th",[e._v("Nachher")]),s("th",[e._v("Verluste")])]),e._l(e.UNITS,(function(t){return s("tr",{key:"dShip"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getDefenderBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderLost(t.ID))))])])})),e._l(e.ORB,(function(t){return s("tr",{key:"dOrb"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getDefenderBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderLost(t.ID))))])])})),e._l(e.EXEN,(function(t){return s("tr",{key:"dExe"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getExenBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getExenAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getExenLost(t.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Kosten")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"dRes"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getDefenderCosts(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumDefenderCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Bergungsressourcen")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"dBRes"+t.ID+"1"},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getDefenderBR(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumDefenderBR())))])]),s("tr",[s("td",[e._v(e._s(e.getSumDefenderProfit()>=0?"Gewinn:":"Verlust:"))]),s("td",[e._v(e._s(e.format(e.getSumDefenderProfit())))])])],2)])],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[e._v("Angreifer")]),s("th",[e._v("Vorher")]),s("th",[e._v("Nachher")]),s("th",[e._v("Verluste")])]),e._l(e.UNITS,(function(t){return s("tr",{key:"aShips"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getAttackerBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getAttackerAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getAttackerLost(t.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Kosten")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"aRes"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getAttackerCosts(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumAttackerCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Exen")])]),e._l(e.EXEN,(function(t){return s("tr",{key:"aExe"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getAttackerExenStolen(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumAttackerExenStolen())))])]),s("tr",[s("td",[e._v("Kosten pro Exe:")]),s("td",[e._v(e._s(e.format(e.getAttackerCostsPerExe())))])])],2)])],1)],1)],1)],1)],1)],1)},c=[],u=JSON.parse('{"uo":{"JA":{"ID":"JA","NAME":"Jäger","SHORT":"JÄ"},"BO":{"ID":"BO","NAME":"Bomber","SHORT":"BO"},"FR":{"ID":"FR","NAME":"Fregatte","SHORT":"FR"},"ZE":{"ID":"ZE","NAME":"Zerstörer","SHORT":"ZE"},"KR":{"ID":"KR","NAME":"Kreuzer","SHORT":"KR"},"SS":{"ID":"SS","NAME":"Schlachtschiff","SHORT":"SS"},"TR":{"ID":"TR","NAME":"Trägerschiff","SHORT":"TR"},"CL":{"ID":"CL","NAME":"Kaperschiff","SHORT":"CL"},"CA":{"ID":"CA","NAME":"Schutzschiff","SHORT":"CA"}},"nd":{"LO":{"ID":"LO","NAME":"Rubium","SHORT":"LO"},"LR":{"ID":"LR","NAME":"Pulsar","SHORT":"LR","PRETICKS":1},"MR":{"ID":"MR","NAME":"Coon","SHORT":"MR","PRETICKS":1},"SR":{"ID":"SR","NAME":"Centurion","SHORT":"SR","PRETICKS":2},"AJ":{"ID":"AJ","NAME":"Abfangjäger","SHORT":"AJ"}},"e7":{"metal":{"ID":"metal","SHORT":"M","NAME":"Metall Exen"},"crystal":{"ID":"crystal","SHORT":"K","NAME":"Kristall Exen"}},"rP":{"metal":{"ID":"metal","NAME":"Metall"},"crystal":{"ID":"crystal","NAME":"Kristall"}},"nN":{"jaeger":"JA","jäger":"JA","jä":"JA","leo":"JA","bomber":"BO","bo":"BO","aquilae":"BO","fregatte":"FR","fregatten":"FR","fr":"FR","fornax":"FR","zerstörer":"ZE","zerstoerer":"ZE","ze":"ZE","draco":"ZE","kreuzer":"KR","kr":"KR","goron":"KR","schlachtschiff":"SS","schlachtschiffe":"SS","schlachter":"SS","ss":"SS","pentalin":"SS","trägerschiff":"TR","trägerschiffe":"TR","träger":"TR","traegerschiff":"TR","traegerschiffe":"TR","traeger":"TR","tr":"TR","zenit":"TR","kaperschiff":"CL","kaperschiffe":"CL","cl":"CL","cleptor":"CL","kleptoren":"CL","schutzschiff":"CA","schutzschiffe":"CA","ca":"CA","cancri":"CA","cancris":"CA","rubium":"LO","lo":"LO","pulsar":"LR","lr":"LR","coon":"MR","mr":"MR","centurion":"SR","sr":"SR","horus":"AJ","aj":"AJ","m-extraktoren":"metal","k-extraktoren":"crystal"}}'),f={name:"GnCombatResultOverview",props:{results:function(){return{type:Array,default:[]}}},computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7},RESOURCES:function(){return u.rP},total:function(){let e=this,t=[],s={target:{name:"Verteidiger",extractors:{before:{},after:{},stolen:{}},fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}}}]},resources:{salvaged:{}}},attackers:[{name:"Angreifer",fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}},extractors:{stolen:{}}}]}}]};for(let r=0;r<this.results.length;r++){let a=this.results[r].response.data.attributes;a.target&&(0==r&&(Object.keys(u.e7).forEach((e=>{s.target.extractors.before[e]=a.target.extractors.before[e]})),a.target.fleets.before.forEach((t=>{Object.keys(t.units).forEach((r=>{e.add(s.target.fleets.before[0].units,r,t.units[r])}))}))),a.target.fleets.after.forEach((t=>{Object.keys(t.losses).forEach((r=>{e.add(s.target.fleets.after[0].losses,r,t.losses[r])})),Object.keys(t.destroyed).forEach((r=>{e.add(s.target.fleets.after[0].destroyed,r,t.destroyed[r])})),Object.keys(u.rP).forEach((r=>{e.add(s.target.fleets.after[0].resources.cost,r,t.resources.cost[r])}))})),Object.keys(u.e7).forEach((t=>{s.target.extractors.after[t]=a.target.extractors.after[t],e.add(s.target.extractors.stolen,t,a.target.extractors.stolen[t])})),Object.keys(u.rP).forEach((t=>{e.add(s.target.resources.salvaged,t,a.target.resources.salvaged[t])}))),a.defenders&&(a.defenders.forEach((r=>{let a=t.find((e=>e.id==r.name));a||(a={id:r.name,fleets:[]},t.push(a)),r.fleets.before.forEach((t=>{a.fleets.find((e=>e==t.name))||(a.fleets.push(t.name),Object.keys(t.units).forEach((r=>{e.add(s.target.fleets.before[0].units,r,t.units[r])})))}))})),a.defenders.forEach((t=>{t.fleets.after.forEach((t=>{Object.keys(t.losses).forEach((r=>{e.add(s.target.fleets.after[0].losses,r,t.losses[r])})),Object.keys(t.destroyed).forEach((r=>{e.add(s.target.fleets.after[0].destroyed,r,t.destroyed[r])})),Object.keys(u.rP).forEach((r=>{e.add(s.target.resources.salvaged,r,t.resources.salvaged[r]),e.add(s.target.fleets.after[0].resources.cost,r,t.resources.cost[r])}))}))}))),a.attackers&&(a.attackers.forEach((r=>{let a=t.find((e=>e.id==r.name));a||(a={id:r.name,fleets:[]},t.push(a)),r.fleets.before.forEach((t=>{a.fleets.find((e=>e==t.name))||(a.fleets.push(t.name),Object.keys(t.units).forEach((r=>{e.add(s.attackers[0].fleets.before[0].units,r,t.units[r])})))}))})),a.attackers.forEach((t=>{t.fleets.after.forEach((t=>{Object.keys(t.losses).forEach((r=>{e.add(s.attackers[0].fleets.after[0].losses,r,t.losses[r])})),Object.keys(t.destroyed).forEach((r=>{e.add(s.attackers[0].fleets.after[0].destroyed,r,t.destroyed[r])})),Object.keys(u.rP).forEach((r=>{e.add(s.attackers[0].fleets.after[0].resources.cost,r,t.resources.cost[r])})),Object.keys(u.e7).forEach((r=>{e.add(s.attackers[0].fleets.after[0].extractors.stolen,r,t.extractors.stolen[r])}))}))})))}return s}},methods:{format(e){return Number(e).toLocaleString()},getExenBefore(e){return this.total.target.extractors.before[e]?this.total.target.extractors.before[e]:0},getExenAfter(e){return this.total.target.extractors.after[e]?this.total.target.extractors.after[e]:0},getExenLost(e){return this.total.target.extractors.stolen[e]?this.total.target.extractors.stolen[e]:0},getDefenderBefore(e){return this.total.target.fleets.before[0].units[e]?this.total.target.fleets.before[0].units[e]:0},getDefenderAfter(e){return this.getDefenderBefore(e)-this.getDefenderLost(e)},getDefenderLost(e){return this.total.target.fleets.after[0].losses[e]?this.total.target.fleets.after[0].losses[e]:0},getDefenderCosts(e){return this.total.target.fleets.after[0].resources.cost[e]?this.total.target.fleets.after[0].resources.cost[e]:0},getSumDefenderCosts(){let e=this,t=0;return Object.keys(u.rP).forEach((s=>{t+=e.total.target.fleets.after[0].resources.cost[s]?e.total.target.fleets.after[0].resources.cost[s]:0})),t},getDefenderBR(e){return this.total.target.resources.salvaged[e]?this.total.target.resources.salvaged[e]:0},getSumDefenderBR(){let e=this,t=0;return Object.keys(u.rP).forEach((s=>{t+=e.total.target.resources.salvaged[s]?e.total.target.resources.salvaged[s]:0})),t},getSumDefenderProfit(){return this.getSumDefenderBR()-this.getSumDefenderCosts()},getAttackerBefore(e){return this.total.attackers[0].fleets.before[0].units[e]?this.total.attackers[0].fleets.before[0].units[e]:0},getAttackerAfter(e){return this.getAttackerBefore(e)-this.getAttackerLost(e)},getAttackerLost(e){return this.total.attackers[0].fleets.after[0].losses[e]?this.total.attackers[0].fleets.after[0].losses[e]:0},getAttackerCosts(e){return this.total.attackers[0].fleets.after[0].resources.cost[e]?this.total.attackers[0].fleets.after[0].resources.cost[e]:0},getSumAttackerCosts(){let e=this,t=0;return Object.keys(u.rP).forEach((s=>{t+=e.total.attackers[0].fleets.after[0].resources.cost[s]?e.total.attackers[0].fleets.after[0].resources.cost[s]:0})),t},getAttackerExenStolen(e){return this.total.attackers[0].fleets.after[0].extractors.stolen[e]?this.total.attackers[0].fleets.after[0].extractors.stolen[e]:0},getSumAttackerExenStolen(){let e=this,t=0;return Object.keys(u.e7).forEach((s=>{t+=e.total.attackers[0].fleets.after[0].extractors.stolen[s]?e.total.attackers[0].fleets.after[0].extractors.stolen[s]:0})),t},getAttackerCostsPerExe(){let e=this.getSumAttackerExenStolen();return e>0?Math.round(this.getSumAttackerCosts()/e):0},add:function(e,t,s){return void 0==e[t]&&(e[t]=0),e[t]+=s,e}}},d=f,h=s(1001),g=s(3453),v=s.n(g),m=s(2026),p=s(5255),b=s(7024),y=s(5596),k=s(7894),_=(0,h.Z)(d,i,c,!1,null,null,null),E=_.exports;v()(_,{VCard:m.Z,VCardText:p.ZB,VCol:b.Z,VDivider:y.Z,VRow:k.Z});var x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.result.data,expression:"result.data"}]},[s("v-card",{staticClass:"gn-combat-result",class:{"gn-light-gray":e.mode>0}},[e.mode>0?s("v-card-subtitle",[e._v("Vortick "+e._s(e.mode))]):e._e(),s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-combat-result-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[e._v("Verteidiger")]),s("th",[e._v("Vorher")]),s("th",[e._v("Nachher")]),s("th",[e._v("Verluste")])]),e._l(e.UNITS,(function(t){return s("tr",{key:"dShip"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getDefenderBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderLost(t.ID))))])])})),e._l(e.ORB,(function(t){return s("tr",{key:"dOrb"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getDefenderBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getDefenderLost(t.ID))))])])})),e._l(e.EXEN,(function(t){return s("tr",{key:"dExe"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getExenBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getExenAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getExenLost(t.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Kosten")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"dRes"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getDefenderCosts(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumDefenderCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Bergungsressourcen")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"dBRes"+t.ID+"1"},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getDefenderBR(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumDefenderBR())))])]),s("tr",[s("td",[e._v(e._s(e.getSumDefenderProfit()>=0?"Gewinn:":"Verlust:"))]),s("td",[e._v(e._s(e.format(e.getSumDefenderProfit())))])])],2)])],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"7"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"40%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"20%"},attrs:{span:"1"}})]),s("thead",[s("th",[e._v("Angreifer")]),s("th",[e._v("Vorher")]),s("th",[e._v("Nachher")]),s("th",[e._v("Verluste")])]),e._l(e.UNITS,(function(t){return s("tr",{key:"aShip"+t.ID},[s("td",[e._v(e._s(t.NAME))]),s("td",[e._v(e._s(e.format(e.getAttackerBefore(t.ID))))]),s("td",[e._v(e._s(e.format(e.getAttackerAfter(t.ID))))]),s("td",[e._v(e._s(e.format(e.getAttackerLost(t.ID))))])])}))],2)]),s("v-col",{attrs:{cols:"12",md:"5"}},[s("table",{staticClass:"gn-overview-table"},[s("colgroup",[s("col",{staticStyle:{width:"55%"},attrs:{span:"1"}}),s("col",{staticStyle:{width:"45%"},attrs:{span:"1"}})]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Kosten")])]),e._l(e.RESOURCES,(function(t){return s("tr",{key:"aRes"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getAttackerCosts(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumAttackerCosts())))])]),s("thead",[s("th",{attrs:{colspan:"2"}},[e._v("Exen")])]),e._l(e.EXEN,(function(t){return s("tr",{key:"aExe"+t.ID},[s("td",[e._v(e._s(t.NAME+":"))]),s("td",[e._v(e._s(e.format(e.getAttackerExenStolen(t.ID))))])])})),s("tr",[s("td",[e._v("Summe:")]),s("td",[e._v(e._s(e.format(e.getSumAttackerExenStolen())))])]),s("tr",[s("td",[e._v("Kosten pro Exe:")]),s("td",[e._v(e._s(e.format(e.getAttackerCostsPerExe())))])])],2)])],1)],1)],1)],1)],1)],1)},S=[],D={name:"GnCombatResult",props:{result:function(){return{type:Object,default:{}}},tick:function(){return{type:Number,default:0}},mode:function(){return{type:Number,default:0}}},computed:{total:function(){let e=this,t={target:{name:"Verteidiger",extractors:{before:{},after:{},stolen:{}},fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}}}]},resources:{salvaged:{}}},attackers:[{name:"Angreifer",fleets:{before:[{name:"0",units:{}}],after:[{name:"0",units:{},losses:{},destroyed:{},resources:{cost:{}},extractors:{stolen:{}}}]}}]},s=this.result.data.attributes;return Object.keys(u.e7).forEach((e=>{t.target.extractors.before[e]=s.target.extractors.before[e]})),s.target&&(s.target.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.target.fleets.before[0].units,r,s.units[r])}))})),s.target.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.target.fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{e.add(t.target.fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{e.add(t.target.fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(u.rP).forEach((r=>{e.add(t.target.fleets.after[0].resources.cost,r,s.resources.cost[r])}))})),Object.keys(u.e7).forEach((e=>{t.target.extractors.after[e]=s.target.extractors.after[e],t.target.extractors.stolen[e]=s.target.extractors.stolen[e]})),Object.keys(u.rP).forEach((e=>{t.target.resources.salvaged[e]=s.target.resources.salvaged[e]}))),s.defenders&&(s.defenders.forEach((s=>{s.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.target.fleets.before[0].units,r,s.units[r])}))}))})),s.defenders.forEach((s=>{s.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.target.fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{e.add(t.target.fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{e.add(t.target.fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(u.rP).forEach((r=>{e.add(t.target.resources.salvaged,r,s.resources.salvaged[r]),e.add(t.target.fleets.after[0].resources.cost,r,s.resources.cost[r])}))}))}))),s.attackers&&(s.attackers.forEach((s=>{s.fleets.before.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.attackers[0].fleets.before[0].units,r,s.units[r])}))}))})),s.attackers.forEach((s=>{s.fleets.after.forEach((s=>{Object.keys(s.units).forEach((r=>{e.add(t.attackers[0].fleets.after[0].units,r,s.units[r])})),Object.keys(s.losses).forEach((r=>{e.add(t.attackers[0].fleets.after[0].losses,r,s.losses[r])})),Object.keys(s.destroyed).forEach((r=>{e.add(t.attackers[0].fleets.after[0].destroyed,r,s.destroyed[r])})),Object.keys(u.rP).forEach((r=>{e.add(t.attackers[0].fleets.after[0].resources.cost,r,s.resources.cost[r])})),Object.keys(u.e7).forEach((r=>{e.add(t.attackers[0].fleets.after[0].extractors.stolen,r,s.extractors.stolen[r])}))}))}))),t},UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7},RESOURCES:function(){return u.rP}},methods:{format(e){return Number(e).toLocaleString()},getExenBefore(e){return this.total.target.extractors.before[e]?this.total.target.extractors.before[e]:0},getExenAfter(e){return this.total.target.extractors.after[e]?this.total.target.extractors.after[e]:0},getExenLost(e){return this.total.target.extractors.stolen[e]?this.total.target.extractors.stolen[e]:0},getDefenderBefore(e){return this.total.target.fleets.before[0].units[e]?this.total.target.fleets.before[0].units[e]:0},getDefenderAfter(e){return this.total.target.fleets.after[0].units[e]?this.total.target.fleets.after[0].units[e]:0},getDefenderLost(e){return this.total.target.fleets.after[0].losses[e]?this.total.target.fleets.after[0].losses[e]:0},getDefenderCosts(e){return this.total.target.fleets.after[0].resources.cost[e]?this.total.target.fleets.after[0].resources.cost[e]:0},getSumDefenderCosts(){let e=this,t=0;return Object.keys(u.rP).forEach((s=>{t+=e.total.target.fleets.after[0].resources.cost[s]?e.total.target.fleets.after[0].resources.cost[s]:0})),t},getDefenderBR(e){return this.total.target.resources.salvaged[e]?this.total.target.resources.salvaged[e]:0},getSumDefenderBR(){let e=this,t=0;return Object.keys(u.rP).forEach((s=>{t+=e.total.target.resources.salvaged[s]?e.total.target.resources.salvaged[s]:0})),t},getSumDefenderProfit(){return this.getSumDefenderBR()-this.getSumDefenderCosts()},getAttackerBefore(e){return this.total.attackers[0].fleets.before[0].units[e]?this.total.attackers[0].fleets.before[0].units[e]:0},getAttackerAfter(e){return this.total.attackers[0].fleets.after[0].units[e]?this.total.attackers[0].fleets.after[0].units[e]:0},getAttackerLost(e){return this.total.attackers[0].fleets.after[0].losses[e]?this.total.attackers[0].fleets.after[0].losses[e]:0},getAttackerCosts(e){return this.total.attackers[0].fleets.after[0].resources.cost[e]?this.total.attackers[0].fleets.after[0].resources.cost[e]:0},getSumAttackerCosts(){let e=this,t=0;return Object.keys(u.rP).forEach((s=>{t+=e.total.attackers[0].fleets.after[0].resources.cost[s]?e.total.attackers[0].fleets.after[0].resources.cost[s]:0})),t},getAttackerExenStolen(e){return this.total.attackers[0].fleets.after[0].extractors.stolen[e]?this.total.attackers[0].fleets.after[0].extractors.stolen[e]:0},getSumAttackerExenStolen(){let e=this,t=0;return Object.keys(u.e7).forEach((s=>{t+=e.total.attackers[0].fleets.after[0].extractors.stolen[s]?e.total.attackers[0].fleets.after[0].extractors.stolen[s]:0})),t},getAttackerCostsPerExe(){let e=this.getSumAttackerExenStolen();return e>0?Math.round(this.getSumAttackerCosts()/e):0},add:function(e,t,s){return void 0==e[t]&&(e[t]=0),e[t]+=s,e}}},w=D,C=(0,h.Z)(w,x,S,!1,null,null,null),O=C.exports;v()(C,{VCard:m.Z,VCardSubtitle:p.Qq,VCardText:p.ZB,VCol:b.Z,VDivider:y.Z,VRow:k.Z});var A={name:"GnCombatResults",components:{GnCombatResultOverview:E,GnCombatResult:O},props:{results:function(){return{type:Array,default:[]}}}},I=A,N=(0,h.Z)(I,o,l,!1,null,null,null),R=N.exports;v()(N,{VDivider:y.Z});var T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{height:"100%",color:"primary",dark:"",icon:"",tile:"","x-large":""}},"v-btn",a,!1),r),[s("v-icon",{attrs:{"x-large":""}},[e._v("mdi-plus-box")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",{attrs:{tile:""}},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[e._v("Flotte hinzufügen")]),s("v-spacer"),s("v-toolbar-items",[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.close()}}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1),s("v-card-text",[s("v-row",[s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("h1",{staticClass:"mb-1 mt-5"},[e._v("Scan einlesen")])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-textarea",{staticClass:"gn-parse-input",attrs:{clearable:"",dense:""},model:{value:e.scanText,callback:function(t){e.scanText=t},expression:"scanText"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("div",{staticClass:"gn-parse-button"},[s("v-btn",{attrs:{width:"100%",tile:""},on:{click:function(t){return e.parse()}}},[e._v("Parse")])],1)])],1),s("v-row",[s("v-col",[s("v-btn-toggle",{attrs:{color:"primary",tile:"",mandatory:""},model:{value:e.scan.type,callback:function(t){e.$set(e.scan,"type",t)},expression:"scan.type"}},[s("v-btn",[s("v-icon",{attrs:{color:"green"}},[e._v("mdi-shield-home")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Ziel")])],1),s("v-btn",{on:{click:function(t){return e.setDuration(20)}}},[s("v-icon",{attrs:{color:"green"}},[e._v("mdi-shield")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Verteidiger")])],1),s("v-btn",{on:{click:function(t){return e.setDuration(5)}}},[s("v-icon",{attrs:{color:"red"}},[e._v("mdi-sword-cross")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Angreifer")])],1)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Orbit")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0",disabled:0!=e.scan.type},model:{value:e.scan.fleet[0].units[t.ID],callback:function(s){e.$set(e.scan.fleet[0].units,t.ID,s)},expression:"scan.fleet[0].units[unit.ID]"}})})),e._l(e.ORB,(function(t){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==e.scan.type,expression:"scan.type == 0"}],key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.scan.orb[t.ID],callback:function(s){e.$set(e.scan.orb,t.ID,s)},expression:"scan.orb[orb.ID]"}})})),e._l(e.EXEN,(function(t){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==e.scan.type,expression:"scan.type == 0"}],key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.scan.exen[t.ID],callback:function(s){e.$set(e.scan.exen,t.ID,s)},expression:"scan.exen[exe.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Flotte 1")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.scan.fleet[1].units[t.ID],callback:function(s){e.$set(e.scan.fleet[1].units,t.ID,s)},expression:"scan.fleet[1].units[unit.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Flotte 2")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.scan.fleet[2].units[t.ID],callback:function(s){e.$set(e.scan.fleet[2].units,t.ID,s)},expression:"scan.fleet[2].units[unit.ID]"}})}))],2)],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-btn",{attrs:{color:"error",block:"",text:""},on:{click:e.close}},[e._v("Abbrechen")])],1),s("v-col",{attrs:{cols:"8"}},[s("v-btn",{attrs:{color:"primary",block:"",text:""},on:{click:e.submit}},[e._v("Flotte hinzufügen")])],1)],1)],1)],1)],1)},j=[],V={parse:function(e,t){let s=this;console.warn("before:",e),e=e.replaceAll("*",""),e=e.replaceAll("00,14 ",""),e=e.replaceAll("00,14",""),e=e.replaceAll("01,14",""),e=e.replaceAll("01,15",""),e=e.replaceAll("Gescannt von","Galaxy-Network"),e=e.trim();let r=e.split(/\r?\n/);r=r.filter((e=>e.trim().length>0));let a=[],n=[];for(let o=0;o<r.length;o++){const e=r[o];e.toLowerCase().includes("miliscan")&&(a.push({type:"miliscan",lines:r.slice(o,o+4)}),o+=4),e.toLowerCase().includes("einheitenscan")&&(a.push({type:"einheitenscan",lines:r.slice(o,o+4)}),o+=4),e.toLowerCase().includes("geschützscan")&&(a.push({type:"geschützscan",lines:r.slice(o,o+2)}),o+=2),e.toLowerCase().includes("sektorscan")&&(a.push({type:"sektorscan",lines:r.slice(o,o+5)}),o+=5),e.toLowerCase().includes("flottenzusammensetzung")&&(n.push({type:"flottenzusammensetzung",lines:r.slice(o,o+11)}),o+=10),e.toLowerCase().includes("verteidigungseinheiten")&&(n.push({type:"verteidigungseinheiten",lines:r.slice(o,o+7)}),o+=6)}return a.forEach((e=>{let r=e.lines,a=e.type,n=r[0].trim().split(" ");t.name=n[2];let o=n[3].replace("(","").replace(")","").split(":");t.galaxy=o[0],t.nr=o[1],t.id=n[2]+"§"+o[0]+"§"+o[1],"miliscan"==a&&(r[1].length>0&&(t.fleet[0].units=s.getShipsFromMili(r[1])),r[2].length>0&&(t.fleet[1].units=s.getShipsFromMili(r[2])),r[3].length>0&&(t.fleet[2].units=s.getShipsFromMili(r[3]))),"einheitenscan"==a&&r[1].length>0&&r[2].length>0&&r[3].length>0&&(t.fleet[1].units=s.getShipsFromUnit(r[1],r[2],r[3])),"geschützscan"==a&&r[1].length>0&&(t.orb=s.getOrbFromGscan(r[1])),"sektorscan"==a&&r[3]&&r[3].length>0&&(t.exen=s.getExenFromSektor(r[3]))})),n.forEach((e=>{let s=e.lines,r=e.type;if("flottenzusammensetzung"==r){let e=s[0].trim().split(" ");t.name=e[2];let r=e[3].replace("(","").replace(")","").split(":");t.galaxy=r[0],t.nr=r[1],t.id=e[2]+"§"+r[0]+"§"+r[1];for(let a=2;a<s.length;a++){let e=s[a];e=e.replaceAll(":",""),e=e.replaceAll("\t"," "),e=e.trim();let r=e.split(" ");r=r.filter((e=>e.trim().length>0));let n=r[0],o=u.nN[n.toLowerCase()];if(!o)throw"Fehler beim Parsen: Einheit ("+n+") konnte nicht gefunden werden!";for(let s=0;s<r.length-1||s<=2;s++){let e=parseInt(r[s+1]);e>0&&(t.fleet[s].units[o]=e)}}}if("verteidigungseinheiten"==r)for(let a=2;a<s.length;a++){let e=s[a];e=e.replaceAll(":",""),e=e.replaceAll("\t"," "),e=e.replaceAll(" ",""),e=e.trim();let r=e.split('"');r=r.filter((e=>e.trim().length>0));let n=r[1],o=u.nN[n.toLowerCase()];if(!o)throw"Fehler beim Parsen: Einheit ("+n+") konnte nicht gefunden werden!";let l=parseInt(r[2]);l>0&&(t.orb[o]=l)}})),console.warn("result",t),t},getShipsFromUnit:function(e,t,s){let r=e+" "+t+" "+s;r=r.replaceAll("-",""),r=r.replaceAll(":",""),r=r.trim();let a={},n=r.split(" ");n=n.filter((e=>e.trim().length>0));for(let o=0;o+1<n.length;o+=2){let e=n[o],t=u.nN[e.toLowerCase()];if(!t)throw"Fehler beim Parsen: Einheit ("+e+") konnte nicht gefunden werden!";a[t]=parseInt(n[o+1])}return a},getShipsFromMili:function(e){e=e.replace("Im Orbit:",""),e=e.replace("Flotte 1:",""),e=e.replace("Flotte 2:",""),e=e.replaceAll("-",""),e=e.split("<")[0],e=e.trim();let t={},s=e.split(" ");s=s.filter((e=>e.trim().length>0));for(let r=0;r+1<s.length;r+=2){let e=s[r+1],a=u.nN[e.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+e+") konnte nicht gefunden werden!";t[a]=parseInt(s[r])}return t},getOrbFromGscan:function(e){e=e.replaceAll("- ",""),e=e.replaceAll(":",""),e=e.trim();let t={},s=e.split(" ");s=s.filter((e=>e.trim().length>0));for(let r=0;r+1<s.length;r+=2){let e=s[r],a=u.nN[e.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+e+") konnte nicht gefunden werden!";t[a]=parseInt(s[r+1])}return t},getExenFromSektor:function(e){e=e.replaceAll("- ",""),e=e.replaceAll(":",""),e=e.replaceAll("          "," "),e=e.trim();let t={},s=e.split(" ");s=s.filter((e=>e.trim().length>0));for(let r=0;r+1<s.length;r+=2){let e=s[r],a=u.nN[e.toLowerCase()];if(!a)throw"Fehler beim Parsen: Einheit ("+e+") konnte nicht gefunden werden!";t[a]=parseInt(s[r+1])}return t}},Z={name:"GnAddFleet",props:{add:{type:Function,default:function(){}}},data:function(){return{dialog:!1,scanText:"",scan:{id:"",name:"",type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}}},computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7}},methods:{setDuration:function(e){this.scan.fleet[1].duration=e,this.scan.fleet[2].duration=e},parse:async function(){this.scan=V.parse(this.scanText,this.scan),await this.$forceUpdate(),console.warn(this.scan)},reset:function(){this.scanText="",this.scan={id:"",name:"",type:0,exen:{},orb:{},fleet:{0:{units:{}},1:{units:{},delay:0,duration:20},2:{units:{},delay:0,duration:20}}}},close:function(){this.dialog=!1,this.reset()},clean:function(e){for(let t=0;t<3;t++)Object.keys(e.fleet[t].units).forEach((s=>(0==e.fleet[t].units[s]||""==e.fleet[t].units[s])&&delete e.fleet[t].units[s])),Object.keys(e.fleet[t].units).forEach((s=>e.fleet[t].units[s]=parseInt(e.fleet[t].units[s])));return Object.keys(e.orb).forEach((t=>(0==e.orb[t]||""==e.orb[t])&&delete e.orb[t])),Object.keys(e.orb).forEach((t=>e.orb[t]=parseInt(e.orb[t]))),e},submit:function(){0==this.scan.id.length&&(this.scan.id=Date.now()),this.scan=this.clean(this.scan),this.add(this.scan),this.close()}}},M=Z,B=s(1174),U=s(3619),L=s(8031),P=s(4456),F=s(2515),$=s(5857),z=s(7033),K=s(8683),G=s(3845),H=(0,h.Z)(M,T,j,!1,null,null,null),q=H.exports;v()(H,{VBtn:B.Z,VBtnToggle:U.Z,VCard:m.Z,VCardActions:p.h7,VCardText:p.ZB,VCol:b.Z,VDialog:L.Z,VDivider:y.Z,VIcon:P.Z,VRow:k.Z,VSpacer:F.Z,VTextField:$.Z,VTextarea:z.Z,VToolbar:K.Z,VToolbarItems:G.lj,VToolbarTitle:G.qW});var J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("gn-edit-fleet",{attrs:{close:e.closeEdit,show:e.showEdit},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),s("div",{staticClass:"gn-user"},[s("div",{staticClass:"gn-user-header"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{staticClass:"gn-user-header-label"},[0==e.type?s("v-icon",{attrs:{small:"",color:"green"},on:{click:e.changeType}},[e._v("mdi-shield-home")]):e._e(),1==e.type?s("v-icon",{attrs:{small:"",color:"green"},on:{click:e.changeType}},[e._v("mdi-shield")]):e._e(),2==e.type?s("v-icon",{attrs:{small:"",color:"red"},on:{click:e.changeType}},[e._v("mdi-sword-cross")]):e._e(),s("span",{on:{click:function(t){e.showEdit=!0}}},[e._v(e._s(e.getUserName))])],1),s("v-spacer"),s("v-col",[s("v-icon",{staticClass:"gn-user-delete-button",attrs:{small:"",right:""},on:{click:function(t){return e.deleteUser(e.user)}}},[e._v("mdi-close-circle-outline")])],1)],1)],1),s("div",{staticClass:"gn-user-body"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==e.type&&Object.keys(e.user.exen).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[e._v("Exen:")]),e._l(e.user.exen,(function(t,r){return s("span",{key:r,staticClass:"gn-user-ship"},[e._v(e._s(e.displayExen(r,t)))])}))],2):e._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==e.type&&Object.keys(e.user.orb).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[e._v("Geschütze:")]),e._l(e.user.orb,(function(t,r){return s("span",{key:r,staticClass:"gn-user-ship"},[e._v(e._s(e.displayOrb(r,t)))])}))],2):e._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[0==e.type&&Object.keys(e.user.fleet[0].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[e._v("Orbit:")]),e._l(e.user.fleet[0].units,(function(t,r){return s("span",{key:r,staticClass:"gn-user-ship"},[e._v(e._s(e.displayShip(r,t)))])}))],2):e._e()])],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[Object.keys(e.user.fleet[1].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[e._v("Flotte 1:")]),e._l(e.user.fleet[1].units,(function(t,r){return s("span",{key:r,staticClass:"gn-user-ship"},[e._v(e._s(e.displayShip(r,t)))])}))],2):e._e()])],1),0!=e.type&&Object.keys(e.user.fleet[1].units).length>0?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[s("gn-user-fleet-settings",{attrs:{user:e.user,fleet:1}})],1)],1):e._e(),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[Object.keys(e.user.fleet[2].units).length>0?s("div",[s("span",{staticClass:"gn-user-label"},[e._v("Flotte 2:")]),e._l(e.user.fleet[2].units,(function(t,r){return s("span",{key:r,staticClass:"gn-user-ship"},[e._v(e._s(e.displayShip(r,t)))])}))],2):e._e()])],1),0!=e.type&&Object.keys(e.user.fleet[2].units).length>0?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[s("gn-user-fleet-settings",{attrs:{user:e.user,fleet:2}})],1)],1):e._e()],1)])],1)},X=[],W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",{attrs:{tile:""}},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[e._v("Flotte editieren")]),s("v-spacer"),s("v-toolbar-items",[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.submit()}}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1),s("v-card-text",[s("v-row",{staticClass:"mt-5"},[s("v-col",[s("v-row",[s("v-col",[s("v-btn-toggle",{attrs:{color:"primary",tile:"",mandatory:""},model:{value:e.user.type,callback:function(t){e.$set(e.user,"type",t)},expression:"user.type"}},[s("v-btn",[s("v-icon",{attrs:{color:"green"}},[e._v("mdi-shield-home")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Ziel")])],1),s("v-btn",{on:{click:function(t){return e.setDuration(20)}}},[s("v-icon",{attrs:{color:"green"}},[e._v("mdi-shield")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Verteidiger")])],1),s("v-btn",{on:{click:function(t){return e.setDuration(5)}}},[s("v-icon",{attrs:{color:"red"}},[e._v("mdi-sword-cross")]),s("span",{staticClass:"d-none d-sm-flex"},[e._v("Angreifer")])],1)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Orbit")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.user.fleet[0].units[t.ID],callback:function(s){e.$set(e.user.fleet[0].units,t.ID,s)},expression:"user.fleet[0].units[unit.ID]"}})})),e._l(e.ORB,(function(t){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==e.user.type,expression:"user.type == 0"}],key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.user.orb[t.ID],callback:function(s){e.$set(e.user.orb,t.ID,s)},expression:"user.orb[orb.ID]"}})})),e._l(e.EXEN,(function(t){return s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==e.user.type,expression:"user.type == 0"}],key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.user.exen[t.ID],callback:function(s){e.$set(e.user.exen,t.ID,s)},expression:"user.exen[exe.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Flotte 1")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.user.fleet[1].units[t.ID],callback:function(s){e.$set(e.user.fleet[1].units,t.ID,s)},expression:"user.fleet[1].units[unit.ID]"}})}))],2),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h1",{staticClass:"mb-3"},[e._v("Flotte 2")]),e._l(e.UNITS,(function(t){return s("v-text-field",{key:t.ID,staticClass:"mb-1",attrs:{label:t.NAME,dense:"",outlined:"","hide-details":"",type:"Number",min:"0"},model:{value:e.user.fleet[2].units[t.ID],callback:function(s){e.$set(e.user.fleet[2].units,t.ID,s)},expression:"user.fleet[2].units[unit.ID]"}})}))],2)],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-btn",{attrs:{color:"primary",block:"",text:""},on:{click:e.submit}},[e._v("Schließen")])],1)],1)],1)],1)],1)},Q=[],Y={name:"GnEditFleet",props:{value:Object,show:{type:Boolean,default:!1},close:{type:Function,default:function(){}}},data:function(){return{dialog:!1}},watch:{show(e){e&&(this.dialog=!0),e||(this.dialog=!1)}},computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7},user:{get(){return this.value},set(e){this.$emit("input",e)}}},methods:{setDuration:function(e){this.user.fleet[1].duration=e,this.user.fleet[2].duration=e},clean:function(e){for(let t=0;t<3;t++)Object.keys(e.fleet[t].units).forEach((s=>(0==e.fleet[t].units[s]||""==e.fleet[t].units[s])&&delete e.fleet[t].units[s])),Object.keys(e.fleet[t].units).forEach((s=>e.fleet[t].units[s]=parseInt(e.fleet[t].units[s])));return Object.keys(e.orb).forEach((t=>(0==e.orb[t]||""==e.orb[t])&&delete e.orb[t])),Object.keys(e.orb).forEach((t=>e.orb[t]=parseInt(e.orb[t]))),e},submit:function(){0==this.user.id.length&&(this.user.id=Date.now()),this.user=this.clean(this.user),this.close()}}},ee=Y,te=(0,h.Z)(ee,W,Q,!1,null,null,null),se=te.exports;v()(te,{VBtn:B.Z,VBtnToggle:U.Z,VCard:m.Z,VCardActions:p.h7,VCardText:p.ZB,VCol:b.Z,VDialog:L.Z,VDivider:y.Z,VIcon:P.Z,VRow:k.Z,VSpacer:F.Z,VTextField:$.Z,VToolbar:K.Z,VToolbarItems:G.lj,VToolbarTitle:G.qW});var re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"gn-user-fleet-settings"},[s("span",{staticClass:"gn-user-fleet-settings-delay"},[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-icon",e._g(e._b({attrs:{small:""}},"v-icon",a,!1),r),[e._v("mdi-clock-start")])]}}])},[s("span",[e._v("Startverzögerung in Ticks")])]),s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.delay,expression:"delay"}],staticClass:"gn-user-fleet-settings-select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.delay=t.target.multiple?s:s[0]}}},e._l(21,(function(t,r){return s("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])})),0)])],1),s("span",{staticClass:"gn-user-fleet-settings-duration"},[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-icon",e._g(e._b({attrs:{small:""}},"v-icon",a,!1),r),[e._v("mdi-clock-time-three-outline")])]}}])},[s("span",[e._v("Aufenthaltszeit in Ticks")])]),s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.duration,expression:"duration"}],staticClass:"gn-user-fleet-settings-select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.duration=t.target.multiple?s:s[0]}}},e._l(20,(function(t){return s("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)])],1)])},ae=[],ne={name:"GnUserFleetSettings",components:{},props:{user:function(){return{type:Object,default:{}}},fleet:function(){return{type:Number,default:1}}},computed:{duration:{set(e){this.$root.$emit("selectDuration",this.user.id,this.fleet,e)},get(){return this.user.fleet[this.fleet].duration}},delay:{set(e){this.$root.$emit("selectDelay",this.user.id,this.fleet,e)},get(){return this.user.fleet[this.fleet].delay}}},methods:{format(e){return Number(e).toLocaleString()},displayShip:function(e,t){return" "+this.format(t)+" "+this.UNITS[e].SHORT}}},oe=ne,le=s(7337),ie=(0,h.Z)(oe,re,ae,!1,null,null,null),ce=ie.exports;v()(ie,{VIcon:P.Z,VTooltip:le.Z});var ue={name:"GnUser",components:{GnUserFleetSettings:ce,GnEditFleet:se},props:{value:Object,type:function(){return{type:Number,default:2}},deleteUser:{type:Function,default:function(){}}},data:function(){return{showEdit:!1}},computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7},user:{get(){return this.value},set(e){this.$emit("input",e)}},getUserName:function(){let e="";return e=this.user.name?this.user.name:this.user.id+"",this.user.galaxy&&(e+=" ("+this.user.galaxy+":"+this.user.nr+")"),e=e.substring(0,16),e}},methods:{format(e){return Number(e).toLocaleString()},displayShip:function(e,t){return" "+this.format(t)+" "+this.UNITS[e].SHORT},displayOrb:function(e,t){return" "+this.format(t)+" "+this.ORB[e].SHORT},displayExen:function(e,t){return" "+this.format(t)+" "+this.EXEN[e].SHORT},changeType(){this.$root.$emit("changeType",this.user.id,this.type)},closeEdit:function(){this.showEdit=!1}}},fe=ue,de=(0,h.Z)(fe,J,X,!1,null,null,null),he=de.exports;v()(de,{VCol:b.Z,VIcon:P.Z,VRow:k.Z,VSpacer:F.Z});var ge=s(9669),ve=s.n(ge),me={name:"App",components:{GnCombatResults:R,GnAddFleet:q,GnUser:he},data:()=>({user:"",users:[],ticks:5,results:[]}),computed:{UNITS:function(){return u.uo},ORB:function(){return u.nd},EXEN:function(){return u.e7}},methods:{getNewRequestObj:function(e=0){return{data:{type:"combats",attributes:{target:{fleets:[],extractors:{metal:0,crystal:0}},attackers:[],defenders:[],config:{mode:e}}}}},getNewTargetObj:function(e){return{name:""+e,fleets:[],extractors:{metal:0,crystal:0}}},getNewUserObj:function(e){return{name:""+e,fleets:[]}},addUser:function(e){this.users.push(e)},deleteUser:function(e){let t=this.users.findIndex((t=>t.id==e.id));this.users.splice(t,1)},getUserByID:function(e){return this.users.find((t=>t.id==e))},getCombatMode:function(e){let t=0;return e&&Object.keys(e.units).forEach((e=>{u.nd[e]&&u.nd[e].PRETICKS&&u.nd[e].PRETICKS>t&&(t=u.nd[e].PRETICKS)})),t},updateUsers:function(e,t){if(t&&t.data.attributes.attackers&&t.data.attributes.attackers.forEach((t=>{let s=e.findIndex((e=>e.id==t.name));s>-1&&t.fleets.after.forEach((t=>{Object.keys(e[s].fleet).forEach((r=>{r==t.name&&(e[s].fleet[r].units=t.units)}))}))})),t&&t.data.attributes.target){let s=e.findIndex((e=>e.id==t.data.attributes.target.name));if(s>-1){let r=e[s],a=t.data.attributes.target,n={id:r.id,name:r.name,type:r.type,exen:{},orb:{},fleet:{0:{},1:{},2:{}}};Object.keys(u.e7).forEach((e=>{n.exen[e]=a.extractors.after[e]})),t.data.attributes.target.fleets.after.forEach((e=>{let t=r.fleet[e.name],s={units:{},delay:t.delay,duration:t.duration};Object.keys(e.units).forEach((t=>{u.nd[t]?n.orb[t]=e.units[t]:s.units[t]=e.units[t]})),n.fleet[e.name]=s})),e[s]=n}}},getPreTickUsers:function(e,t){let s=this,r={target:void 0,attackers:[],defenders:[]};return e.forEach((function(e){switch(e.type){case 0:let a=s.getNewTargetObj(e.id);Object.keys(u.e7).forEach((t=>{a.extractors[t]=e.exen[t]?parseInt(e.exen[t]):0}));for(let t=0;t<=2;t++){let s={name:""+t,units:0==t?{...e.fleet[t].units,...e.orb}:{...e.fleet[t].units}};Object.keys(s.units).length>0&&a.fleets.push(s)}r.target=a;break;case 1:break;case 2:let n=s.getNewUserObj(e.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...e.fleet[s].units},calculateCarrierCapacityLosses:e.fleet[s].delay+e.fleet[s].duration==t+1};e.fleet[s].delay==t&&Object.keys(r.units).length>0&&n.fleets.push(r)}n.fleets.length>0&&r.attackers.push(n);break}})),r},getNewUsers:function(e,t){let s=this,r={target:void 0,attackers:[],defenders:[]};return e.forEach((function(e){switch(e.type){case 0:if(0==t){let t=s.getNewTargetObj(e.id);Object.keys(u.e7).forEach((s=>{t.extractors[s]=e.exen[s]?parseInt(e.exen[s]):0}));for(let s=0;s<=2;s++){let r={name:""+s,units:0==s?{...e.fleet[s].units,...e.orb}:{...e.fleet[s].units}};Object.keys(r.units).length>0&&t.fleets.push(r)}r.target=t}break;case 1:let a=s.getNewUserObj(e.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...e.fleet[s].units},calculateCarrierCapacityLosses:e.fleet[s].delay+e.fleet[s].duration==t+1};e.fleet[s].delay==t&&Object.keys(r.units).length>0&&a.fleets.push(r)}a.fleets.length>0&&r.defenders.push(a);break;case 2:let n=s.getNewUserObj(e.id);for(let s=0;s<=2;s++){let r={name:""+s,units:{...e.fleet[s].units},calculateCarrierCapacityLosses:e.fleet[s].delay+e.fleet[s].duration==t+1};e.fleet[s].delay==t&&Object.keys(r.units).length>0&&n.fleets.push(r)}n.fleets.length>0&&r.attackers.push(n);break}})),r},getNextPreTickRequest:function(e,t){let s=this.getNewRequestObj(t);return s.data.attributes.target=e.target,s.data.attributes.attackers=s.data.attributes.attackers.concat(e.attackers),s},getNextRequest:function(e,t,s,r){let a=this,n=this.getNewRequestObj(r);if(s.target&&!e&&(n.data.attributes.target=s.target),n.data.attributes.defenders=s.defenders,n.data.attributes.attackers=s.attackers,e){let r=e.data.attributes;r.target&&(n.data.attributes.target.name=r.target.name,r.target.fleets.after.forEach((e=>{n.data.attributes.target.fleets.push({name:e.name,units:e.units})})),Object.keys(u.e7).forEach((e=>{n.data.attributes.target.extractors[e]=r.target.extractors.after[e]}))),r.defenders&&r.defenders.forEach((e=>{let s=this.getNewUserObj(e.name);e.fleets.after.forEach((r=>{let n=a.getUserByID(e.name),o=n.fleet[r.name].delay+n.fleet[r.name].duration;t!=o&&n.fleet[r.name].delay+n.fleet[r.name].duration>t&&s.fleets.push({name:r.name,units:{...r.units},calculateCarrierCapacityLosses:n.fleet[r.name].delay+n.fleet[r.name].duration==t+1})})),s.fleets.length>0&&n.data.attributes.defenders.push(s)})),r.attackers&&r.attackers.forEach((e=>{let r=s.attackers.findIndex((t=>t.name==e.name)),o=this.getNewUserObj(e.name);e.fleets.after.forEach((n=>{let l=-1;if(r>-1&&(l=s.attackers[r].fleets.findIndex((e=>e.name==n.name))),l>-1)return;let i=a.getUserByID(e.name),c=i.fleet[n.name].delay+i.fleet[n.name].duration;t!=c&&i.fleet[n.name].delay+i.fleet[n.name].duration>t&&o.fleets.push({name:n.name,units:{...n.units},calculateCarrierCapacityLosses:i.fleet[n.name].delay+i.fleet[n.name].duration==t+1})})),o.fleets.length>0&&n.data.attributes.attackers.push(o)}))}return n},simulate:async function(){let e,t,s,r={headers:{Accept:"application/vnd.api+json;version=1.0","Content-Type":"application/json"}},a=JSON.parse(JSON.stringify(this.users)),n=this.getNewUsers(a,0),o=this.getCombatMode(n.target.fleets[0]);this.results=[];for(let i=-2;i<this.ticks;i++)try{let n=this.getNewUsers(a,i);e&&(o=this.getCombatMode(e.data.attributes.target.fleets.after[0])),o>1&&(n=this.getPreTickUsers(a,i+2),n.attackers.length>0&&(t=this.getNextPreTickRequest(n,2),s=await ve().post("https://galactic-conquest.de/api/combats",t,r),this.updateUsers(a,s.data),this.results.push({tick:i+1,request:t,response:s.data,mode:2}))),o>0&&(n=this.getPreTickUsers(a,i+1),n.attackers.length>0&&(t=this.getNextPreTickRequest(n,1),s=await ve().post("https://galactic-conquest.de/api/combats",t,r),this.updateUsers(a,s.data),this.results.push({tick:i+1,request:t,response:s.data,mode:1}))),(n.target||n.defenders.length>0||n.attackers.length>0||e)&&i>=0&&(t=this.getNextRequest(e,i,n,0),s=await ve().post("https://galactic-conquest.de/api/combats",t,r),e=s.data,this.updateUsers(a,s.data),this.results.push({tick:i+1,request:t,response:e,mode:0}))}catch(l){console.warn(l)}}},mounted:function(){let e=this;this.$root.$on("selectDuration",((t,s,r)=>{let a=e.users.find((e=>e.id==t));a.fleet[s].duration=r})),this.$root.$on("selectDelay",((t,s,r)=>{let a=e.users.find((e=>e.id==t));a.fleet[s].delay=r})),this.$root.$on("changeType",((t,s)=>{let r=s;switch(s){case 0:r=1;break;case 1:r=2;break;case 2:r=0;break;default:break}let a=e.users.find((e=>e.id==t));a&&(a.type=r)}))}},pe=me,be=s(303),ye=s(1819),ke=s(927),_e=(0,h.Z)(pe,a,n,!1,null,null,null),Ee=_e.exports;v()(_e,{VApp:be.Z,VBtn:B.Z,VCol:b.Z,VContainer:ye.Z,VDivider:y.Z,VMain:ke.Z,VRow:k.Z,VTextField:$.Z});var xe=s(5205);(0,xe.z)("/GN-Tools-Site/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Se=s(6482);r.Z.use(Se.Z);var De=new Se.Z({});r.Z.config.productionTip=!1,new r.Z({vuetify:De,render:function(e){return e(Ee)}}).$mount("#app")}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,n){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],n=e[u][2];for(var l=!0,i=0;i<r.length;i++)(!1&n||o>=n)&&Object.keys(s.O).every((function(e){return s.O[e](r[i])}))?r.splice(i--,1):(l=!1,n<o&&(o=n));if(l){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,n,o=r[0],l=r[1],i=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(i)var u=i(s)}for(t&&t(r);c<o.length;c++)n=o[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},r=self["webpackChunkgnsimulator"]=self["webpackChunkgnsimulator"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(5301)}));r=s.O(r)})();
//# sourceMappingURL=app-legacy.d33c73dc.js.map